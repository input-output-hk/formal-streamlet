<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Protocol.Streamlet.Local.Chain</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="Agda.css" />
</head>
<body>
<h1 id="chains">Chains</h1>
<!--
<pre class="Agda"><a id="25" class="Symbol">{-#</a> <a id="29" class="Keyword">OPTIONS</a> <a id="37" class="Pragma">--safe</a> <a id="44" class="Symbol">#-}</a>
<a id="48" class="Keyword">open</a> <a id="53" class="Keyword">import</a> <a id="60" href="Prelude.html" class="Module">Prelude</a>
<a id="68" class="Keyword">open</a> <a id="73" class="Keyword">import</a> <a id="80" href="Hash.html" class="Module">Hash</a>

<a id="86" class="Keyword">open</a> <a id="91" class="Keyword">import</a> <a id="98" href="Protocol.Streamlet.Base.html" class="Module">Protocol.Streamlet.Base</a>
<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Protocol.Streamlet.Assumptions.html" class="Module">Protocol.Streamlet.Assumptions</a>

<a id="166" class="Keyword">module</a> <a id="173" href="Protocol.Streamlet.Local.Chain.html" class="Module">Protocol.Streamlet.Local.Chain</a> <a id="204" class="Symbol">(</a><a id="205" href="Protocol.Streamlet.Local.Chain.html#205" class="Bound">⋯</a> <a id="207" class="Symbol">:</a> <a id="209" class="Symbol">_)</a> <a id="212" class="Symbol">(</a><a id="213" class="Keyword">open</a> <a id="218" href="Protocol.Streamlet.Assumptions.html#222" class="Module">Assumptions</a> <a id="230" href="Protocol.Streamlet.Local.Chain.html#205" class="Bound">⋯</a><a id="231" class="Symbol">)</a> <a id="233" class="Keyword">where</a>

<a id="240" class="Keyword">open</a> <a id="245" class="Keyword">import</a> <a id="252" href="Protocol.Streamlet.Block.html" class="Module">Protocol.Streamlet.Block</a> <a id="277" href="Protocol.Streamlet.Local.Chain.html#205" class="Bound">⋯</a>

<a id="280" class="Comment">-- exporting here because cannot declare in `Assumptions` record</a>
<a id="345" class="Comment">-- * ERROR: Cannot use generalized variable from let-opened module: ⋯</a>
<a id="415" class="Keyword">variable</a>
  <a id="426" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="428" href="Protocol.Streamlet.Local.Chain.html#428" class="Generalizable">p′</a> <a id="431" class="Symbol">:</a> <a id="433" href="Protocol.Streamlet.Assumptions.html#512" class="Function">Pid</a>
  <a id="439" href="Protocol.Streamlet.Local.Chain.html#439" class="Generalizable">txs</a> <a id="443" href="Protocol.Streamlet.Local.Chain.html#443" class="Generalizable">txs′</a> <a id="448" class="Symbol">:</a> <a id="450" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="455" href="Protocol.Streamlet.Assumptions.html#1350" class="Field">Transaction</a>
</pre>-->
<p>A chain is simply a sequence of blocks.</p>
<pre class="Agda"><a id="Chain"></a><a id="525" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a> <a id="531" class="Symbol">=</a> <a id="533" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="538" href="Protocol.Streamlet.Block.html#257" class="Record">Block</a>
</pre>
<!--
<pre class="Agda"><a id="561" class="Keyword">variable</a> <a id="570" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="573" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a> <a id="577" class="Symbol">:</a> <a id="579" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a>
</pre>-->
<p>The genesis block is just the start of any chain, so it’s simpler to
consider any empty chain to consist of just the genesis block.</p>
<pre class="Agda"><a id="genesisChain"></a><a id="736" href="Protocol.Streamlet.Local.Chain.html#736" class="Function">genesisChain</a> <a id="749" class="Symbol">=</a> <a id="751" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a> <a id="757" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="759" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="763" class="Keyword">instance</a> <a id="HasEpoch-Chain"></a><a id="772" href="Protocol.Streamlet.Local.Chain.html#772" class="Function">HasEpoch-Chain</a> <a id="787" class="Symbol">=</a> <a id="789" href="Protocol.Streamlet.Block.html#2150" class="Record">HasEpoch</a> <a id="798" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a> <a id="804" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="806" class="Symbol">λ</a> <a id="808" class="Keyword">where</a> <a id="814" class="Symbol">.</a><a id="815" href="Protocol.Streamlet.Block.html#2191" class="Field Operator">_∙epoch</a> <a id="823" class="Symbol">→</a> <a id="825" class="Symbol">λ</a> <a id="827" class="Keyword">where</a>
  <a id="835" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>      <a id="843" class="Symbol">→</a> <a id="845" class="Number">0</a>
  <a id="849" class="Symbol">(</a><a id="850" href="Protocol.Streamlet.Local.Chain.html#850" class="Bound">b</a> <a id="852" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="854" class="Symbol">_)</a> <a id="857" class="Symbol">→</a> <a id="859" href="Protocol.Streamlet.Local.Chain.html#850" class="Bound">b</a> <a id="861" class="Symbol">.</a><a id="862" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
</pre>
<p>Not all chains are valid though: each subsequent block must reference
the latest block <em>by hash</em> and cannot decrease the epoch
number.</p>
<pre class="Agda"><a id="1017" class="Keyword">record</a> <a id="_-connects-to-_"></a><a id="1024" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">_-connects-to-_</a> <a id="1040" class="Symbol">(</a><a id="1041" href="Protocol.Streamlet.Local.Chain.html#1041" class="Bound">b</a> <a id="1043" class="Symbol">:</a> <a id="1045" href="Protocol.Streamlet.Block.html#257" class="Record">Block</a><a id="1050" class="Symbol">)</a> <a id="1052" class="Symbol">(</a><a id="1053" href="Protocol.Streamlet.Local.Chain.html#1053" class="Bound">ch</a> <a id="1056" class="Symbol">:</a> <a id="1058" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a><a id="1063" class="Symbol">)</a> <a id="1065" class="Symbol">:</a> <a id="1067" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1072" class="Keyword">where</a>
  <a id="1080" class="Keyword">constructor</a> <a id="connects∶"></a><a id="1092" href="Protocol.Streamlet.Local.Chain.html#1092" class="InductiveConstructor">connects∶</a>
  <a id="1104" class="Keyword">field</a> <a id="_-connects-to-_.hashesMatch"></a><a id="1110" href="Protocol.Streamlet.Local.Chain.html#1110" class="Field">hashesMatch</a>   <a id="1124" class="Symbol">:</a> <a id="1126" href="Protocol.Streamlet.Local.Chain.html#1041" class="Bound">b</a> <a id="1128" class="Symbol">.</a><a id="1129" href="Protocol.Streamlet.Block.html#306" class="Field">parentHash</a> <a id="1140" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1142" href="Protocol.Streamlet.Local.Chain.html#1053" class="Bound">ch</a> <a id="1145" href="Hash.html#366" class="Field Operator">♯</a>
        <a id="_-connects-to-_.epochAdvances"></a><a id="1155" href="Protocol.Streamlet.Local.Chain.html#1155" class="Field">epochAdvances</a> <a id="1169" class="Symbol">:</a> <a id="1171" href="Protocol.Streamlet.Local.Chain.html#1041" class="Bound">b</a> <a id="1173" class="Symbol">.</a><a id="1174" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="1180" href="Data.Nat.Base.html#2289" class="Function Operator">&gt;</a> <a id="1182" href="Protocol.Streamlet.Local.Chain.html#1053" class="Bound">ch</a> <a id="1185" href="Protocol.Streamlet.Block.html#2191" class="Field Operator">∙epoch</a>

<a id="1193" class="Keyword">data</a> <a id="ValidChain"></a><a id="1198" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1209" class="Symbol">:</a> <a id="1211" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a> <a id="1217" class="Symbol">→</a> <a id="1219" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1224" class="Keyword">where</a>
  <a id="ValidChain.[]"></a><a id="1232" href="Protocol.Streamlet.Local.Chain.html#1232" class="InductiveConstructor">[]</a> <a id="1235" class="Symbol">:</a>
      <a id="1243" href="Prelude.InferenceRules.html#46310" class="Function Operator">───────────────────────</a>
      <a id="1273" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1284" href="Protocol.Streamlet.Local.Chain.html#736" class="Function">genesisChain</a>

  <a id="ValidChain._∷_⊣_"></a><a id="1300" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">_∷_⊣_</a> <a id="1306" class="Symbol">:</a>
    <a id="1312" class="Symbol">∀</a> <a id="1314" href="Protocol.Streamlet.Local.Chain.html#1314" class="Bound">b</a> <a id="1316" class="Symbol">→</a>
    <a id="1322" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="1324" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1335" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="1342" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="1344" href="Protocol.Streamlet.Local.Chain.html#1314" class="Bound">b</a> <a id="1346" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="1360" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
      <a id="1369" href="Prelude.InferenceRules.html#14094" class="Function Operator">────────────────────</a>
      <a id="1396" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1407" class="Symbol">(</a><a id="1408" href="Protocol.Streamlet.Local.Chain.html#1314" class="Bound">b</a> <a id="1410" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1412" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="1414" class="Symbol">)</a>
</pre>
<!--
<pre class="Agda"><a id="1433" class="Keyword">open</a> <a id="1438" href="Protocol.Streamlet.Local.Chain.html#1024" class="Module Operator">_-connects-to-_</a> <a id="1454" class="Keyword">public</a>

<a id="1462" class="Keyword">variable</a> <a id="1471" href="Protocol.Streamlet.Local.Chain.html#1471" class="Generalizable">vch</a> <a id="1475" href="Protocol.Streamlet.Local.Chain.html#1475" class="Generalizable">vch′</a> <a id="1480" class="Symbol">:</a> <a id="1482" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1493" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>

<a id="uncons-vc"></a><a id="1497" href="Protocol.Streamlet.Local.Chain.html#1497" class="Function">uncons-vc</a> <a id="1507" class="Symbol">:</a> <a id="1509" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1520" class="Symbol">(</a><a id="1521" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="1523" class="InductiveConstructor Operator">∷</a> <a id="1525" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="1527" class="Symbol">)</a> <a id="1529" class="Symbol">→</a> <a id="1531" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1542" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
<a id="1545" href="Protocol.Streamlet.Local.Chain.html#1497" class="Function">uncons-vc</a> <a id="1555" class="Symbol">(_</a> <a id="1558" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="1560" href="Protocol.Streamlet.Local.Chain.html#1560" class="Bound">p</a> <a id="1562" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="1564" class="Symbol">_)</a> <a id="1567" class="Symbol">=</a> <a id="1569" href="Protocol.Streamlet.Local.Chain.html#1560" class="Bound">p</a>

<a id="1572" class="Keyword">module</a> <a id="1579" class="Symbol">@</a><a id="1580" class="Symbol">0</a> <a id="1582" href="Protocol.Streamlet.Local.Chain.html#1582" class="Module">_</a> <a id="1584" class="Keyword">where</a>
  <a id="1592" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="1605" class="Symbol">:</a>
    <a id="1611" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="1613" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="1615" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="1629" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="1636" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="1638" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="1640" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="1654" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a>
      <a id="1664" href="Prelude.InferenceRules.html#14068" class="Function Operator">─────────────────────</a>
      <a id="1692" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1695" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1697" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a>
  <a id="1703" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="1716" class="Symbol">{</a><a id="1717" class="Argument">ch</a> <a id="1720" class="Symbol">=</a> <a id="1722" href="Protocol.Streamlet.Local.Chain.html#1722" class="Bound">ch</a><a id="1724" class="Symbol">}</a> <a id="1726" class="Symbol">{</a><a id="1727" class="Argument">ch′</a> <a id="1731" class="Symbol">=</a> <a id="1733" href="Protocol.Streamlet.Local.Chain.html#1733" class="Bound">ch′</a><a id="1736" class="Symbol">}</a> <a id="1738" href="Protocol.Streamlet.Local.Chain.html#1738" class="Bound">b↝</a> <a id="1741" href="Protocol.Streamlet.Local.Chain.html#1741" class="Bound">b↝′</a> <a id="1745" class="Symbol">=</a> <a id="1747" href="Hash.html#387" class="Field">♯-inj</a> <a id="1753" href="Protocol.Streamlet.Local.Chain.html#1772" class="Function">ch♯≡</a>
    <a id="1762" class="Keyword">where</a>
    <a id="1772" href="Protocol.Streamlet.Local.Chain.html#1772" class="Function">ch♯≡</a> <a id="1777" class="Symbol">:</a> <a id="1779" href="Protocol.Streamlet.Local.Chain.html#1722" class="Bound">ch</a> <a id="1782" href="Hash.html#366" class="Field Operator">♯</a> <a id="1784" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1786" href="Protocol.Streamlet.Local.Chain.html#1733" class="Bound">ch′</a> <a id="1790" href="Hash.html#366" class="Field Operator">♯</a>
    <a id="1796" href="Protocol.Streamlet.Local.Chain.html#1772" class="Function">ch♯≡</a> <a id="1801" class="Symbol">=</a> <a id="1803" href="Relation.Binary.PropositionalEquality.Core.html#1757" class="Function">trans</a> <a id="1809" class="Symbol">(</a><a id="1810" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="1814" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1816" href="Protocol.Streamlet.Local.Chain.html#1738" class="Bound">b↝</a> <a id="1819" class="Symbol">.</a><a id="1820" href="Protocol.Streamlet.Local.Chain.html#1110" class="Field">hashesMatch</a><a id="1831" class="Symbol">)</a> <a id="1833" class="Symbol">(</a><a id="1834" href="Protocol.Streamlet.Local.Chain.html#1741" class="Bound">b↝′</a> <a id="1838" class="Symbol">.</a><a id="1839" href="Protocol.Streamlet.Local.Chain.html#1110" class="Field">hashesMatch</a><a id="1850" class="Symbol">)</a>

  <a id="1855" href="Protocol.Streamlet.Local.Chain.html#1855" class="Function">b≡→ch≡</a> <a id="1862" class="Symbol">:</a>
    <a id="1868" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="1870" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1881" class="Symbol">(</a><a id="1882" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a>  <a id="1885" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1887" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="1889" class="Symbol">)</a>
    <a id="1895" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="1897" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a> <a id="1912" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1914" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a><a id="1917" class="Symbol">)</a>
    <a id="1923" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="1925" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="1927" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1929" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a>
      <a id="1938" href="Prelude.InferenceRules.html#14068" class="Function Operator">─────────────────────</a>
      <a id="1966" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1969" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1971" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a>
  <a id="1977" href="Protocol.Streamlet.Local.Chain.html#1855" class="Function">b≡→ch≡</a> <a id="1984" class="Symbol">(_</a> <a id="1987" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="1989" class="Symbol">_</a> <a id="1991" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="1993" href="Protocol.Streamlet.Local.Chain.html#1993" class="Bound">b↝</a><a id="1995" class="Symbol">)</a> <a id="1997" class="Symbol">(_</a> <a id="2000" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="2002" class="Symbol">_</a> <a id="2004" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="2006" href="Protocol.Streamlet.Local.Chain.html#2006" class="Bound">b↝′</a><a id="2009" class="Symbol">)</a> <a id="2011" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2016" class="Symbol">=</a> <a id="2018" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="2031" href="Protocol.Streamlet.Local.Chain.html#1993" class="Bound">b↝</a> <a id="2034" href="Protocol.Streamlet.Local.Chain.html#2006" class="Bound">b↝′</a>

  <a id="2041" href="Protocol.Streamlet.Local.Chain.html#2041" class="Function">ch≢→b≢</a> <a id="2048" class="Symbol">:</a>
    <a id="2054" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="2056" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="2067" class="Symbol">(</a><a id="2068" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a>  <a id="2071" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2073" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="2075" class="Symbol">)</a>
    <a id="2081" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2083" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a> <a id="2098" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2100" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a><a id="2103" class="Symbol">)</a>
    <a id="2109" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2111" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="2114" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2116" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a>
      <a id="2126" href="Prelude.InferenceRules.html#14068" class="Function Operator">─────────────────────</a>
      <a id="2154" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="2156" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2158" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a>
  <a id="2163" href="Protocol.Streamlet.Local.Chain.html#2041" class="Function">ch≢→b≢</a> <a id="2170" href="Protocol.Streamlet.Local.Chain.html#2170" class="Bound">vch</a> <a id="2174" href="Protocol.Streamlet.Local.Chain.html#2174" class="Bound">vch′</a> <a id="2179" class="Symbol">=</a> <a id="2181" href="Function.Base.html#1115" class="Function Operator">_∘</a> <a id="2184" href="Protocol.Streamlet.Local.Chain.html#1855" class="Function">b≡→ch≡</a> <a id="2191" href="Protocol.Streamlet.Local.Chain.html#2170" class="Bound">vch</a> <a id="2195" href="Protocol.Streamlet.Local.Chain.html#2174" class="Bound">vch′</a>

  <a id="2203" href="Protocol.Streamlet.Local.Chain.html#2203" class="Function">∣ch∣≢→b≢</a> <a id="2212" class="Symbol">:</a>
    <a id="2218" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="2220" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="2231" class="Symbol">(</a><a id="2232" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a>  <a id="2235" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2237" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="2239" class="Symbol">)</a>
    <a id="2245" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2247" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="2258" class="Symbol">(</a><a id="2259" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a> <a id="2262" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2264" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a><a id="2267" class="Symbol">)</a>
    <a id="2273" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2275" href="Data.List.Base.html#5083" class="Function">length</a> <a id="2282" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="2285" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2287" href="Data.List.Base.html#5083" class="Function">length</a> <a id="2294" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a>
      <a id="2304" href="Prelude.InferenceRules.html#14068" class="Function Operator">─────────────────────</a>
      <a id="2332" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="2334" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2336" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a>
  <a id="2341" href="Protocol.Streamlet.Local.Chain.html#2203" class="Function">∣ch∣≢→b≢</a> <a id="2350" href="Protocol.Streamlet.Local.Chain.html#2350" class="Bound">vch</a> <a id="2354" href="Protocol.Streamlet.Local.Chain.html#2354" class="Bound">vch′</a> <a id="2359" href="Protocol.Streamlet.Local.Chain.html#2359" class="Bound">len≢</a> <a id="2364" class="Symbol">=</a> <a id="2366" href="Protocol.Streamlet.Local.Chain.html#2041" class="Function">ch≢→b≢</a> <a id="2373" href="Protocol.Streamlet.Local.Chain.html#2350" class="Bound">vch</a> <a id="2377" href="Protocol.Streamlet.Local.Chain.html#2354" class="Bound">vch′</a> <a id="2382" class="Symbol">λ</a> <a id="2384" class="Keyword">where</a> <a id="2390" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2395" class="Symbol">→</a> <a id="2397" href="Protocol.Streamlet.Local.Chain.html#2359" class="Bound">len≢</a> <a id="2402" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="2410" class="Comment">-- chainLen≤epoch :</a>
  <a id="2432" class="Comment">--   ValidChain ch</a>
  <a id="2453" class="Comment">--   ─────────────────────</a>
  <a id="2482" class="Comment">--   ch ∙epoch ≥ length ch</a>

  <a id="2512" href="Protocol.Streamlet.Local.Chain.html#2512" class="Function">advancingEpochs</a> <a id="2528" class="Symbol">:</a>
    <a id="2534" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="2545" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="2552" href="Prelude.InferenceRules.html#13599" class="Function Operator">───────────────────────────────────</a>
    <a id="2592" href="Prelude.Allable.html#210" class="Field">All</a> <a id="2596" class="Symbol">(λ</a> <a id="2599" href="Protocol.Streamlet.Local.Chain.html#2599" class="Bound">b</a> <a id="2601" class="Symbol">→</a> <a id="2603" href="Protocol.Streamlet.Local.Chain.html#2599" class="Bound">b</a> <a id="2605" class="Symbol">.</a><a id="2606" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2612" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="2614" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="2617" href="Protocol.Streamlet.Block.html#2191" class="Field Operator">∙epoch</a><a id="2623" class="Symbol">)</a> <a id="2625" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
  <a id="2630" href="Protocol.Streamlet.Local.Chain.html#2512" class="Function">advancingEpochs</a> <a id="2646" href="Protocol.Streamlet.Local.Chain.html#1232" class="InductiveConstructor">[]</a> <a id="2649" class="Symbol">=</a> <a id="2651" href="Data.List.Relation.Unary.All.html#1690" class="InductiveConstructor">[]</a>
  <a id="2656" href="Protocol.Streamlet.Local.Chain.html#2512" class="Function">advancingEpochs</a> <a id="2672" class="Symbol">{</a><a id="2673" class="Argument">ch</a> <a id="2676" class="Symbol">=</a> <a id="2678" href="Protocol.Streamlet.Local.Chain.html#2678" class="Bound">b</a> <a id="2680" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2682" href="Protocol.Streamlet.Local.Chain.html#2682" class="Bound">ch</a><a id="2684" class="Symbol">}</a> <a id="2686" class="Symbol">(</a><a id="2687" class="DottedPattern Symbol">.</a><a id="2688" href="Protocol.Streamlet.Local.Chain.html#2678" class="DottedPattern Bound">b</a> <a id="2690" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="2692" href="Protocol.Streamlet.Local.Chain.html#2692" class="Bound">vch</a> <a id="2696" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="2698" href="Protocol.Streamlet.Local.Chain.html#2698" class="Bound">b↝</a><a id="2700" class="Symbol">)</a> <a id="2702" class="Symbol">=</a>
    <a id="2708" href="Data.Nat.Properties.html#5242" class="Function">Nat.≤-refl</a> <a id="2719" href="Data.List.Relation.Unary.All.html#1707" class="InductiveConstructor Operator">∷</a> <a id="2721" href="Data.List.Relation.Unary.All.html#3121" class="Function">L.All.map</a> <a id="2731" class="Symbol">(λ</a> <a id="2734" class="Symbol">{</a><a id="2735" href="Protocol.Streamlet.Local.Chain.html#2735" class="Bound">b′</a><a id="2737" class="Symbol">}</a> <a id="2739" class="Symbol">→</a> <a id="2741" href="Protocol.Streamlet.Local.Chain.html#2787" class="Function">QED</a> <a id="2745" class="Symbol">{</a><a id="2746" href="Protocol.Streamlet.Local.Chain.html#2735" class="Bound">b′</a><a id="2748" class="Symbol">})</a> <a id="2751" class="Symbol">(</a><a id="2752" href="Protocol.Streamlet.Local.Chain.html#2512" class="Function">advancingEpochs</a> <a id="2768" href="Protocol.Streamlet.Local.Chain.html#2692" class="Bound">vch</a><a id="2771" class="Symbol">)</a>
    <a id="2777" class="Keyword">where</a>
    <a id="2787" href="Protocol.Streamlet.Local.Chain.html#2787" class="Function">QED</a> <a id="2791" class="Symbol">:</a> <a id="2793" class="Symbol">∀</a> <a id="2795" class="Symbol">{</a><a id="2796" href="Protocol.Streamlet.Local.Chain.html#2796" class="Bound">b′</a><a id="2798" class="Symbol">}</a> <a id="2800" class="Symbol">→</a> <a id="2802" href="Protocol.Streamlet.Local.Chain.html#2796" class="Bound">b′</a> <a id="2805" class="Symbol">.</a><a id="2806" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2812" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="2814" href="Protocol.Streamlet.Local.Chain.html#2682" class="Bound">ch</a> <a id="2817" href="Protocol.Streamlet.Block.html#2191" class="Field Operator">∙epoch</a> <a id="2824" class="Symbol">→</a> <a id="2826" href="Protocol.Streamlet.Local.Chain.html#2796" class="Bound">b′</a> <a id="2829" class="Symbol">.</a><a id="2830" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2836" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="2838" href="Protocol.Streamlet.Local.Chain.html#2678" class="Bound">b</a> <a id="2840" class="Symbol">.</a><a id="2841" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="2851" href="Protocol.Streamlet.Local.Chain.html#2787" class="Function">QED</a> <a id="2855" href="Protocol.Streamlet.Local.Chain.html#2855" class="Bound">b≤</a> <a id="2858" class="Symbol">=</a> <a id="2860" href="Data.Nat.Properties.html#5425" class="Function">Nat.≤-trans</a> <a id="2872" href="Protocol.Streamlet.Local.Chain.html#2855" class="Bound">b≤</a> <a id="2875" class="Symbol">(</a><a id="2876" href="Data.Nat.Properties.html#8416" class="Function">Nat.&lt;⇒≤</a> <a id="2884" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2886" href="Protocol.Streamlet.Local.Chain.html#2698" class="Bound">b↝</a> <a id="2889" class="Symbol">.</a><a id="2890" href="Protocol.Streamlet.Local.Chain.html#1155" class="Field">epochAdvances</a><a id="2903" class="Symbol">)</a>

  <a id="2908" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="2927" class="Symbol">:</a>
    <a id="2933" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="2935" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="2946" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="2953" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2955" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="2957" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="2959" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="2966" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2968" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a> <a id="2971" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="2985" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
      <a id="2994" href="Prelude.InferenceRules.html#14068" class="Function Operator">─────────────────────</a>
      <a id="3022" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="3024" class="Symbol">.</a><a id="3025" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="3031" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="3033" href="Protocol.Streamlet.Block.html#435" class="Generalizable">b′</a> <a id="3036" class="Symbol">.</a><a id="3037" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
  <a id="3045" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="3064" href="Protocol.Streamlet.Local.Chain.html#3064" class="Bound">vch</a> <a id="3068" href="Protocol.Streamlet.Local.Chain.html#3068" class="Bound">b∈</a> <a id="3071" href="Protocol.Streamlet.Local.Chain.html#3071" class="Bound">b↝</a> <a id="3074" class="Symbol">=</a>
    <a id="3080" href="Data.Nat.Properties.html#10083" class="Function">Nat.≤-&lt;-trans</a> <a id="3094" class="Symbol">(</a><a id="3095" href="Data.List.Relation.Unary.All.html#5953" class="Function">L.All.lookup</a> <a id="3108" class="Symbol">(</a><a id="3109" href="Protocol.Streamlet.Local.Chain.html#2512" class="Function">advancingEpochs</a> <a id="3125" href="Protocol.Streamlet.Local.Chain.html#3064" class="Bound">vch</a><a id="3128" class="Symbol">)</a> <a id="3130" href="Protocol.Streamlet.Local.Chain.html#3068" class="Bound">b∈</a><a id="3132" class="Symbol">)</a> <a id="3134" class="Symbol">(</a><a id="3135" href="Protocol.Streamlet.Local.Chain.html#3071" class="Bound">b↝</a> <a id="3138" class="Symbol">.</a><a id="3139" href="Protocol.Streamlet.Local.Chain.html#1155" class="Field">epochAdvances</a><a id="3152" class="Symbol">)</a>

  <a id="3157" href="Protocol.Streamlet.Local.Chain.html#3157" class="Function">connects-to∉</a> <a id="3170" class="Symbol">:</a>
    <a id="3176" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="3178" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="3189" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="3196" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="3198" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="3200" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="3214" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
      <a id="3223" href="Prelude.InferenceRules.html#14143" class="Function Operator">──────────────────</a>
      <a id="3248" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="3250" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="3252" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
  <a id="3257" href="Protocol.Streamlet.Local.Chain.html#3157" class="Function">connects-to∉</a> <a id="3270" class="Symbol">{</a><a id="3271" class="Argument">ch</a> <a id="3274" class="Symbol">=</a> <a id="3276" href="Protocol.Streamlet.Local.Chain.html#3276" class="Bound">b′</a> <a id="3279" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3281" href="Protocol.Streamlet.Local.Chain.html#3281" class="Bound">ch</a><a id="3283" class="Symbol">}{</a><a id="3285" href="Protocol.Streamlet.Local.Chain.html#3285" class="Bound">b</a><a id="3286" class="Symbol">}</a> <a id="3288" href="Protocol.Streamlet.Local.Chain.html#3288" class="Bound">vch</a> <a id="3292" href="Protocol.Streamlet.Local.Chain.html#3292" class="Bound">b↝</a> <a id="3295" href="Protocol.Streamlet.Local.Chain.html#3295" class="Bound">b∈</a> <a id="3298" class="Symbol">=</a> <a id="3300" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="3308" href="Protocol.Streamlet.Local.Chain.html#3328" class="Function">e&gt;</a> <a id="3311" href="Protocol.Streamlet.Local.Chain.html#3386" class="Function">e≤</a>
    <a id="3318" class="Keyword">where</a>
    <a id="3328" href="Protocol.Streamlet.Local.Chain.html#3328" class="Function">e&gt;</a> <a id="3331" class="Symbol">:</a> <a id="3333" href="Protocol.Streamlet.Local.Chain.html#3285" class="Bound">b</a> <a id="3335" class="Symbol">.</a><a id="3336" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="3342" href="Data.Nat.Base.html#2289" class="Function Operator">&gt;</a> <a id="3344" href="Protocol.Streamlet.Local.Chain.html#3276" class="Bound">b′</a> <a id="3347" class="Symbol">.</a><a id="3348" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="3358" href="Protocol.Streamlet.Local.Chain.html#3328" class="Function">e&gt;</a> <a id="3361" class="Symbol">=</a> <a id="3363" href="Protocol.Streamlet.Local.Chain.html#3292" class="Bound">b↝</a> <a id="3366" class="Symbol">.</a><a id="3367" href="Protocol.Streamlet.Local.Chain.html#1155" class="Field">epochAdvances</a>

    <a id="3386" href="Protocol.Streamlet.Local.Chain.html#3386" class="Function">e≤</a> <a id="3389" class="Symbol">:</a> <a id="3391" href="Protocol.Streamlet.Local.Chain.html#3285" class="Bound">b</a> <a id="3393" class="Symbol">.</a><a id="3394" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="3400" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3402" href="Protocol.Streamlet.Local.Chain.html#3276" class="Bound">b′</a> <a id="3405" class="Symbol">.</a><a id="3406" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="3416" href="Protocol.Streamlet.Local.Chain.html#3386" class="Function">e≤</a> <a id="3419" class="Symbol">=</a> <a id="3421" href="Data.List.Relation.Unary.All.html#5953" class="Function">L.All.lookup</a> <a id="3434" class="Symbol">(</a><a id="3435" href="Protocol.Streamlet.Local.Chain.html#2512" class="Function">advancingEpochs</a> <a id="3451" href="Protocol.Streamlet.Local.Chain.html#3288" class="Bound">vch</a><a id="3454" class="Symbol">)</a> <a id="3456" href="Protocol.Streamlet.Local.Chain.html#3295" class="Bound">b∈</a>

  <a id="3462" href="Protocol.Streamlet.Local.Chain.html#3462" class="Function">connect-to∈</a> <a id="3474" class="Symbol">:</a>
    <a id="3480" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="3482" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="3493" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="3500" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="3502" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="3513" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a>
    <a id="3521" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="3523" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="3525" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="3527" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
    <a id="3534" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="3536" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="3538" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="3552" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a>
      <a id="3562" href="Prelude.InferenceRules.html#14041" class="Function Operator">──────────────────────</a>
      <a id="3591" href="Data.List.Base.html#5083" class="Function">length</a> <a id="3598" href="Protocol.Streamlet.Local.Chain.html#573" class="Generalizable">ch′</a> <a id="3602" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3604" href="Data.List.Base.html#5083" class="Function">length</a> <a id="3611" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a>
  <a id="3616" href="Protocol.Streamlet.Local.Chain.html#3462" class="Function">connect-to∈</a> <a id="3628" class="Symbol">(_</a> <a id="3631" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="3633" class="Symbol">_</a> <a id="3635" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="3637" href="Protocol.Streamlet.Local.Chain.html#3637" class="Bound">b↝′</a><a id="3640" class="Symbol">)</a> <a id="3642" class="Symbol">_</a> <a id="3644" class="Symbol">(</a><a id="3645" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3650" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3654" class="Symbol">)</a> <a id="3656" href="Protocol.Streamlet.Local.Chain.html#3656" class="Bound">b↝</a>
    <a id="3663" class="Keyword">rewrite</a> <a id="3671" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="3684" href="Protocol.Streamlet.Local.Chain.html#3656" class="Bound">b↝</a> <a id="3687" href="Protocol.Streamlet.Local.Chain.html#3637" class="Bound">b↝′</a> <a id="3691" class="Symbol">=</a> <a id="3693" href="Data.Nat.Properties.html#7948" class="Function">Nat.n≤1+n</a> <a id="3703" class="Symbol">_</a>
  <a id="3707" href="Protocol.Streamlet.Local.Chain.html#3462" class="Function">connect-to∈</a> <a id="3719" class="Symbol">(_</a> <a id="3722" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="3724" href="Protocol.Streamlet.Local.Chain.html#3724" class="Bound">vch</a> <a id="3728" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="3730" class="Symbol">_)</a> <a id="3733" href="Protocol.Streamlet.Local.Chain.html#3733" class="Bound">vch′</a> <a id="3738" class="Symbol">(</a><a id="3739" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3745" href="Protocol.Streamlet.Local.Chain.html#3745" class="Bound">b∈</a><a id="3747" class="Symbol">)</a> <a id="3749" href="Protocol.Streamlet.Local.Chain.html#3749" class="Bound">b↝</a>
    <a id="3756" class="Symbol">=</a> <a id="3758" href="Data.Nat.Properties.html#7849" class="Function">Nat.m≤n⇒m≤1+n</a> <a id="3772" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3774" href="Protocol.Streamlet.Local.Chain.html#3462" class="Function">connect-to∈</a> <a id="3786" href="Protocol.Streamlet.Local.Chain.html#3724" class="Bound">vch</a> <a id="3790" href="Protocol.Streamlet.Local.Chain.html#3733" class="Bound">vch′</a> <a id="3795" href="Protocol.Streamlet.Local.Chain.html#3745" class="Bound">b∈</a> <a id="3798" href="Protocol.Streamlet.Local.Chain.html#3749" class="Bound">b↝</a>
</pre>-->
</body>
</html>

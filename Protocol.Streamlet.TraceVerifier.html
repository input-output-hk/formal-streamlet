<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Protocol.Streamlet.TraceVerifier</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">open</a> <a id="29" class="Keyword">import</a> <a id="36" href="Prelude.html" class="Module">Prelude</a>
<a id="44" class="Keyword">open</a> <a id="49" class="Keyword">import</a> <a id="56" href="Hash.html" class="Module">Hash</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Protocol.Streamlet.Assumptions.html" class="Module">Protocol.Streamlet.Assumptions</a>

<a id="106" class="Keyword">module</a> <a id="113" href="Protocol.Streamlet.TraceVerifier.html" class="Module">Protocol.Streamlet.TraceVerifier</a> <a id="146" class="Symbol">(</a><a id="147" href="Protocol.Streamlet.TraceVerifier.html#147" class="Bound">⋯</a> <a id="149" class="Symbol">:</a> <a id="151" class="Symbol">_)</a> <a id="154" class="Symbol">(</a><a id="155" class="Keyword">open</a> <a id="160" href="Protocol.Streamlet.Assumptions.html#222" class="Module">Assumptions</a> <a id="172" href="Protocol.Streamlet.TraceVerifier.html#147" class="Bound">⋯</a><a id="173" class="Symbol">)</a> <a id="175" class="Keyword">where</a>

<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Protocol.Streamlet.html" class="Module">Protocol.Streamlet</a> <a id="213" href="Protocol.Streamlet.TraceVerifier.html#147" class="Bound">⋯</a>
<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Protocol.Streamlet.Decidability.html" class="Module">Protocol.Streamlet.Decidability</a> <a id="259" href="Protocol.Streamlet.TraceVerifier.html#147" class="Bound">⋯</a>

<a id="262" class="Comment">-- * verifying a whole trace</a>

<a id="292" class="Keyword">data</a> <a id="Action"></a><a id="297" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a> <a id="304" class="Symbol">:</a> <a id="306" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="311" class="Keyword">where</a>
  <a id="Action.Propose"></a><a id="319" href="Protocol.Streamlet.TraceVerifier.html#319" class="InductiveConstructor">Propose</a> <a id="Action.Vote"></a><a id="327" href="Protocol.Streamlet.TraceVerifier.html#327" class="InductiveConstructor">Vote</a>  <a id="333" class="Symbol">:</a> <a id="335" href="Protocol.Streamlet.Assumptions.html#512" class="Function">Pid</a> <a id="339" class="Symbol">→</a> <a id="341" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a> <a id="347" class="Symbol">→</a> <a id="349" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="354" href="Protocol.Streamlet.Assumptions.html#1350" class="Field">Transaction</a> <a id="366" class="Symbol">→</a> <a id="368" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>
  <a id="Action.RegisterVote"></a><a id="377" href="Protocol.Streamlet.TraceVerifier.html#377" class="InductiveConstructor">RegisterVote</a>  <a id="391" class="Symbol">:</a> <a id="393" href="Protocol.Streamlet.Assumptions.html#512" class="Function">Pid</a> <a id="397" class="Symbol">→</a> <a id="399" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="401" class="Symbol">→</a> <a id="403" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>
  <a id="Action.FinalizeBlock"></a><a id="412" href="Protocol.Streamlet.TraceVerifier.html#412" class="InductiveConstructor">FinalizeBlock</a> <a id="426" class="Symbol">:</a> <a id="428" href="Protocol.Streamlet.Assumptions.html#512" class="Function">Pid</a> <a id="432" class="Symbol">→</a> <a id="434" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a> <a id="440" class="Symbol">→</a> <a id="442" href="Protocol.Streamlet.Block.html#257" class="Record">Block</a> <a id="448" class="Symbol">→</a> <a id="450" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>
  <a id="Action.DishonestStep"></a><a id="459" href="Protocol.Streamlet.TraceVerifier.html#459" class="InductiveConstructor">DishonestStep</a> <a id="473" class="Symbol">:</a> <a id="475" href="Protocol.Streamlet.Assumptions.html#512" class="Function">Pid</a> <a id="479" class="Symbol">→</a> <a id="481" href="Protocol.Streamlet.Message.html#298" class="Datatype">Message</a> <a id="489" class="Symbol">→</a> <a id="491" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>
  <a id="Action.Deliver"></a><a id="500" href="Protocol.Streamlet.TraceVerifier.html#500" class="InductiveConstructor">Deliver</a> <a id="Action.Drop"></a><a id="508" href="Protocol.Streamlet.TraceVerifier.html#508" class="InductiveConstructor">Drop</a>  <a id="514" class="Symbol">:</a> <a id="516" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="518" class="Symbol">→</a> <a id="520" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>
  <a id="Action.AdvanceEpoch"></a><a id="529" href="Protocol.Streamlet.TraceVerifier.html#529" class="InductiveConstructor">AdvanceEpoch</a>  <a id="543" class="Symbol">:</a> <a id="545" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>

<a id="Actions"></a><a id="553" href="Protocol.Streamlet.TraceVerifier.html#553" class="Function">Actions</a> <a id="561" class="Symbol">=</a> <a id="563" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="568" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>

<a id="576" class="Keyword">private</a> <a id="584" class="Keyword">variable</a>
  <a id="595" href="Protocol.Streamlet.TraceVerifier.html#595" class="Generalizable">α</a> <a id="597" href="Protocol.Streamlet.TraceVerifier.html#597" class="Generalizable">α′</a> <a id="600" class="Symbol">:</a> <a id="602" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>
  <a id="611" href="Protocol.Streamlet.TraceVerifier.html#611" class="Generalizable">αs</a> <a id="614" href="Protocol.Streamlet.TraceVerifier.html#614" class="Generalizable">αs′</a> <a id="618" class="Symbol">:</a> <a id="620" href="Protocol.Streamlet.TraceVerifier.html#553" class="Function">Actions</a>

<a id="629" class="Keyword">private</a>
  <a id="toℕ"></a><a id="639" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="643" class="Symbol">:</a> <a id="645" class="Symbol">∀</a> <a id="647" class="Symbol">{</a><a id="648" href="Protocol.Streamlet.TraceVerifier.html#648" class="Bound">A</a> <a id="650" class="Symbol">:</a> <a id="652" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="656" class="Symbol">}</a> <a id="658" class="Symbol">{</a><a id="659" href="Protocol.Streamlet.TraceVerifier.html#659" class="Bound">x</a><a id="660" class="Symbol">}</a> <a id="662" class="Symbol">{</a><a id="663" href="Protocol.Streamlet.TraceVerifier.html#663" class="Bound">xs</a> <a id="666" class="Symbol">:</a> <a id="668" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="673" href="Protocol.Streamlet.TraceVerifier.html#648" class="Bound">A</a><a id="674" class="Symbol">}</a> <a id="676" class="Symbol">→</a> <a id="678" href="Protocol.Streamlet.TraceVerifier.html#659" class="Bound">x</a> <a id="680" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="682" href="Protocol.Streamlet.TraceVerifier.html#663" class="Bound">xs</a> <a id="685" class="Symbol">→</a> <a id="687" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="691" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="695" class="Symbol">=</a> <a id="697" href="Data.Fin.Base.html#1262" class="Function">Fi.toℕ</a> <a id="704" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="706" href="Data.List.Relation.Unary.Any.html#1824" class="Function">L.Any.index</a>

<a id="719" class="Keyword">data</a> <a id="ValidAction"></a><a id="724" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="736" class="Symbol">:</a> <a id="738" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a> <a id="745" class="Symbol">→</a> <a id="747" href="Protocol.Streamlet.Global.State.html#663" class="Record">GlobalState</a> <a id="759" class="Symbol">→</a> <a id="761" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="766" class="Keyword">where</a>
  <a id="ValidAction.Vote"></a><a id="774" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="779" class="Symbol">:</a> <a id="781" class="Symbol">⦃</a> <a id="783" href="Protocol.Streamlet.TraceVerifier.html#783" class="Bound">_</a> <a id="785" class="Symbol">:</a> <a id="787" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="794" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="796" class="Symbol">⦄</a> <a id="798" class="Symbol">→</a>
    <a id="804" class="Keyword">let</a> <a id="808" href="Protocol.Streamlet.TraceVerifier.html#808" class="Bound">ls</a> <a id="811" class="Symbol">=</a> <a id="813" class="Symbol">(</a><a id="814" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="816" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="818" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a><a id="819" class="Symbol">);</a> <a id="822" class="Keyword">open</a> <a id="827" href="Protocol.Streamlet.Global.Step.html#3396" class="Module">∣VoteBlock∣</a> <a id="839" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="841" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="843" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="846" href="Protocol.Streamlet.Local.Chain.html#439" class="Generalizable">txs</a> <a id="850" class="Keyword">in</a>
    <a id="857" class="Symbol">∀</a> <a id="859" class="Symbol">(</a><a id="860" href="Protocol.Streamlet.TraceVerifier.html#860" class="Bound">m∈</a> <a id="863" class="Symbol">:</a> <a id="865" href="Prelude.Irrelevance.html#816" class="Function">AnyFirst</a> <a id="874" class="Symbol">(</a><a id="875" href="Protocol.Streamlet.Global.Step.html#3584" class="Function">Mᵖ</a> <a id="878" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡_</a><a id="880" class="Symbol">)</a> <a id="882" class="Symbol">(</a><a id="883" href="Protocol.Streamlet.TraceVerifier.html#808" class="Bound">ls</a> <a id="886" class="Symbol">.</a><a id="887" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="892" class="Symbol">))</a> <a id="895" class="Symbol">→</a>
    <a id="901" class="Symbol">.(</a><a id="903" href="Protocol.Streamlet.Global.Step.html#3543" class="Function">SBᵖ</a> <a id="907" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="909" href="Data.List.Base.html#1631" class="Function">map</a> <a id="913" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="927" class="Symbol">(</a><a id="928" href="Protocol.Streamlet.TraceVerifier.html#808" class="Bound">ls</a> <a id="931" class="Symbol">.</a><a id="932" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="934" class="Symbol">))</a> <a id="937" class="Symbol">→</a>
    <a id="943" class="Symbol">.(</a><a id="945" href="Protocol.Streamlet.TraceVerifier.html#808" class="Bound">ls</a> <a id="948" class="Symbol">.</a><a id="949" href="Protocol.Streamlet.Local.State.html#939" class="Field">phase</a> <a id="955" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="957" href="Protocol.Streamlet.Local.State.html#518" class="InductiveConstructor">Ready</a><a id="962" class="Symbol">)</a> <a id="964" class="Symbol">→</a>
    <a id="970" class="Symbol">.(</a><a id="972" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="974" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="976" href="Protocol.Streamlet.Global.Step.html#3471" class="Function">L</a><a id="977" class="Symbol">)</a> <a id="979" class="Symbol">→</a>
    <a id="985" class="Symbol">.(</a><a id="987" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="990" href="Protocol.Streamlet.Local.State.html#5503" class="Function Operator">longest-notarized-chain-∈</a> <a id="1016" href="Protocol.Streamlet.TraceVerifier.html#808" class="Bound">ls</a> <a id="1019" class="Symbol">.</a><a id="1020" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="1022" class="Symbol">)</a> <a id="1024" class="Symbol">→</a>
    <a id="1030" class="Symbol">.(</a><a id="1032" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1043" class="Symbol">(</a><a id="1044" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="1046" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1048" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="1050" class="Symbol">))</a> <a id="1053" class="Symbol">→</a>
      <a id="1061" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="1073" class="Symbol">(</a><a id="1074" href="Protocol.Streamlet.TraceVerifier.html#327" class="InductiveConstructor">Vote</a> <a id="1079" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1081" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1084" href="Protocol.Streamlet.Local.Chain.html#439" class="Generalizable">txs</a><a id="1087" class="Symbol">)</a> <a id="1089" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

  <a id="ValidAction.Propose"></a><a id="1094" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="1102" class="Symbol">:</a> <a id="1104" class="Symbol">⦃</a> <a id="1106" href="Protocol.Streamlet.TraceVerifier.html#1106" class="Bound">_</a> <a id="1108" class="Symbol">:</a> <a id="1110" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="1117" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1119" class="Symbol">⦄</a> <a id="1121" class="Symbol">→</a>
    <a id="1127" class="Keyword">let</a> <a id="1131" href="Protocol.Streamlet.TraceVerifier.html#1131" class="Bound">ls</a> <a id="1134" class="Symbol">=</a> <a id="1136" class="Symbol">(</a><a id="1137" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="1139" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="1141" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a><a id="1142" class="Symbol">);</a> <a id="1145" class="Keyword">open</a> <a id="1150" href="Protocol.Streamlet.Global.Step.html#3153" class="Module">∣ProposeBlock∣</a> <a id="1165" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1167" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="1169" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1172" href="Protocol.Streamlet.Local.Chain.html#439" class="Generalizable">txs</a> <a id="1176" class="Keyword">in</a>
    <a id="1183" class="Symbol">.(</a><a id="1185" href="Protocol.Streamlet.TraceVerifier.html#1131" class="Bound">ls</a> <a id="1188" class="Symbol">.</a><a id="1189" href="Protocol.Streamlet.Local.State.html#939" class="Field">phase</a> <a id="1195" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1197" href="Protocol.Streamlet.Local.State.html#518" class="InductiveConstructor">Ready</a><a id="1202" class="Symbol">)</a> <a id="1204" class="Symbol">→</a>
    <a id="1210" class="Symbol">.(</a><a id="1212" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1214" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1216" href="Protocol.Streamlet.Global.Step.html#3221" class="Function">L</a><a id="1217" class="Symbol">)</a> <a id="1219" class="Symbol">→</a>
    <a id="1225" class="Symbol">.(</a><a id="1227" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1230" href="Protocol.Streamlet.Local.State.html#5503" class="Function Operator">longest-notarized-chain-∈</a> <a id="1256" href="Protocol.Streamlet.TraceVerifier.html#1131" class="Bound">ls</a> <a id="1259" class="Symbol">.</a><a id="1260" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="1262" class="Symbol">)</a> <a id="1264" class="Symbol">→</a>
    <a id="1270" class="Symbol">.(</a><a id="1272" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1283" class="Symbol">(</a><a id="1284" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a> <a id="1286" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1288" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="1290" class="Symbol">))</a> <a id="1293" class="Symbol">→</a>
      <a id="1301" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Protocol.Streamlet.TraceVerifier.html#319" class="InductiveConstructor">Propose</a> <a id="1322" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1324" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1327" href="Protocol.Streamlet.Local.Chain.html#439" class="Generalizable">txs</a><a id="1330" class="Symbol">)</a> <a id="1332" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

  <a id="ValidAction.RegisterVote"></a><a id="1337" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="1350" class="Symbol">:</a> <a id="1352" class="Symbol">∀</a> <a id="1354" class="Symbol">{</a><a id="1355" href="Protocol.Streamlet.TraceVerifier.html#1355" class="Bound">n</a><a id="1356" class="Symbol">}</a> <a id="1358" class="Symbol">→</a> <a id="1360" class="Symbol">⦃</a> <a id="1362" href="Protocol.Streamlet.TraceVerifier.html#1362" class="Bound">_</a> <a id="1364" class="Symbol">:</a> <a id="1366" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="1373" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1375" class="Symbol">⦄</a> <a id="1377" class="Symbol">→</a>
    <a id="1383" class="Keyword">let</a> <a id="1387" href="Protocol.Streamlet.TraceVerifier.html#1387" class="Bound">ls</a> <a id="1390" class="Symbol">=</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="1395" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="1397" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a><a id="1398" class="Symbol">)</a> <a id="1400" class="Keyword">in</a>
    <a id="1407" class="Symbol">∀</a> <a id="1409" class="Symbol">(</a><a id="1410" href="Protocol.Streamlet.TraceVerifier.html#1410" class="Bound">m∈</a> <a id="1413" class="Symbol">:</a> <a id="1415" href="Protocol.Streamlet.Message.html#329" class="InductiveConstructor">Vote</a> <a id="1420" href="Protocol.Streamlet.Block.html#1720" class="Generalizable">sb</a> <a id="1423" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="1425" href="Protocol.Streamlet.TraceVerifier.html#1387" class="Bound">ls</a> <a id="1428" class="Symbol">.</a><a id="1429" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="1434" class="Symbol">)</a> <a id="1436" class="Symbol">→</a>
      <a id="1444" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="1448" href="Protocol.Streamlet.TraceVerifier.html#1410" class="Bound">m∈</a> <a id="1451" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1453" href="Protocol.Streamlet.TraceVerifier.html#1355" class="Bound">n</a> <a id="1455" class="Symbol">→</a>
    <a id="1461" class="Symbol">.(</a><a id="1463" href="Protocol.Streamlet.Block.html#1720" class="Generalizable">sb</a> <a id="1466" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="1468" href="Data.List.Base.html#1631" class="Function">map</a> <a id="1472" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="1486" class="Symbol">(</a><a id="1487" href="Protocol.Streamlet.TraceVerifier.html#1387" class="Bound">ls</a> <a id="1490" class="Symbol">.</a><a id="1491" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="1493" class="Symbol">))</a> <a id="1496" class="Symbol">→</a>
      <a id="1504" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Protocol.Streamlet.TraceVerifier.html#377" class="InductiveConstructor">RegisterVote</a> <a id="1530" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1532" href="Protocol.Streamlet.TraceVerifier.html#1355" class="Bound">n</a><a id="1533" class="Symbol">)</a> <a id="1535" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

  <a id="ValidAction.FinalizeBlock"></a><a id="1540" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="1554" class="Symbol">:</a> <a id="1556" class="Symbol">⦃</a> <a id="1558" href="Protocol.Streamlet.TraceVerifier.html#1558" class="Bound">_</a> <a id="1560" class="Symbol">:</a> <a id="1562" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="1569" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1571" class="Symbol">⦄</a> <a id="1573" class="Symbol">→</a>
    <a id="1579" class="Keyword">let</a> <a id="1583" href="Protocol.Streamlet.TraceVerifier.html#1583" class="Bound">ls</a> <a id="1586" class="Symbol">=</a> <a id="1588" class="Symbol">(</a><a id="1589" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="1591" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="1593" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a><a id="1594" class="Symbol">)</a> <a id="1596" class="Keyword">in</a>
    <a id="1603" class="Symbol">.(</a><a id="1605" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1616" class="Symbol">(</a><a id="1617" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a> <a id="1619" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1621" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a><a id="1623" class="Symbol">))</a> <a id="1626" class="Symbol">→</a>
    <a id="1632" class="Symbol">.(</a><a id="1634" href="Protocol.Streamlet.Local.State.html#3689" class="Datatype">FinalizedChain</a> <a id="1649" class="Symbol">(</a><a id="1650" href="Protocol.Streamlet.TraceVerifier.html#1583" class="Bound">ls</a> <a id="1653" class="Symbol">.</a><a id="1654" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="1656" class="Symbol">)</a> <a id="1658" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1661" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a><a id="1662" class="Symbol">)</a> <a id="1664" class="Symbol">→</a>
      <a id="1672" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="1684" class="Symbol">(</a><a id="1685" href="Protocol.Streamlet.TraceVerifier.html#412" class="InductiveConstructor">FinalizeBlock</a> <a id="1699" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1701" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="1704" href="Protocol.Streamlet.Block.html#433" class="Generalizable">b</a><a id="1705" class="Symbol">)</a> <a id="1707" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

  <a id="ValidAction.DishonestStep"></a><a id="1712" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="1726" class="Symbol">:</a>
    <a id="1732" class="Symbol">.(</a><a id="1734" href="Protocol.Streamlet.Assumptions.html#1165" class="Function">Dishonest</a> <a id="1744" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a><a id="1745" class="Symbol">)</a> <a id="1747" class="Symbol">→</a>
    <a id="1753" class="Symbol">.(</a><a id="1755" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="1762" class="Symbol">(</a><a id="1763" href="Protocol.Streamlet.Message.html#386" class="Generalizable">m</a> <a id="1765" href="Protocol.Streamlet.Block.html#2305" class="Field Operator">∙pid</a><a id="1769" class="Symbol">)</a> <a id="1771" class="Symbol">→</a> <a id="1773" href="Protocol.Streamlet.Message.html#386" class="Generalizable">m</a> <a id="1775" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="1777" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="1779" class="Symbol">.</a><a id="1780" href="Protocol.Streamlet.Global.State.html#939" class="Field">history</a><a id="1787" class="Symbol">)</a> <a id="1789" class="Symbol">→</a>
      <a id="1797" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="1809" class="Symbol">(</a><a id="1810" href="Protocol.Streamlet.TraceVerifier.html#459" class="InductiveConstructor">DishonestStep</a> <a id="1824" href="Protocol.Streamlet.Local.Chain.html#426" class="Generalizable">p</a> <a id="1826" href="Protocol.Streamlet.Message.html#386" class="Generalizable">m</a><a id="1827" class="Symbol">)</a> <a id="1829" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

  <a id="ValidAction.Deliver"></a><a id="1834" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="1842" class="Symbol">:</a> <a id="1844" class="Symbol">∀</a> <a id="1846" class="Symbol">{</a><a id="1847" href="Protocol.Streamlet.TraceVerifier.html#1847" class="Bound">n</a><a id="1848" class="Symbol">}</a> <a id="1850" class="Symbol">→</a>
    <a id="1856" class="Symbol">∀</a> <a id="1858" class="Symbol">(</a><a id="1859" href="Protocol.Streamlet.TraceVerifier.html#1859" class="Bound">env∈</a> <a id="1864" class="Symbol">:</a> <a id="1866" href="Protocol.Streamlet.Message.html#1026" class="Generalizable">env</a> <a id="1870" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="1872" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="1874" class="Symbol">.</a><a id="1875" href="Protocol.Streamlet.Global.State.html#865" class="Field">networkBuffer</a><a id="1888" class="Symbol">)</a> <a id="1890" class="Symbol">→</a>
      <a id="1898" class="Symbol">(</a><a id="1899" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="1903" href="Protocol.Streamlet.TraceVerifier.html#1859" class="Bound">env∈</a> <a id="1908" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1910" href="Protocol.Streamlet.TraceVerifier.html#1847" class="Bound">n</a><a id="1911" class="Symbol">)</a> <a id="1913" class="Symbol">→</a>
      <a id="1921" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="1933" class="Symbol">(</a><a id="1934" href="Protocol.Streamlet.TraceVerifier.html#500" class="InductiveConstructor">Deliver</a> <a id="1942" href="Protocol.Streamlet.TraceVerifier.html#1847" class="Bound">n</a><a id="1943" class="Symbol">)</a> <a id="1945" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

  <a id="ValidAction.Drop"></a><a id="1950" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="1955" class="Symbol">:</a> <a id="1957" class="Symbol">∀</a> <a id="1959" class="Symbol">{</a><a id="1960" href="Protocol.Streamlet.TraceVerifier.html#1960" class="Bound">n</a><a id="1961" class="Symbol">}</a> <a id="1963" class="Symbol">→</a>
    <a id="1969" class="Symbol">∀</a> <a id="1971" class="Symbol">(</a><a id="1972" href="Protocol.Streamlet.TraceVerifier.html#1972" class="Bound">env∈</a> <a id="1977" class="Symbol">:</a> <a id="1979" href="Protocol.Streamlet.Message.html#1026" class="Generalizable">env</a> <a id="1983" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="1985" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="1987" class="Symbol">.</a><a id="1988" href="Protocol.Streamlet.Global.State.html#865" class="Field">networkBuffer</a><a id="2001" class="Symbol">)</a> <a id="2003" class="Symbol">→</a>
      <a id="2011" class="Symbol">(</a><a id="2012" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="2016" href="Protocol.Streamlet.TraceVerifier.html#1972" class="Bound">env∈</a> <a id="2021" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2023" href="Protocol.Streamlet.TraceVerifier.html#1960" class="Bound">n</a><a id="2024" class="Symbol">)</a> <a id="2026" class="Symbol">→</a>
      <a id="2034" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="2046" class="Symbol">(</a><a id="2047" href="Protocol.Streamlet.TraceVerifier.html#508" class="InductiveConstructor">Drop</a> <a id="2052" href="Protocol.Streamlet.TraceVerifier.html#1960" class="Bound">n</a><a id="2053" class="Symbol">)</a> <a id="2055" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

  <a id="ValidAction.AdvanceEpoch"></a><a id="2060" href="Protocol.Streamlet.TraceVerifier.html#2060" class="InductiveConstructor">AdvanceEpoch</a> <a id="2073" class="Symbol">:</a>
      <a id="2081" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="2093" href="Protocol.Streamlet.TraceVerifier.html#529" class="InductiveConstructor">AdvanceEpoch</a> <a id="2106" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>

<a id="⟦_⟧"></a><a id="2109" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦_⟧</a> <a id="2113" class="Symbol">:</a> <a id="2115" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="2127" href="Protocol.Streamlet.TraceVerifier.html#595" class="Generalizable">α</a> <a id="2129" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="2131" class="Symbol">→</a> <a id="2133" href="Protocol.Streamlet.Global.State.html#663" class="Record">GlobalState</a>
<a id="2145" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦_⟧</a> <a id="2149" class="Symbol">{</a><a id="2150" href="Protocol.Streamlet.TraceVerifier.html#2150" class="Bound">α</a><a id="2151" class="Symbol">}{</a><a id="2153" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a><a id="2154" class="Symbol">}</a> <a id="2156" class="Symbol">=</a> <a id="2158" class="Symbol">λ</a> <a id="2160" class="Keyword">where</a>
  <a id="2168" class="Symbol">(</a><a id="2169" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="2174" class="Symbol">{</a><a id="2175" class="Argument">p</a> <a id="2177" class="Symbol">=</a> <a id="2179" href="Protocol.Streamlet.TraceVerifier.html#2179" class="Bound">p</a><a id="2180" class="Symbol">}</a> <a id="2182" class="Symbol">{</a><a id="2183" class="Argument">ch</a> <a id="2186" class="Symbol">=</a> <a id="2188" href="Protocol.Streamlet.TraceVerifier.html#2188" class="Bound">ch</a><a id="2190" class="Symbol">}</a> <a id="2192" class="Symbol">{</a><a id="2193" class="Argument">txs</a> <a id="2197" class="Symbol">=</a> <a id="2199" href="Protocol.Streamlet.TraceVerifier.html#2199" class="Bound">txs</a><a id="2202" class="Symbol">}</a> <a id="2204" href="Protocol.Streamlet.TraceVerifier.html#2204" class="Bound">m∈</a> <a id="2207" class="Symbol">_</a> <a id="2209" class="Symbol">_</a> <a id="2211" class="Symbol">_</a> <a id="2213" class="Symbol">_</a> <a id="2215" class="Symbol">_)</a> <a id="2218" class="Symbol">→</a>
    <a id="2224" class="Keyword">let</a> <a id="2228" href="Protocol.Streamlet.TraceVerifier.html#2228" class="Bound">ls</a> <a id="2231" class="Symbol">=</a> <a id="2233" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2235" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="2237" href="Protocol.Streamlet.TraceVerifier.html#2179" class="Bound">p</a><a id="2238" class="Symbol">;</a> <a id="2240" class="Keyword">open</a> <a id="2245" href="Protocol.Streamlet.Global.Step.html#3396" class="Module">∣VoteBlock∣</a> <a id="2257" href="Protocol.Streamlet.TraceVerifier.html#2179" class="Bound">p</a> <a id="2259" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2261" href="Protocol.Streamlet.TraceVerifier.html#2188" class="Bound">ch</a> <a id="2264" href="Protocol.Streamlet.TraceVerifier.html#2199" class="Bound">txs</a> <a id="2268" class="Keyword">in</a>
    <a id="2275" href="Protocol.Streamlet.Global.Step.html#1107" class="Function">broadcast</a> <a id="2285" href="Protocol.Streamlet.TraceVerifier.html#2179" class="Bound">p</a> <a id="2287" class="Symbol">(</a><a id="2288" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2293" href="Protocol.Streamlet.Global.Step.html#3565" class="Function">M</a><a id="2294" class="Symbol">)</a> <a id="2296" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2298" href="Protocol.Streamlet.Global.Step.html#562" class="Function">updateLocal</a> <a id="2310" href="Protocol.Streamlet.TraceVerifier.html#2179" class="Bound">p</a> <a id="2312" class="Symbol">(</a><a id="2313" href="Protocol.Streamlet.Local.Step.html#624" class="Function">voteBlock</a> <a id="2323" href="Protocol.Streamlet.TraceVerifier.html#2228" class="Bound">ls</a> <a id="2326" href="Protocol.Streamlet.TraceVerifier.html#2204" class="Bound">m∈</a> <a id="2329" href="Protocol.Streamlet.Global.Step.html#3565" class="Function">M</a><a id="2330" class="Symbol">)</a> <a id="2332" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a>
  <a id="2336" class="Symbol">(</a><a id="2337" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="2345" class="Symbol">{</a><a id="2346" class="Argument">p</a> <a id="2348" class="Symbol">=</a> <a id="2350" href="Protocol.Streamlet.TraceVerifier.html#2350" class="Bound">p</a><a id="2351" class="Symbol">}</a> <a id="2353" class="Symbol">{</a><a id="2354" class="Argument">ch</a> <a id="2357" class="Symbol">=</a> <a id="2359" href="Protocol.Streamlet.TraceVerifier.html#2359" class="Bound">ch</a><a id="2361" class="Symbol">}</a> <a id="2363" class="Symbol">{</a><a id="2364" class="Argument">txs</a> <a id="2368" class="Symbol">=</a> <a id="2370" href="Protocol.Streamlet.TraceVerifier.html#2370" class="Bound">txs</a><a id="2373" class="Symbol">}</a> <a id="2375" class="Symbol">_</a> <a id="2377" class="Symbol">_</a> <a id="2379" class="Symbol">_</a> <a id="2381" class="Symbol">_)</a> <a id="2384" class="Symbol">→</a>
    <a id="2390" class="Keyword">let</a> <a id="2394" href="Protocol.Streamlet.TraceVerifier.html#2394" class="Bound">ls</a> <a id="2397" class="Symbol">=</a> <a id="2399" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2401" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="2403" href="Protocol.Streamlet.TraceVerifier.html#2350" class="Bound">p</a><a id="2404" class="Symbol">;</a> <a id="2406" class="Keyword">open</a> <a id="2411" href="Protocol.Streamlet.Global.Step.html#3153" class="Module">∣ProposeBlock∣</a> <a id="2426" href="Protocol.Streamlet.TraceVerifier.html#2350" class="Bound">p</a> <a id="2428" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2430" href="Protocol.Streamlet.TraceVerifier.html#2359" class="Bound">ch</a> <a id="2433" href="Protocol.Streamlet.TraceVerifier.html#2370" class="Bound">txs</a> <a id="2437" class="Keyword">in</a>
    <a id="2444" href="Protocol.Streamlet.Global.Step.html#1107" class="Function">broadcast</a> <a id="2454" href="Protocol.Streamlet.TraceVerifier.html#2350" class="Bound">p</a> <a id="2456" class="Symbol">(</a><a id="2457" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2462" href="Protocol.Streamlet.Global.Step.html#3352" class="Function">M</a><a id="2463" class="Symbol">)</a> <a id="2465" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2467" href="Protocol.Streamlet.Global.Step.html#562" class="Function">updateLocal</a> <a id="2479" href="Protocol.Streamlet.TraceVerifier.html#2350" class="Bound">p</a> <a id="2481" class="Symbol">(</a><a id="2482" href="Protocol.Streamlet.Local.Step.html#499" class="Function">proposeBlock</a> <a id="2495" href="Protocol.Streamlet.TraceVerifier.html#2394" class="Bound">ls</a> <a id="2498" href="Protocol.Streamlet.Global.Step.html#3352" class="Function">M</a><a id="2499" class="Symbol">)</a> <a id="2501" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a>
  <a id="2505" class="Symbol">(</a><a id="2506" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="2519" class="Symbol">{</a><a id="2520" class="Argument">p</a> <a id="2522" class="Symbol">=</a> <a id="2524" href="Protocol.Streamlet.TraceVerifier.html#2524" class="Bound">p</a><a id="2525" class="Symbol">}</a> <a id="2527" class="Symbol">{</a><a id="2528" class="Argument">sb</a> <a id="2531" class="Symbol">=</a> <a id="2533" href="Protocol.Streamlet.TraceVerifier.html#2533" class="Bound">sb</a><a id="2535" class="Symbol">}</a> <a id="2537" href="Protocol.Streamlet.TraceVerifier.html#2537" class="Bound">m∈</a> <a id="2540" class="Symbol">_</a> <a id="2542" class="Symbol">_)</a> <a id="2545" class="Symbol">→</a>
    <a id="2551" class="Keyword">let</a> <a id="2555" href="Protocol.Streamlet.TraceVerifier.html#2555" class="Bound">ls</a> <a id="2558" class="Symbol">=</a> <a id="2560" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2562" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="2564" href="Protocol.Streamlet.TraceVerifier.html#2524" class="Bound">p</a> <a id="2566" class="Keyword">in</a>
    <a id="2573" href="Protocol.Streamlet.Global.Step.html#562" class="Function">updateLocal</a> <a id="2585" href="Protocol.Streamlet.TraceVerifier.html#2524" class="Bound">p</a> <a id="2587" class="Symbol">(</a><a id="2588" href="Protocol.Streamlet.Local.Step.html#847" class="Function">registerVote</a> <a id="2601" href="Protocol.Streamlet.TraceVerifier.html#2555" class="Bound">ls</a> <a id="2604" href="Protocol.Streamlet.TraceVerifier.html#2537" class="Bound">m∈</a><a id="2606" class="Symbol">)</a> <a id="2608" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a>
  <a id="2612" class="Symbol">(</a><a id="2613" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="2627" class="Symbol">{</a><a id="2628" class="Argument">p</a> <a id="2630" class="Symbol">=</a> <a id="2632" href="Protocol.Streamlet.TraceVerifier.html#2632" class="Bound">p</a><a id="2633" class="Symbol">}</a> <a id="2635" class="Symbol">{</a><a id="2636" class="Argument">ch</a> <a id="2639" class="Symbol">=</a> <a id="2641" href="Protocol.Streamlet.TraceVerifier.html#2641" class="Bound">ch</a><a id="2643" class="Symbol">}</a> <a id="2645" class="Symbol">_</a> <a id="2647" class="Symbol">_)</a> <a id="2650" class="Symbol">→</a>
    <a id="2656" class="Keyword">let</a> <a id="2660" href="Protocol.Streamlet.TraceVerifier.html#2660" class="Bound">ls</a> <a id="2663" class="Symbol">=</a> <a id="2665" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2667" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="2669" href="Protocol.Streamlet.TraceVerifier.html#2632" class="Bound">p</a> <a id="2671" class="Keyword">in</a>
    <a id="2678" href="Protocol.Streamlet.Global.Step.html#562" class="Function">updateLocal</a> <a id="2690" href="Protocol.Streamlet.TraceVerifier.html#2632" class="Bound">p</a> <a id="2692" class="Symbol">(</a><a id="2693" href="Protocol.Streamlet.Local.Step.html#1007" class="Function">finalize</a> <a id="2702" href="Protocol.Streamlet.TraceVerifier.html#2641" class="Bound">ch</a> <a id="2705" href="Protocol.Streamlet.TraceVerifier.html#2660" class="Bound">ls</a><a id="2707" class="Symbol">)</a> <a id="2709" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a>
  <a id="2713" class="Symbol">(</a><a id="2714" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="2728" class="Symbol">{</a><a id="2729" href="Protocol.Streamlet.TraceVerifier.html#2729" class="Bound">p</a><a id="2730" class="Symbol">}{</a><a id="2732" href="Protocol.Streamlet.TraceVerifier.html#2732" class="Bound">m</a><a id="2733" class="Symbol">}</a> <a id="2735" class="Symbol">_</a> <a id="2737" class="Symbol">_)</a> <a id="2740" class="Symbol">→</a>
    <a id="2746" href="Protocol.Streamlet.Global.Step.html#1107" class="Function">broadcast</a> <a id="2756" href="Protocol.Streamlet.TraceVerifier.html#2729" class="Bound">p</a> <a id="2758" class="Symbol">(</a><a id="2759" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2764" href="Protocol.Streamlet.TraceVerifier.html#2732" class="Bound">m</a><a id="2765" class="Symbol">)</a> <a id="2767" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a>
  <a id="2771" class="Symbol">(</a><a id="2772" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="2780" href="Protocol.Streamlet.TraceVerifier.html#2780" class="Bound">env∈</a> <a id="2785" class="Symbol">_)</a> <a id="2788" class="Symbol">→</a>
    <a id="2794" href="Protocol.Streamlet.Global.Step.html#847" class="Function">deliverMsg</a> <a id="2805" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2807" href="Protocol.Streamlet.TraceVerifier.html#2780" class="Bound">env∈</a>
  <a id="2814" class="Symbol">(</a><a id="2815" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="2820" href="Protocol.Streamlet.TraceVerifier.html#2820" class="Bound">env∈</a> <a id="2825" class="Symbol">_)</a> <a id="2828" class="Symbol">→</a>
    <a id="2834" href="Protocol.Streamlet.Global.Step.html#858" class="Function">dropMsg</a> <a id="2842" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a> <a id="2844" href="Protocol.Streamlet.TraceVerifier.html#2820" class="Bound">env∈</a>
  <a id="2851" href="Protocol.Streamlet.TraceVerifier.html#2060" class="InductiveConstructor">AdvanceEpoch</a> <a id="2864" class="Symbol">→</a>
    <a id="2870" href="Protocol.Streamlet.Global.Step.html#1363" class="Function">advanceEpoch</a> <a id="2883" href="Protocol.Streamlet.TraceVerifier.html#2153" class="Bound">s</a>

<a id="2886" class="Keyword">private</a>
  <a id="⟦⟧-subst"></a><a id="2896" href="Protocol.Streamlet.TraceVerifier.html#2896" class="Function">⟦⟧-subst</a> <a id="2905" class="Symbol">:</a>
    <a id="2911" class="Symbol">(</a><a id="2912" href="Protocol.Streamlet.TraceVerifier.html#2912" class="Bound">vα</a> <a id="2915" class="Symbol">:</a> <a id="2917" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="2929" href="Protocol.Streamlet.TraceVerifier.html#595" class="Generalizable">α</a> <a id="2931" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a><a id="2932" class="Symbol">)</a> <a id="2934" class="Symbol">→</a>
    <a id="2940" class="Symbol">(</a><a id="2941" href="Protocol.Streamlet.TraceVerifier.html#2941" class="Bound">s≡</a> <a id="2944" class="Symbol">:</a> <a id="2946" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="2948" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2950" href="Protocol.Streamlet.Global.State.html#1051" class="Generalizable">s′</a><a id="2952" class="Symbol">)</a> <a id="2954" class="Symbol">→</a>
    <a id="2960" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦</a> <a id="2962" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="2968" class="Symbol">(</a><a id="2969" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="2981" href="Protocol.Streamlet.TraceVerifier.html#595" class="Generalizable">α</a><a id="2982" class="Symbol">)</a> <a id="2984" href="Protocol.Streamlet.TraceVerifier.html#2941" class="Bound">s≡</a> <a id="2987" href="Protocol.Streamlet.TraceVerifier.html#2912" class="Bound">vα</a> <a id="2990" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟧</a> <a id="2992" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2994" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦</a> <a id="2996" href="Protocol.Streamlet.TraceVerifier.html#2912" class="Bound">vα</a> <a id="2999" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟧</a>
  <a id="3003" href="Protocol.Streamlet.TraceVerifier.html#2896" class="Function">⟦⟧-subst</a> <a id="3012" class="Symbol">_</a> <a id="3014" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3019" class="Symbol">=</a> <a id="3021" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="index?"></a><a id="3029" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="3036" class="Symbol">:</a> <a id="3038" class="Symbol">∀</a> <a id="3040" class="Symbol">{</a><a id="3041" href="Protocol.Streamlet.TraceVerifier.html#3041" class="Bound">A</a> <a id="3043" class="Symbol">:</a> <a id="3045" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="3049" class="Symbol">}</a> <a id="3051" href="Protocol.Streamlet.TraceVerifier.html#3051" class="Bound">n</a> <a id="3053" class="Symbol">(</a><a id="3054" href="Protocol.Streamlet.TraceVerifier.html#3054" class="Bound">xs</a> <a id="3057" class="Symbol">:</a> <a id="3059" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3064" href="Protocol.Streamlet.TraceVerifier.html#3041" class="Bound">A</a><a id="3065" class="Symbol">)</a> <a id="3067" class="Symbol">→</a>
    <a id="3073" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a> <a id="3077" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3079" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="3081" class="Symbol">λ</a> <a id="3083" href="Protocol.Streamlet.TraceVerifier.html#3083" class="Bound">x</a> <a id="3085" class="Symbol">→</a> <a id="3087" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="3089" class="Symbol">λ</a> <a id="3091" class="Symbol">(</a><a id="3092" href="Protocol.Streamlet.TraceVerifier.html#3092" class="Bound">x∈</a> <a id="3095" class="Symbol">:</a> <a id="3097" href="Protocol.Streamlet.TraceVerifier.html#3083" class="Bound">x</a> <a id="3099" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="3101" href="Protocol.Streamlet.TraceVerifier.html#3054" class="Bound">xs</a><a id="3103" class="Symbol">)</a> <a id="3105" class="Symbol">→</a> <a id="3107" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="3111" href="Protocol.Streamlet.TraceVerifier.html#3092" class="Bound">x∈</a> <a id="3114" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3116" href="Protocol.Streamlet.TraceVerifier.html#3051" class="Bound">n</a>
  <a id="3120" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="3127" href="Protocol.Streamlet.TraceVerifier.html#3127" class="Bound">n</a> <a id="3129" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3132" class="Symbol">=</a> <a id="3134" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3137" class="Symbol">λ</a> <a id="3139" class="Keyword">where</a> <a id="3145" class="Symbol">(_</a> <a id="3148" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3150" class="Symbol">()</a> <a id="3153" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3155" class="Symbol">_)</a>
  <a id="3160" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="3167" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Protocol.Streamlet.TraceVerifier.html#3173" class="Bound">x</a> <a id="3175" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3177" href="Protocol.Streamlet.TraceVerifier.html#3177" class="Bound">xs</a><a id="3179" class="Symbol">)</a> <a id="3181" class="Symbol">=</a> <a id="3183" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3187" class="Symbol">(</a><a id="3188" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="3191" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3196" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3201" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3203" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3207" class="Symbol">)</a>
  <a id="3211" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="3218" class="Symbol">(</a><a id="3219" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3223" href="Protocol.Streamlet.TraceVerifier.html#3223" class="Bound">n</a><a id="3224" class="Symbol">)</a> <a id="3226" class="Symbol">(</a><a id="3227" href="Protocol.Streamlet.TraceVerifier.html#3227" class="Bound">x</a> <a id="3229" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3231" href="Protocol.Streamlet.TraceVerifier.html#3231" class="Bound">xs</a><a id="3233" class="Symbol">)</a>
    <a id="3239" class="Keyword">with</a> <a id="3244" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="3251" href="Protocol.Streamlet.TraceVerifier.html#3223" class="Bound">n</a> <a id="3253" href="Protocol.Streamlet.TraceVerifier.html#3231" class="Bound">xs</a>
  <a id="3258" class="Symbol">...</a> <a id="3262" class="Symbol">|</a> <a id="3264" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3267" href="Protocol.Streamlet.TraceVerifier.html#3267" class="Bound">¬p</a>
    <a id="3274" class="Symbol">=</a> <a id="3276" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3279" class="Symbol">λ</a> <a id="3281" class="Keyword">where</a> <a id="3287" class="Symbol">(</a><a id="3288" href="Protocol.Streamlet.TraceVerifier.html#3288" class="Bound">x</a> <a id="3290" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3292" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3298" href="Protocol.Streamlet.TraceVerifier.html#3298" class="Bound">x∈</a> <a id="3301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3303" href="Protocol.Streamlet.TraceVerifier.html#3303" class="Bound">eq</a><a id="3305" class="Symbol">)</a> <a id="3307" class="Symbol">→</a> <a id="3309" href="Protocol.Streamlet.TraceVerifier.html#3267" class="Bound">¬p</a> <a id="3312" class="Symbol">(</a><a id="3313" href="Protocol.Streamlet.TraceVerifier.html#3288" class="Bound">x</a> <a id="3315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3317" href="Protocol.Streamlet.TraceVerifier.html#3298" class="Bound">x∈</a> <a id="3320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3322" href="Data.Nat.Properties.html#2703" class="Function">Nat.suc-injective</a> <a id="3340" href="Protocol.Streamlet.TraceVerifier.html#3303" class="Bound">eq</a><a id="3342" class="Symbol">)</a>
  <a id="3346" class="Symbol">...</a> <a id="3350" class="Symbol">|</a> <a id="3352" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3356" class="Symbol">(</a><a id="3357" href="Protocol.Streamlet.TraceVerifier.html#3357" class="Bound">x</a> <a id="3359" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3361" href="Protocol.Streamlet.TraceVerifier.html#3361" class="Bound">x∈</a> <a id="3364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3366" href="Protocol.Streamlet.TraceVerifier.html#3366" class="Bound">eq</a><a id="3368" class="Symbol">)</a>
    <a id="3374" class="Symbol">=</a> <a id="3376" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3380" class="Symbol">(</a><a id="3381" href="Protocol.Streamlet.TraceVerifier.html#3357" class="Bound">x</a> <a id="3383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3385" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3391" href="Protocol.Streamlet.TraceVerifier.html#3361" class="Bound">x∈</a> <a id="3394" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3396" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="3401" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3405" href="Protocol.Streamlet.TraceVerifier.html#3366" class="Bound">eq</a><a id="3407" class="Symbol">)</a>

  <a id="index≡"></a><a id="3412" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="3419" class="Symbol">:</a> <a id="3421" class="Symbol">∀</a> <a id="3423" class="Symbol">{</a><a id="3424" href="Protocol.Streamlet.TraceVerifier.html#3424" class="Bound">A</a> <a id="3426" class="Symbol">:</a> <a id="3428" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="3432" class="Symbol">}</a> <a id="3434" class="Symbol">{</a><a id="3435" href="Protocol.Streamlet.TraceVerifier.html#3435" class="Bound">x</a> <a id="3437" href="Protocol.Streamlet.TraceVerifier.html#3437" class="Bound">y</a> <a id="3439" class="Symbol">:</a> <a id="3441" href="Protocol.Streamlet.TraceVerifier.html#3424" class="Bound">A</a><a id="3442" class="Symbol">}</a> <a id="3444" href="Protocol.Streamlet.TraceVerifier.html#3444" class="Bound">n</a> <a id="3446" class="Symbol">(</a><a id="3447" href="Protocol.Streamlet.TraceVerifier.html#3447" class="Bound">xs</a> <a id="3450" class="Symbol">:</a> <a id="3452" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3457" href="Protocol.Streamlet.TraceVerifier.html#3424" class="Bound">A</a><a id="3458" class="Symbol">)</a> <a id="3460" class="Symbol">→</a>
    <a id="3466" class="Symbol">(</a><a id="3467" href="Protocol.Streamlet.TraceVerifier.html#3467" class="Bound">x∈</a> <a id="3470" class="Symbol">:</a> <a id="3472" href="Protocol.Streamlet.TraceVerifier.html#3435" class="Bound">x</a> <a id="3474" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="3476" href="Protocol.Streamlet.TraceVerifier.html#3447" class="Bound">xs</a><a id="3478" class="Symbol">)</a> <a id="3480" class="Symbol">→</a> <a id="3482" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="3486" href="Protocol.Streamlet.TraceVerifier.html#3467" class="Bound">x∈</a> <a id="3489" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3491" href="Protocol.Streamlet.TraceVerifier.html#3444" class="Bound">n</a> <a id="3493" class="Symbol">→</a>
    <a id="3499" class="Symbol">(</a><a id="3500" href="Protocol.Streamlet.TraceVerifier.html#3500" class="Bound">y∈</a> <a id="3503" class="Symbol">:</a> <a id="3505" href="Protocol.Streamlet.TraceVerifier.html#3437" class="Bound">y</a> <a id="3507" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="3509" href="Protocol.Streamlet.TraceVerifier.html#3447" class="Bound">xs</a><a id="3511" class="Symbol">)</a> <a id="3513" class="Symbol">→</a> <a id="3515" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="3519" href="Protocol.Streamlet.TraceVerifier.html#3500" class="Bound">y∈</a> <a id="3522" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3524" href="Protocol.Streamlet.TraceVerifier.html#3444" class="Bound">n</a> <a id="3526" class="Symbol">→</a>
    <a id="3532" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="3534" class="Symbol">λ</a> <a id="3536" class="Symbol">(</a><a id="3537" href="Protocol.Streamlet.TraceVerifier.html#3537" class="Bound">eq</a> <a id="3540" class="Symbol">:</a> <a id="3542" href="Protocol.Streamlet.TraceVerifier.html#3435" class="Bound">x</a> <a id="3544" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3546" href="Protocol.Streamlet.TraceVerifier.html#3437" class="Bound">y</a><a id="3547" class="Symbol">)</a> <a id="3549" class="Symbol">→</a> <a id="3551" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="3557" class="Symbol">(</a><a id="3558" href="Data.List.Membership.Setoid.html#950" class="Function Operator">_∈</a> <a id="3561" class="Symbol">_)</a> <a id="3564" href="Protocol.Streamlet.TraceVerifier.html#3537" class="Bound">eq</a> <a id="3567" href="Protocol.Streamlet.TraceVerifier.html#3467" class="Bound">x∈</a> <a id="3570" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3572" href="Protocol.Streamlet.TraceVerifier.html#3500" class="Bound">y∈</a>
  <a id="3577" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="3584" class="Symbol">_</a> <a id="3586" class="Symbol">_</a> <a id="3588" class="Symbol">(</a><a id="3589" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3594" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3598" class="Symbol">)</a> <a id="3600" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3605" class="Symbol">(</a><a id="3606" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3611" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3615" class="Symbol">)</a> <a id="3617" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3622" class="Symbol">=</a> <a id="3624" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3629" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3631" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3638" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="3645" class="Symbol">(</a><a id="3646" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3650" href="Protocol.Streamlet.TraceVerifier.html#3650" class="Bound">n</a><a id="3651" class="Symbol">)</a> <a id="3653" class="Symbol">(_</a> <a id="3656" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3658" href="Protocol.Streamlet.TraceVerifier.html#3658" class="Bound">xs</a><a id="3660" class="Symbol">)</a> <a id="3662" class="Symbol">(</a><a id="3663" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3669" href="Protocol.Streamlet.TraceVerifier.html#3669" class="Bound">x∈</a><a id="3671" class="Symbol">)</a> <a id="3673" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3685" href="Protocol.Streamlet.TraceVerifier.html#3685" class="Bound">y∈</a><a id="3687" class="Symbol">)</a> <a id="3689" href="Protocol.Streamlet.TraceVerifier.html#3689" class="Bound">eq</a>
    <a id="3696" class="Keyword">with</a> <a id="3701" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3706" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3708" href="Protocol.Streamlet.TraceVerifier.html#3708" class="Bound">eq</a> ← <a id="3713" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="3720" href="Protocol.Streamlet.TraceVerifier.html#3650" class="Bound">n</a> <a id="3722" href="Protocol.Streamlet.TraceVerifier.html#3658" class="Bound">xs</a> <a id="3725" href="Protocol.Streamlet.TraceVerifier.html#3669" class="Bound">x∈</a> <a id="3728" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3733" href="Protocol.Streamlet.TraceVerifier.html#3685" class="Bound">y∈</a> <a id="3736" class="Symbol">(</a><a id="3737" href="Data.Nat.Properties.html#2703" class="Function">Nat.suc-injective</a> <a id="3755" href="Protocol.Streamlet.TraceVerifier.html#3689" class="Bound">eq</a><a id="3757" class="Symbol">)</a>
    <a id="3763" class="Symbol">=</a> <a id="3765" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3770" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3772" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="3777" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3783" href="Protocol.Streamlet.TraceVerifier.html#3708" class="Bound">eq</a>


  <a id="Vote-inj"></a><a id="3790" href="Protocol.Streamlet.TraceVerifier.html#3790" class="Function">Vote-inj</a> <a id="3799" class="Symbol">:</a> <a id="3801" class="Symbol">(</a><a id="3802" href="Protocol.Streamlet.Message.html#298" class="Datatype">Message</a> <a id="3810" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="3812" class="InductiveConstructor">Vote</a> <a id="3817" href="Protocol.Streamlet.Block.html#1720" class="Generalizable">sb</a><a id="3819" class="Symbol">)</a> <a id="3821" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3823" class="InductiveConstructor">Vote</a> <a id="3828" href="Protocol.Streamlet.Block.html#1723" class="Generalizable">sb′</a> <a id="3832" class="Symbol">→</a> <a id="3834" href="Protocol.Streamlet.Block.html#1720" class="Generalizable">sb</a> <a id="3837" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3839" href="Protocol.Streamlet.Block.html#1723" class="Generalizable">sb′</a>
  <a id="3845" href="Protocol.Streamlet.TraceVerifier.html#3790" class="Function">Vote-inj</a> <a id="3854" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3859" class="Symbol">=</a> <a id="3861" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="3867" class="Keyword">instance</a>
  <a id="Dec-ValidAction"></a><a id="3878" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="3894" class="Symbol">:</a> <a id="3896" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="3908" href="Prelude.Decidable.html#814" class="Function Operator">⁇²</a>
  <a id="3913" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="3929" class="Symbol">{</a><a id="3930" href="Protocol.Streamlet.TraceVerifier.html#377" class="InductiveConstructor">RegisterVote</a> <a id="3943" href="Protocol.Streamlet.TraceVerifier.html#3943" class="Bound">p</a> <a id="3945" href="Protocol.Streamlet.TraceVerifier.html#3945" class="Bound">n</a><a id="3946" class="Symbol">}{</a><a id="3948" href="Protocol.Streamlet.TraceVerifier.html#3948" class="Bound">s</a><a id="3949" class="Symbol">}</a> <a id="3951" class="Symbol">.</a><a id="3952" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="3960" class="Keyword">with</a> <a id="3965" href="Protocol.Streamlet.Assumptions.html#1192" class="Function">honest?</a> <a id="3973" href="Protocol.Streamlet.TraceVerifier.html#3943" class="Bound">p</a>
  <a id="3977" class="Symbol">...</a> <a id="3981" class="Symbol">|</a> <a id="3983" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3986" href="Protocol.Streamlet.TraceVerifier.html#3986" class="Bound">¬hp</a>
    <a id="3994" class="Symbol">=</a> <a id="3996" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3999" class="Symbol">λ</a> <a id="4001" class="Keyword">where</a> <a id="4007" class="Symbol">(</a><a id="4008" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="4021" class="Symbol">⦃</a> <a id="4023" href="Protocol.Streamlet.TraceVerifier.html#4023" class="Bound">hp</a> <a id="4026" class="Symbol">⦄</a> <a id="4028" class="Symbol">_</a> <a id="4030" class="Symbol">_</a> <a id="4032" class="Symbol">_)</a> <a id="4035" class="Symbol">→</a> <a id="4037" href="Protocol.Streamlet.TraceVerifier.html#3986" class="Bound">¬hp</a> <a id="4041" href="Protocol.Streamlet.TraceVerifier.html#4023" class="Bound">hp</a>
  <a id="4046" class="Symbol">...</a> <a id="4050" class="Symbol">|</a> <a id="4052" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="4056" href="Protocol.Streamlet.TraceVerifier.html#4056" class="Bound">hp</a>
    <a id="4063" class="Keyword">with</a> <a id="4068" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="4075" class="Bound">n</a> <a id="4077" class="Symbol">((</a><a id="4079" class="Bound">s</a> <a id="4081" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="4083" class="Bound">p</a><a id="4084" class="Symbol">)</a> <a id="4086" class="Symbol">⦃</a> <a id="4088" href="Protocol.Streamlet.TraceVerifier.html#4056" class="Bound">hp</a> <a id="4091" class="Symbol">⦄</a> <a id="4093" class="Symbol">.</a><a id="4094" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="4099" class="Symbol">)</a>
  <a id="4103" class="Symbol">...</a> <a id="4107" class="Symbol">|</a> <a id="4109" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4112" href="Protocol.Streamlet.TraceVerifier.html#4112" class="Bound">¬p</a>
    <a id="4119" class="Symbol">=</a> <a id="4121" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4124" class="Symbol">λ</a> <a id="4126" class="Keyword">where</a> <a id="4132" class="Symbol">(</a><a id="4133" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="4146" href="Protocol.Streamlet.TraceVerifier.html#4146" class="Bound">p</a> <a id="4148" href="Protocol.Streamlet.TraceVerifier.html#4148" class="Bound">q</a> <a id="4150" class="Symbol">_)</a> <a id="4153" class="Symbol">→</a> <a id="4155" href="Protocol.Streamlet.TraceVerifier.html#4112" class="Bound">¬p</a> <a id="4158" class="Symbol">(</a><a id="4159" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="4162" href="Protocol.Streamlet.TraceVerifier.html#4146" class="Bound">p</a> <a id="4164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4166" href="Protocol.Streamlet.TraceVerifier.html#4148" class="Bound">q</a><a id="4167" class="Symbol">)</a>
  <a id="4171" class="Symbol">...</a> <a id="4175" class="Symbol">|</a> <a id="4177" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="4181" class="Symbol">(</a><a id="4182" href="Protocol.Streamlet.TraceVerifier.html#4182" class="Bound">m</a> <a id="4184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4186" href="Protocol.Streamlet.TraceVerifier.html#4186" class="Bound">m∈</a> <a id="4189" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4191" href="Protocol.Streamlet.TraceVerifier.html#4191" class="Bound">n≡</a><a id="4193" class="Symbol">)</a>
    <a id="4199" class="Keyword">with</a> <a id="4204" href="Protocol.Streamlet.TraceVerifier.html#4182" class="Bound">m</a>
  <a id="4208" class="Symbol">...</a> <a id="4212" class="Symbol">|</a> <a id="4214" href="Protocol.Streamlet.Message.html#321" class="InductiveConstructor">Propose</a> <a id="4222" href="Protocol.Streamlet.TraceVerifier.html#4222" class="Bound">sb</a>
    <a id="4229" class="Symbol">=</a> <a id="4231" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4234" class="Symbol">λ</a> <a id="4236" class="Keyword">where</a>
    <a id="4246" class="Symbol">(</a><a id="4247" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="4260" href="Protocol.Streamlet.TraceVerifier.html#4260" class="Bound">m∈′</a> <a id="4264" href="Protocol.Streamlet.TraceVerifier.html#4264" class="Bound">n≡′</a> <a id="4268" class="Symbol">_)</a> <a id="4271" class="Symbol">→</a>
      <a id="4279" href="Prelude.Decidable.html#216" class="Function">contradict</a> <a id="4290" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4292" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="4299" class="Symbol">_</a> <a id="4301" class="Symbol">((</a><a id="4303" class="Bound">s</a> <a id="4305" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="4307" class="Bound">p</a><a id="4308" class="Symbol">)</a> <a id="4310" class="Symbol">⦃</a> <a id="4312" class="Bound">hp</a> <a id="4315" class="Symbol">⦄</a> <a id="4317" class="Symbol">.</a><a id="4318" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="4323" class="Symbol">)</a> <a id="4325" class="Bound">m∈</a> <a id="4328" class="Bound">n≡</a> <a id="4331" href="Protocol.Streamlet.TraceVerifier.html#4260" class="Bound">m∈′</a> <a id="4335" href="Protocol.Streamlet.TraceVerifier.html#4264" class="Bound">n≡′</a> <a id="4339" class="Symbol">.</a><a id="4340" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="4348" class="Symbol">...</a> <a id="4352" class="Symbol">|</a> <a id="4354" href="Protocol.Streamlet.Message.html#329" class="InductiveConstructor">Vote</a> <a id="4359" href="Protocol.Streamlet.TraceVerifier.html#4359" class="Bound">sb</a>
    <a id="4366" class="Keyword">with</a> <a id="4371" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="4373" href="Protocol.Streamlet.TraceVerifier.html#4359" class="Bound">sb</a> <a id="4376" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4378" href="Data.List.Base.html#1631" class="Function">map</a> <a id="4382" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="4396" class="Symbol">((</a><a id="4398" class="Bound">s</a> <a id="4400" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="4402" class="Bound">p</a><a id="4403" class="Symbol">)</a> <a id="4405" class="Symbol">⦃</a> <a id="4407" class="Bound">hp</a> <a id="4410" class="Symbol">⦄</a> <a id="4412" class="Symbol">.</a><a id="4413" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="4415" class="Symbol">)</a> <a id="4417" href="Prelude.Decidable.html#468" class="Function Operator">¿</a>
  <a id="4421" class="Symbol">...</a> <a id="4425" class="Symbol">|</a> <a id="4427" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="4431" href="Protocol.Streamlet.TraceVerifier.html#4431" class="Bound">sb∈</a>
    <a id="4439" class="Symbol">=</a> <a id="4441" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4444" class="Symbol">λ</a> <a id="4446" class="Keyword">where</a>
    <a id="4456" class="Symbol">(</a><a id="4457" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="4470" href="Protocol.Streamlet.TraceVerifier.html#4470" class="Bound">m∈′</a> <a id="4474" href="Protocol.Streamlet.TraceVerifier.html#4474" class="Bound">n≡′</a> <a id="4478" href="Protocol.Streamlet.TraceVerifier.html#4478" class="Bound">sb∉</a><a id="4481" class="Symbol">)</a> <a id="4483" class="Symbol">→</a>
      <a id="4491" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="4502" href="Protocol.Streamlet.TraceVerifier.html#4478" class="Bound">sb∉</a> <a id="4506" href="Function.Base.html#1974" class="Function Operator">$</a>
        <a id="4516" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="4522" class="Symbol">(</a><a id="4523" href="Data.List.Membership.Setoid.html#950" class="Function Operator">_∈</a> <a id="4526" class="Symbol">_)</a> <a id="4529" class="Symbol">(</a><a id="4530" href="Protocol.Streamlet.TraceVerifier.html#3790" class="Function">Vote-inj</a> <a id="4539" href="Function.Base.html#1974" class="Function Operator">$</a>
          <a id="4551" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="4558" class="Symbol">_</a> <a id="4560" class="Symbol">((</a><a id="4562" class="Bound">s</a> <a id="4564" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="4566" class="Bound">p</a><a id="4567" class="Symbol">)</a> <a id="4569" class="Symbol">⦃</a> <a id="4571" class="Bound">hp</a> <a id="4574" class="Symbol">⦄</a> <a id="4576" class="Symbol">.</a><a id="4577" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="4582" class="Symbol">)</a> <a id="4584" class="Bound">m∈</a> <a id="4587" class="Bound">n≡</a> <a id="4590" href="Protocol.Streamlet.TraceVerifier.html#4470" class="Bound">m∈′</a> <a id="4594" href="Protocol.Streamlet.TraceVerifier.html#4474" class="Bound">n≡′</a> <a id="4598" class="Symbol">.</a><a id="4599" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4604" class="Symbol">)</a> <a id="4606" href="Protocol.Streamlet.TraceVerifier.html#4431" class="Bound">sb∈</a>
  <a id="4612" class="Symbol">...</a> <a id="4616" class="Symbol">|</a> <a id="4618" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4621" href="Protocol.Streamlet.TraceVerifier.html#4621" class="Bound">sb∉</a>
    <a id="4629" class="Symbol">=</a> <a id="4631" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="4635" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4637" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="4650" class="Symbol">⦃</a> <a id="4652" class="Bound">hp</a> <a id="4655" class="Symbol">⦄</a> <a id="4657" class="Bound">m∈</a> <a id="4660" class="Bound">n≡</a> <a id="4663" href="Protocol.Streamlet.TraceVerifier.html#4621" class="Bound">sb∉</a>
  <a id="4669" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="4685" class="Symbol">{</a><a id="4686" href="Protocol.Streamlet.TraceVerifier.html#319" class="InductiveConstructor">Propose</a> <a id="4694" href="Protocol.Streamlet.TraceVerifier.html#4694" class="Bound">p</a> <a id="4696" href="Protocol.Streamlet.TraceVerifier.html#4696" class="Bound">ch</a> <a id="4699" href="Protocol.Streamlet.TraceVerifier.html#4699" class="Bound">txs</a><a id="4702" class="Symbol">}{</a><a id="4704" href="Protocol.Streamlet.TraceVerifier.html#4704" class="Bound">s</a><a id="4705" class="Symbol">}</a> <a id="4707" class="Symbol">.</a><a id="4708" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="4716" class="Keyword">with</a> <a id="4721" href="Protocol.Streamlet.Assumptions.html#1192" class="Function">honest?</a> <a id="4729" href="Protocol.Streamlet.TraceVerifier.html#4694" class="Bound">p</a>
  <a id="4733" class="Symbol">...</a> <a id="4737" class="Symbol">|</a> <a id="4739" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4742" href="Protocol.Streamlet.TraceVerifier.html#4742" class="Bound">¬hp</a>
    <a id="4750" class="Symbol">=</a> <a id="4752" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4755" class="Symbol">λ</a> <a id="4757" class="Keyword">where</a> <a id="4763" class="Symbol">(</a><a id="4764" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="4772" class="Symbol">⦃</a> <a id="4774" href="Protocol.Streamlet.TraceVerifier.html#4774" class="Bound">hp</a> <a id="4777" class="Symbol">⦄</a> <a id="4779" class="Symbol">_</a> <a id="4781" class="Symbol">_</a> <a id="4783" class="Symbol">_</a> <a id="4785" class="Symbol">_)</a> <a id="4788" class="Symbol">→</a> <a id="4790" href="Protocol.Streamlet.TraceVerifier.html#4742" class="Bound">¬hp</a> <a id="4794" href="Protocol.Streamlet.TraceVerifier.html#4774" class="Bound">hp</a>
  <a id="4799" class="Symbol">...</a> <a id="4803" class="Symbol">|</a> <a id="4805" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="4809" href="Protocol.Streamlet.TraceVerifier.html#4809" class="Bound">hp</a>
    <a id="4816" class="Keyword">with</a> <a id="4821" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="4825" class="Symbol">|</a> <a id="4827" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="4831" class="Symbol">|</a> <a id="4833" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="4837" class="Symbol">|</a> <a id="4839" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="4845" class="Symbol">...</a> <a id="4849" class="Symbol">|</a> <a id="4851" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4854" href="Protocol.Streamlet.TraceVerifier.html#4854" class="Bound">¬p</a> <a id="4857" class="Symbol">|</a> <a id="4859" class="Symbol">_</a> <a id="4861" class="Symbol">|</a> <a id="4863" class="Symbol">_</a> <a id="4865" class="Symbol">|</a> <a id="4867" class="Symbol">_</a>
    <a id="4873" class="Symbol">=</a> <a id="4875" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4878" class="Symbol">λ</a> <a id="4880" class="Keyword">where</a> <a id="4886" class="Symbol">(</a><a id="4887" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="4895" href="Protocol.Streamlet.TraceVerifier.html#4895" class="Bound">p</a> <a id="4897" class="Symbol">_</a> <a id="4899" class="Symbol">_</a> <a id="4901" class="Symbol">_)</a> <a id="4904" class="Symbol">→</a> <a id="4906" href="Protocol.Streamlet.TraceVerifier.html#4854" class="Bound">¬p</a> <a id="4909" class="Symbol">(</a><a id="4910" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="4921" href="Protocol.Streamlet.TraceVerifier.html#4895" class="Bound">p</a><a id="4922" class="Symbol">)</a>
  <a id="4926" class="CatchallClause Symbol">...</a><a id="4929" class="CatchallClause"> </a><a id="4930" class="CatchallClause Symbol">|</a><a id="4931" class="CatchallClause"> </a><a id="4932" class="CatchallClause Symbol">_</a><a id="4933" class="CatchallClause"> </a><a id="4934" class="CatchallClause Symbol">|</a><a id="4935" class="CatchallClause"> </a><a id="4936" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="4938" class="CatchallClause"> </a><a id="4939" href="Protocol.Streamlet.TraceVerifier.html#4939" class="CatchallClause Bound">¬p</a><a id="4941" class="CatchallClause"> </a><a id="4942" class="CatchallClause Symbol">|</a><a id="4943" class="CatchallClause"> </a><a id="4944" class="CatchallClause Symbol">_</a><a id="4945" class="CatchallClause"> </a><a id="4946" class="CatchallClause Symbol">|</a><a id="4947" class="CatchallClause"> </a><a id="4948" class="CatchallClause Symbol">_</a>
    <a id="4954" class="Symbol">=</a> <a id="4956" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4959" class="Symbol">λ</a> <a id="4961" class="Keyword">where</a> <a id="4967" class="Symbol">(</a><a id="4968" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="4976" class="Symbol">_</a> <a id="4978" href="Protocol.Streamlet.TraceVerifier.html#4978" class="Bound">p</a> <a id="4980" class="Symbol">_</a> <a id="4982" class="Symbol">_)</a> <a id="4985" class="Symbol">→</a> <a id="4987" href="Protocol.Streamlet.TraceVerifier.html#4939" class="Bound">¬p</a> <a id="4990" class="Symbol">(</a><a id="4991" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5002" href="Protocol.Streamlet.TraceVerifier.html#4978" class="Bound">p</a><a id="5003" class="Symbol">)</a>
  <a id="5007" class="CatchallClause Symbol">...</a><a id="5010" class="CatchallClause"> </a><a id="5011" class="CatchallClause Symbol">|</a><a id="5012" class="CatchallClause"> </a><a id="5013" class="CatchallClause Symbol">_</a><a id="5014" class="CatchallClause"> </a><a id="5015" class="CatchallClause Symbol">|</a><a id="5016" class="CatchallClause"> </a><a id="5017" class="CatchallClause Symbol">_</a><a id="5018" class="CatchallClause"> </a><a id="5019" class="CatchallClause Symbol">|</a><a id="5020" class="CatchallClause"> </a><a id="5021" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="5023" class="CatchallClause"> </a><a id="5024" href="Protocol.Streamlet.TraceVerifier.html#5024" class="CatchallClause Bound">¬p</a><a id="5026" class="CatchallClause"> </a><a id="5027" class="CatchallClause Symbol">|</a><a id="5028" class="CatchallClause"> </a><a id="5029" class="CatchallClause Symbol">_</a>
    <a id="5035" class="Symbol">=</a> <a id="5037" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5040" class="Symbol">λ</a> <a id="5042" class="Keyword">where</a> <a id="5048" class="Symbol">(</a><a id="5049" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="5057" class="Symbol">_</a> <a id="5059" class="Symbol">_</a> <a id="5061" href="Protocol.Streamlet.TraceVerifier.html#5061" class="Bound">p</a> <a id="5063" class="Symbol">_)</a> <a id="5066" class="Symbol">→</a> <a id="5068" href="Protocol.Streamlet.TraceVerifier.html#5024" class="Bound">¬p</a> <a id="5071" class="Symbol">(</a><a id="5072" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5083" href="Protocol.Streamlet.TraceVerifier.html#5061" class="Bound">p</a><a id="5084" class="Symbol">)</a>
  <a id="5088" class="CatchallClause Symbol">...</a><a id="5091" class="CatchallClause"> </a><a id="5092" class="CatchallClause Symbol">|</a><a id="5093" class="CatchallClause"> </a><a id="5094" class="CatchallClause Symbol">_</a><a id="5095" class="CatchallClause"> </a><a id="5096" class="CatchallClause Symbol">|</a><a id="5097" class="CatchallClause"> </a><a id="5098" class="CatchallClause Symbol">_</a><a id="5099" class="CatchallClause"> </a><a id="5100" class="CatchallClause Symbol">|</a><a id="5101" class="CatchallClause"> </a><a id="5102" class="CatchallClause Symbol">_</a><a id="5103" class="CatchallClause"> </a><a id="5104" class="CatchallClause Symbol">|</a><a id="5105" class="CatchallClause"> </a><a id="5106" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="5108" class="CatchallClause"> </a><a id="5109" href="Protocol.Streamlet.TraceVerifier.html#5109" class="CatchallClause Bound">¬p</a>
    <a id="5116" class="Symbol">=</a> <a id="5118" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5121" class="Symbol">λ</a> <a id="5123" class="Keyword">where</a> <a id="5129" class="Symbol">(</a><a id="5130" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="5138" class="Symbol">_</a> <a id="5140" class="Symbol">_</a> <a id="5142" class="Symbol">_</a> <a id="5144" href="Protocol.Streamlet.TraceVerifier.html#5144" class="Bound">p</a><a id="5145" class="Symbol">)</a> <a id="5147" class="Symbol">→</a> <a id="5149" href="Protocol.Streamlet.TraceVerifier.html#5109" class="Bound">¬p</a> <a id="5152" class="Symbol">(</a><a id="5153" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5164" href="Protocol.Streamlet.TraceVerifier.html#5144" class="Bound">p</a><a id="5165" class="Symbol">)</a>
  <a id="5169" class="Symbol">...</a> <a id="5173" class="Symbol">|</a> <a id="5175" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5179" href="Protocol.Streamlet.TraceVerifier.html#5179" class="Bound Operator">_p</a> <a id="5182" class="Symbol">|</a> <a id="5184" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5188" href="Protocol.Streamlet.TraceVerifier.html#5188" class="Bound">q</a> <a id="5190" class="Symbol">|</a> <a id="5192" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5196" href="Protocol.Streamlet.TraceVerifier.html#5196" class="Bound">w</a> <a id="5198" class="Symbol">|</a> <a id="5200" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5204" href="Protocol.Streamlet.TraceVerifier.html#5204" class="Bound">x</a>
    <a id="5210" class="Symbol">=</a> <a id="5212" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5216" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5218" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="5226" class="Symbol">⦃</a> <a id="5228" class="Bound">hp</a> <a id="5231" class="Symbol">⦄</a> <a id="5233" href="Protocol.Streamlet.TraceVerifier.html#5179" class="Bound Operator">_p</a> <a id="5236" href="Protocol.Streamlet.TraceVerifier.html#5188" class="Bound">q</a> <a id="5238" href="Protocol.Streamlet.TraceVerifier.html#5196" class="Bound">w</a> <a id="5240" href="Protocol.Streamlet.TraceVerifier.html#5204" class="Bound">x</a>
  <a id="5244" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="5260" class="Symbol">{</a><a id="5261" href="Protocol.Streamlet.TraceVerifier.html#327" class="InductiveConstructor">Vote</a> <a id="5266" href="Protocol.Streamlet.TraceVerifier.html#5266" class="Bound">p</a> <a id="5268" href="Protocol.Streamlet.TraceVerifier.html#5268" class="Bound">ch</a> <a id="5271" href="Protocol.Streamlet.TraceVerifier.html#5271" class="Bound">txs</a><a id="5274" class="Symbol">}{</a><a id="5276" href="Protocol.Streamlet.TraceVerifier.html#5276" class="Bound">s</a><a id="5277" class="Symbol">}</a> <a id="5279" class="Symbol">.</a><a id="5280" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="5288" class="Keyword">with</a> <a id="5293" href="Protocol.Streamlet.Assumptions.html#1192" class="Function">honest?</a> <a id="5301" href="Protocol.Streamlet.TraceVerifier.html#5266" class="Bound">p</a>
  <a id="5305" class="Symbol">...</a> <a id="5309" class="Symbol">|</a> <a id="5311" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5314" href="Protocol.Streamlet.TraceVerifier.html#5314" class="Bound">¬hp</a>
    <a id="5322" class="Symbol">=</a> <a id="5324" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5327" class="Symbol">λ</a> <a id="5329" class="Keyword">where</a> <a id="5335" class="Symbol">(</a><a id="5336" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="5341" class="Symbol">⦃</a> <a id="5343" href="Protocol.Streamlet.TraceVerifier.html#5343" class="Bound">hp</a> <a id="5346" class="Symbol">⦄</a> <a id="5348" class="Symbol">_</a> <a id="5350" class="Symbol">_</a> <a id="5352" class="Symbol">_</a> <a id="5354" class="Symbol">_</a> <a id="5356" class="Symbol">_</a> <a id="5358" class="Symbol">_)</a> <a id="5361" class="Symbol">→</a> <a id="5363" href="Protocol.Streamlet.TraceVerifier.html#5314" class="Bound">¬hp</a> <a id="5367" href="Protocol.Streamlet.TraceVerifier.html#5343" class="Bound">hp</a>
  <a id="5372" class="Symbol">...</a> <a id="5376" class="Symbol">|</a> <a id="5378" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5382" href="Protocol.Streamlet.TraceVerifier.html#5382" class="Bound">hp</a>
    <a id="5389" class="Keyword">with</a> <a id="5394" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="5398" class="Symbol">|</a> <a id="5400" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="5404" class="Symbol">|</a> <a id="5406" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="5410" class="Symbol">|</a> <a id="5412" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="5416" class="Symbol">|</a> <a id="5418" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="5422" class="Symbol">|</a> <a id="5424" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="5430" class="Symbol">...</a> <a id="5434" class="Symbol">|</a> <a id="5436" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5439" href="Protocol.Streamlet.TraceVerifier.html#5439" class="Bound">¬p</a> <a id="5442" class="Symbol">|</a> <a id="5444" class="Symbol">_</a> <a id="5446" class="Symbol">|</a> <a id="5448" class="Symbol">_</a> <a id="5450" class="Symbol">|</a> <a id="5452" class="Symbol">_</a> <a id="5454" class="Symbol">|</a> <a id="5456" class="Symbol">_</a> <a id="5458" class="Symbol">|</a> <a id="5460" class="Symbol">_</a>
    <a id="5466" class="Symbol">=</a> <a id="5468" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5471" class="Symbol">λ</a> <a id="5473" class="Keyword">where</a> <a id="5479" class="Symbol">(</a><a id="5480" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="5485" href="Protocol.Streamlet.TraceVerifier.html#5485" class="Bound">p</a> <a id="5487" class="Symbol">_</a> <a id="5489" class="Symbol">_</a> <a id="5491" class="Symbol">_</a> <a id="5493" class="Symbol">_</a> <a id="5495" class="Symbol">_)</a> <a id="5498" class="Symbol">→</a> <a id="5500" href="Protocol.Streamlet.TraceVerifier.html#5439" class="Bound">¬p</a> <a id="5503" class="Symbol">(</a><a id="5504" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5515" href="Protocol.Streamlet.TraceVerifier.html#5485" class="Bound">p</a><a id="5516" class="Symbol">)</a>
  <a id="5520" class="CatchallClause Symbol">...</a><a id="5523" class="CatchallClause"> </a><a id="5524" class="CatchallClause Symbol">|</a><a id="5525" class="CatchallClause"> </a><a id="5526" class="CatchallClause Symbol">_</a><a id="5527" class="CatchallClause"> </a><a id="5528" class="CatchallClause Symbol">|</a><a id="5529" class="CatchallClause"> </a><a id="5530" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="5532" class="CatchallClause"> </a><a id="5533" href="Protocol.Streamlet.TraceVerifier.html#5533" class="CatchallClause Bound">¬p</a><a id="5535" class="CatchallClause"> </a><a id="5536" class="CatchallClause Symbol">|</a><a id="5537" class="CatchallClause"> </a><a id="5538" class="CatchallClause Symbol">_</a><a id="5539" class="CatchallClause"> </a><a id="5540" class="CatchallClause Symbol">|</a><a id="5541" class="CatchallClause"> </a><a id="5542" class="CatchallClause Symbol">_</a><a id="5543" class="CatchallClause"> </a><a id="5544" class="CatchallClause Symbol">|</a><a id="5545" class="CatchallClause"> </a><a id="5546" class="CatchallClause Symbol">_</a><a id="5547" class="CatchallClause"> </a><a id="5548" class="CatchallClause Symbol">|</a><a id="5549" class="CatchallClause"> </a><a id="5550" class="CatchallClause Symbol">_</a>
    <a id="5556" class="Symbol">=</a> <a id="5558" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5561" class="Symbol">λ</a> <a id="5563" class="Keyword">where</a> <a id="5569" class="Symbol">(</a><a id="5570" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="5575" class="Symbol">_</a> <a id="5577" href="Protocol.Streamlet.TraceVerifier.html#5577" class="Bound">p</a> <a id="5579" class="Symbol">_</a> <a id="5581" class="Symbol">_</a> <a id="5583" class="Symbol">_</a> <a id="5585" class="Symbol">_)</a> <a id="5588" class="Symbol">→</a> <a id="5590" href="Protocol.Streamlet.TraceVerifier.html#5533" class="Bound">¬p</a> <a id="5593" class="Symbol">(</a><a id="5594" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5605" href="Protocol.Streamlet.TraceVerifier.html#5577" class="Bound">p</a><a id="5606" class="Symbol">)</a>
  <a id="5610" class="CatchallClause Symbol">...</a><a id="5613" class="CatchallClause"> </a><a id="5614" class="CatchallClause Symbol">|</a><a id="5615" class="CatchallClause"> </a><a id="5616" class="CatchallClause Symbol">_</a><a id="5617" class="CatchallClause"> </a><a id="5618" class="CatchallClause Symbol">|</a><a id="5619" class="CatchallClause"> </a><a id="5620" class="CatchallClause Symbol">_</a><a id="5621" class="CatchallClause"> </a><a id="5622" class="CatchallClause Symbol">|</a><a id="5623" class="CatchallClause"> </a><a id="5624" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="5626" class="CatchallClause"> </a><a id="5627" href="Protocol.Streamlet.TraceVerifier.html#5627" class="CatchallClause Bound">¬p</a><a id="5629" class="CatchallClause"> </a><a id="5630" class="CatchallClause Symbol">|</a><a id="5631" class="CatchallClause"> </a><a id="5632" class="CatchallClause Symbol">_</a><a id="5633" class="CatchallClause"> </a><a id="5634" class="CatchallClause Symbol">|</a><a id="5635" class="CatchallClause"> </a><a id="5636" class="CatchallClause Symbol">_</a><a id="5637" class="CatchallClause"> </a><a id="5638" class="CatchallClause Symbol">|</a><a id="5639" class="CatchallClause"> </a><a id="5640" class="CatchallClause Symbol">_</a>
    <a id="5646" class="Symbol">=</a> <a id="5648" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5651" class="Symbol">λ</a> <a id="5653" class="Keyword">where</a> <a id="5659" class="Symbol">(</a><a id="5660" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="5665" class="Symbol">_</a> <a id="5667" class="Symbol">_</a> <a id="5669" href="Protocol.Streamlet.TraceVerifier.html#5669" class="Bound">p</a> <a id="5671" class="Symbol">_</a> <a id="5673" class="Symbol">_</a> <a id="5675" class="Symbol">_)</a> <a id="5678" class="Symbol">→</a> <a id="5680" href="Protocol.Streamlet.TraceVerifier.html#5627" class="Bound">¬p</a> <a id="5683" class="Symbol">(</a><a id="5684" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5695" href="Protocol.Streamlet.TraceVerifier.html#5669" class="Bound">p</a><a id="5696" class="Symbol">)</a>
  <a id="5700" class="CatchallClause Symbol">...</a><a id="5703" class="CatchallClause"> </a><a id="5704" class="CatchallClause Symbol">|</a><a id="5705" class="CatchallClause"> </a><a id="5706" class="CatchallClause Symbol">_</a><a id="5707" class="CatchallClause"> </a><a id="5708" class="CatchallClause Symbol">|</a><a id="5709" class="CatchallClause"> </a><a id="5710" class="CatchallClause Symbol">_</a><a id="5711" class="CatchallClause"> </a><a id="5712" class="CatchallClause Symbol">|</a><a id="5713" class="CatchallClause"> </a><a id="5714" class="CatchallClause Symbol">_</a><a id="5715" class="CatchallClause"> </a><a id="5716" class="CatchallClause Symbol">|</a><a id="5717" class="CatchallClause"> </a><a id="5718" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="5720" class="CatchallClause"> </a><a id="5721" href="Protocol.Streamlet.TraceVerifier.html#5721" class="CatchallClause Bound">¬p</a><a id="5723" class="CatchallClause"> </a><a id="5724" class="CatchallClause Symbol">|</a><a id="5725" class="CatchallClause"> </a><a id="5726" class="CatchallClause Symbol">_</a><a id="5727" class="CatchallClause"> </a><a id="5728" class="CatchallClause Symbol">|</a><a id="5729" class="CatchallClause"> </a><a id="5730" class="CatchallClause Symbol">_</a>
    <a id="5736" class="Symbol">=</a> <a id="5738" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5741" class="Symbol">λ</a> <a id="5743" class="Keyword">where</a> <a id="5749" class="Symbol">(</a><a id="5750" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="5755" class="Symbol">_</a> <a id="5757" class="Symbol">_</a> <a id="5759" class="Symbol">_</a> <a id="5761" href="Protocol.Streamlet.TraceVerifier.html#5761" class="Bound">p</a> <a id="5763" class="Symbol">_</a> <a id="5765" class="Symbol">_)</a> <a id="5768" class="Symbol">→</a> <a id="5770" href="Protocol.Streamlet.TraceVerifier.html#5721" class="Bound">¬p</a> <a id="5773" class="Symbol">(</a><a id="5774" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5785" href="Protocol.Streamlet.TraceVerifier.html#5761" class="Bound">p</a><a id="5786" class="Symbol">)</a>
  <a id="5790" class="CatchallClause Symbol">...</a><a id="5793" class="CatchallClause"> </a><a id="5794" class="CatchallClause Symbol">|</a><a id="5795" class="CatchallClause"> </a><a id="5796" class="CatchallClause Symbol">_</a><a id="5797" class="CatchallClause"> </a><a id="5798" class="CatchallClause Symbol">|</a><a id="5799" class="CatchallClause"> </a><a id="5800" class="CatchallClause Symbol">_</a><a id="5801" class="CatchallClause"> </a><a id="5802" class="CatchallClause Symbol">|</a><a id="5803" class="CatchallClause"> </a><a id="5804" class="CatchallClause Symbol">_</a><a id="5805" class="CatchallClause"> </a><a id="5806" class="CatchallClause Symbol">|</a><a id="5807" class="CatchallClause"> </a><a id="5808" class="CatchallClause Symbol">_</a><a id="5809" class="CatchallClause"> </a><a id="5810" class="CatchallClause Symbol">|</a><a id="5811" class="CatchallClause"> </a><a id="5812" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="5814" class="CatchallClause"> </a><a id="5815" href="Protocol.Streamlet.TraceVerifier.html#5815" class="CatchallClause Bound">¬p</a><a id="5817" class="CatchallClause"> </a><a id="5818" class="CatchallClause Symbol">|</a><a id="5819" class="CatchallClause"> </a><a id="5820" class="CatchallClause Symbol">_</a>
    <a id="5826" class="Symbol">=</a> <a id="5828" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5831" class="Symbol">λ</a> <a id="5833" class="Keyword">where</a> <a id="5839" class="Symbol">(</a><a id="5840" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="5845" class="Symbol">_</a> <a id="5847" class="Symbol">_</a> <a id="5849" class="Symbol">_</a> <a id="5851" class="Symbol">_</a> <a id="5853" href="Protocol.Streamlet.TraceVerifier.html#5853" class="Bound">p</a> <a id="5855" class="Symbol">_)</a> <a id="5858" class="Symbol">→</a> <a id="5860" href="Protocol.Streamlet.TraceVerifier.html#5815" class="Bound">¬p</a> <a id="5863" class="Symbol">(</a><a id="5864" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5875" href="Protocol.Streamlet.TraceVerifier.html#5853" class="Bound">p</a><a id="5876" class="Symbol">)</a>
  <a id="5880" class="CatchallClause Symbol">...</a><a id="5883" class="CatchallClause"> </a><a id="5884" class="CatchallClause Symbol">|</a><a id="5885" class="CatchallClause"> </a><a id="5886" class="CatchallClause Symbol">_</a><a id="5887" class="CatchallClause"> </a><a id="5888" class="CatchallClause Symbol">|</a><a id="5889" class="CatchallClause"> </a><a id="5890" class="CatchallClause Symbol">_</a><a id="5891" class="CatchallClause"> </a><a id="5892" class="CatchallClause Symbol">|</a><a id="5893" class="CatchallClause"> </a><a id="5894" class="CatchallClause Symbol">_</a><a id="5895" class="CatchallClause"> </a><a id="5896" class="CatchallClause Symbol">|</a><a id="5897" class="CatchallClause"> </a><a id="5898" class="CatchallClause Symbol">_</a><a id="5899" class="CatchallClause"> </a><a id="5900" class="CatchallClause Symbol">|</a><a id="5901" class="CatchallClause"> </a><a id="5902" class="CatchallClause Symbol">_</a><a id="5903" class="CatchallClause"> </a><a id="5904" class="CatchallClause Symbol">|</a><a id="5905" class="CatchallClause"> </a><a id="5906" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="5908" class="CatchallClause"> </a><a id="5909" href="Protocol.Streamlet.TraceVerifier.html#5909" class="CatchallClause Bound">¬p</a>
    <a id="5916" class="Symbol">=</a> <a id="5918" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5921" class="Symbol">λ</a> <a id="5923" class="Keyword">where</a> <a id="5929" class="Symbol">(</a><a id="5930" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="5935" class="Symbol">_</a> <a id="5937" class="Symbol">_</a> <a id="5939" class="Symbol">_</a> <a id="5941" class="Symbol">_</a> <a id="5943" class="Symbol">_</a> <a id="5945" href="Protocol.Streamlet.TraceVerifier.html#5945" class="Bound">p</a><a id="5946" class="Symbol">)</a> <a id="5948" class="Symbol">→</a> <a id="5950" href="Protocol.Streamlet.TraceVerifier.html#5909" class="Bound">¬p</a> <a id="5953" class="Symbol">(</a><a id="5954" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="5965" href="Protocol.Streamlet.TraceVerifier.html#5945" class="Bound">p</a><a id="5966" class="Symbol">)</a>
  <a id="5970" class="Symbol">...</a> <a id="5974" class="Symbol">|</a> <a id="5976" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5980" href="Protocol.Streamlet.TraceVerifier.html#5980" class="Bound Operator">_p</a> <a id="5983" class="Symbol">|</a> <a id="5985" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5989" href="Protocol.Streamlet.TraceVerifier.html#5989" class="Bound">q</a> <a id="5991" class="Symbol">|</a> <a id="5993" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5997" href="Protocol.Streamlet.TraceVerifier.html#5997" class="Bound">w</a> <a id="5999" class="Symbol">|</a> <a id="6001" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6005" href="Protocol.Streamlet.TraceVerifier.html#6005" class="Bound">x</a> <a id="6007" class="Symbol">|</a> <a id="6009" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6013" href="Protocol.Streamlet.TraceVerifier.html#6013" class="Bound">y</a> <a id="6015" class="Symbol">|</a> <a id="6017" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6021" href="Protocol.Streamlet.TraceVerifier.html#6021" class="Bound">z</a>
    <a id="6027" class="Symbol">=</a> <a id="6029" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6033" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6035" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="6040" class="Symbol">⦃</a> <a id="6042" class="Bound">hp</a> <a id="6045" class="Symbol">⦄</a> <a id="6047" href="Protocol.Streamlet.TraceVerifier.html#5980" class="Bound Operator">_p</a> <a id="6050" href="Protocol.Streamlet.TraceVerifier.html#5989" class="Bound">q</a> <a id="6052" href="Protocol.Streamlet.TraceVerifier.html#5997" class="Bound">w</a> <a id="6054" href="Protocol.Streamlet.TraceVerifier.html#6005" class="Bound">x</a> <a id="6056" href="Protocol.Streamlet.TraceVerifier.html#6013" class="Bound">y</a> <a id="6058" href="Protocol.Streamlet.TraceVerifier.html#6021" class="Bound">z</a>
  <a id="6062" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="6078" class="Symbol">{</a><a id="6079" href="Protocol.Streamlet.TraceVerifier.html#412" class="InductiveConstructor">FinalizeBlock</a> <a id="6093" href="Protocol.Streamlet.TraceVerifier.html#6093" class="Bound">p</a> <a id="6095" href="Protocol.Streamlet.TraceVerifier.html#6095" class="Bound">ch</a> <a id="6098" href="Protocol.Streamlet.TraceVerifier.html#6098" class="Bound">b</a><a id="6099" class="Symbol">}{</a><a id="6101" href="Protocol.Streamlet.TraceVerifier.html#6101" class="Bound">s</a><a id="6102" class="Symbol">}</a> <a id="6104" class="Symbol">.</a><a id="6105" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="6113" class="Keyword">with</a> <a id="6118" href="Protocol.Streamlet.Assumptions.html#1192" class="Function">honest?</a> <a id="6126" href="Protocol.Streamlet.TraceVerifier.html#6093" class="Bound">p</a>
  <a id="6130" class="Symbol">...</a> <a id="6134" class="Symbol">|</a> <a id="6136" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6139" href="Protocol.Streamlet.TraceVerifier.html#6139" class="Bound">¬hp</a>
    <a id="6147" class="Symbol">=</a> <a id="6149" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6152" class="Symbol">λ</a> <a id="6154" class="Keyword">where</a> <a id="6160" class="Symbol">(</a><a id="6161" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="6175" class="Symbol">⦃</a> <a id="6177" href="Protocol.Streamlet.TraceVerifier.html#6177" class="Bound">hp</a> <a id="6180" class="Symbol">⦄</a> <a id="6182" class="Symbol">_</a> <a id="6184" class="Symbol">_)</a> <a id="6187" class="Symbol">→</a> <a id="6189" href="Protocol.Streamlet.TraceVerifier.html#6139" class="Bound">¬hp</a> <a id="6193" href="Protocol.Streamlet.TraceVerifier.html#6177" class="Bound">hp</a>
  <a id="6198" class="Symbol">...</a> <a id="6202" class="Symbol">|</a> <a id="6204" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6208" href="Protocol.Streamlet.TraceVerifier.html#6208" class="Bound">hp</a>
    <a id="6215" class="Keyword">with</a> <a id="6220" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="6224" class="Symbol">|</a> <a id="6226" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="6232" class="Symbol">...</a> <a id="6236" class="Symbol">|</a> <a id="6238" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6241" href="Protocol.Streamlet.TraceVerifier.html#6241" class="Bound">¬p</a> <a id="6244" class="Symbol">|</a> <a id="6246" class="Symbol">_</a>
    <a id="6252" class="Symbol">=</a> <a id="6254" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6257" class="Symbol">λ</a> <a id="6259" class="Keyword">where</a> <a id="6265" class="Symbol">(</a><a id="6266" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="6280" href="Protocol.Streamlet.TraceVerifier.html#6280" class="Bound">p</a> <a id="6282" class="Symbol">_)</a> <a id="6285" class="Symbol">→</a> <a id="6287" href="Protocol.Streamlet.TraceVerifier.html#6241" class="Bound">¬p</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="6302" href="Protocol.Streamlet.TraceVerifier.html#6280" class="Bound">p</a><a id="6303" class="Symbol">)</a>
  <a id="6307" class="CatchallClause Symbol">...</a><a id="6310" class="CatchallClause"> </a><a id="6311" class="CatchallClause Symbol">|</a><a id="6312" class="CatchallClause"> </a><a id="6313" class="CatchallClause Symbol">_</a><a id="6314" class="CatchallClause"> </a><a id="6315" class="CatchallClause Symbol">|</a><a id="6316" class="CatchallClause"> </a><a id="6317" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="6319" class="CatchallClause"> </a><a id="6320" href="Protocol.Streamlet.TraceVerifier.html#6320" class="CatchallClause Bound">¬p</a>
    <a id="6327" class="Symbol">=</a> <a id="6329" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6332" class="Symbol">λ</a> <a id="6334" class="Keyword">where</a> <a id="6340" class="Symbol">(</a><a id="6341" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="6355" class="Symbol">_</a> <a id="6357" href="Protocol.Streamlet.TraceVerifier.html#6357" class="Bound">p</a><a id="6358" class="Symbol">)</a> <a id="6360" class="Symbol">→</a> <a id="6362" href="Protocol.Streamlet.TraceVerifier.html#6320" class="Bound">¬p</a> <a id="6365" class="Symbol">(</a><a id="6366" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="6377" href="Protocol.Streamlet.TraceVerifier.html#6357" class="Bound">p</a><a id="6378" class="Symbol">)</a>
  <a id="6382" class="Symbol">...</a> <a id="6386" class="Symbol">|</a> <a id="6388" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6392" href="Protocol.Streamlet.TraceVerifier.html#6392" class="Bound Operator">_p</a> <a id="6395" class="Symbol">|</a> <a id="6397" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6401" href="Protocol.Streamlet.TraceVerifier.html#6401" class="Bound">q</a>
    <a id="6407" class="Symbol">=</a> <a id="6409" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6413" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6415" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="6429" class="Symbol">⦃</a> <a id="6431" class="Bound">hp</a> <a id="6434" class="Symbol">⦄</a> <a id="6436" href="Protocol.Streamlet.TraceVerifier.html#6392" class="Bound Operator">_p</a> <a id="6439" href="Protocol.Streamlet.TraceVerifier.html#6401" class="Bound">q</a>
  <a id="6443" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="6459" class="Symbol">{</a><a id="6460" href="Protocol.Streamlet.TraceVerifier.html#459" class="InductiveConstructor">DishonestStep</a> <a id="6474" href="Protocol.Streamlet.TraceVerifier.html#6474" class="Bound">p</a> <a id="6476" href="Protocol.Streamlet.TraceVerifier.html#6476" class="Bound">m</a><a id="6477" class="Symbol">}{</a><a id="6479" href="Protocol.Streamlet.TraceVerifier.html#6479" class="Bound">s</a><a id="6480" class="Symbol">}</a> <a id="6482" class="Symbol">.</a><a id="6483" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="6491" class="Keyword">with</a> <a id="6496" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="6500" class="Symbol">|</a> <a id="6502" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="6508" class="Symbol">...</a> <a id="6512" class="Symbol">|</a> <a id="6514" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6517" href="Protocol.Streamlet.TraceVerifier.html#6517" class="Bound">¬p</a> <a id="6520" class="Symbol">|</a> <a id="6522" class="Symbol">_</a>
    <a id="6528" class="Symbol">=</a> <a id="6530" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6533" class="Symbol">λ</a> <a id="6535" class="Keyword">where</a> <a id="6541" class="Symbol">(</a><a id="6542" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="6556" href="Protocol.Streamlet.TraceVerifier.html#6556" class="Bound">p</a> <a id="6558" class="Symbol">_)</a> <a id="6561" class="Symbol">→</a> <a id="6563" href="Protocol.Streamlet.TraceVerifier.html#6517" class="Bound">¬p</a> <a id="6566" class="Symbol">(</a><a id="6567" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="6578" href="Protocol.Streamlet.TraceVerifier.html#6556" class="Bound">p</a><a id="6579" class="Symbol">)</a>
  <a id="6583" class="CatchallClause Symbol">...</a><a id="6586" class="CatchallClause"> </a><a id="6587" class="CatchallClause Symbol">|</a><a id="6588" class="CatchallClause"> </a><a id="6589" class="CatchallClause Symbol">_</a><a id="6590" class="CatchallClause"> </a><a id="6591" class="CatchallClause Symbol">|</a><a id="6592" class="CatchallClause"> </a><a id="6593" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="6595" class="CatchallClause"> </a><a id="6596" href="Protocol.Streamlet.TraceVerifier.html#6596" class="CatchallClause Bound">¬p</a>
    <a id="6603" class="Symbol">=</a> <a id="6605" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6608" class="Symbol">λ</a> <a id="6610" class="Keyword">where</a> <a id="6616" class="Symbol">(</a><a id="6617" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="6631" class="Symbol">_</a> <a id="6633" href="Protocol.Streamlet.TraceVerifier.html#6633" class="Bound">p</a><a id="6634" class="Symbol">)</a> <a id="6636" class="Symbol">→</a> <a id="6638" href="Protocol.Streamlet.TraceVerifier.html#6596" class="Bound">¬p</a> <a id="6641" class="Symbol">(</a><a id="6642" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="6653" href="Protocol.Streamlet.TraceVerifier.html#6633" class="Bound">p</a><a id="6654" class="Symbol">)</a>
  <a id="6658" class="Symbol">...</a> <a id="6662" class="Symbol">|</a> <a id="6664" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6668" href="Protocol.Streamlet.TraceVerifier.html#6668" class="Bound">p</a> <a id="6670" class="Symbol">|</a> <a id="6672" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6676" href="Protocol.Streamlet.TraceVerifier.html#6676" class="Bound">q</a>
    <a id="6682" class="Symbol">=</a> <a id="6684" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6688" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6690" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="6704" href="Protocol.Streamlet.TraceVerifier.html#6668" class="Bound">p</a> <a id="6706" href="Protocol.Streamlet.TraceVerifier.html#6676" class="Bound">q</a>
  <a id="6710" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="6726" class="Symbol">{</a><a id="6727" href="Protocol.Streamlet.TraceVerifier.html#500" class="InductiveConstructor">Deliver</a> <a id="6735" href="Protocol.Streamlet.TraceVerifier.html#6735" class="Bound">n</a><a id="6736" class="Symbol">}{</a><a id="6738" href="Protocol.Streamlet.TraceVerifier.html#6738" class="Bound">s</a><a id="6739" class="Symbol">}</a> <a id="6741" class="Symbol">.</a><a id="6742" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="6750" class="Keyword">with</a> <a id="6755" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="6762" href="Protocol.Streamlet.TraceVerifier.html#6735" class="Bound">n</a> <a id="6764" class="Symbol">(</a><a id="6765" href="Protocol.Streamlet.TraceVerifier.html#6738" class="Bound">s</a> <a id="6767" class="Symbol">.</a><a id="6768" href="Protocol.Streamlet.Global.State.html#865" class="Field">networkBuffer</a><a id="6781" class="Symbol">)</a>
  <a id="6785" class="Symbol">...</a> <a id="6789" class="Symbol">|</a> <a id="6791" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6794" href="Protocol.Streamlet.TraceVerifier.html#6794" class="Bound">¬p</a>
    <a id="6801" class="Symbol">=</a> <a id="6803" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6806" class="Symbol">λ</a> <a id="6808" class="Keyword">where</a> <a id="6814" class="Symbol">(</a><a id="6815" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="6823" href="Protocol.Streamlet.TraceVerifier.html#6823" class="Bound">p</a> <a id="6825" href="Protocol.Streamlet.TraceVerifier.html#6825" class="Bound">q</a><a id="6826" class="Symbol">)</a> <a id="6828" class="Symbol">→</a> <a id="6830" href="Protocol.Streamlet.TraceVerifier.html#6794" class="Bound">¬p</a> <a id="6833" class="Symbol">(</a><a id="6834" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="6837" href="Protocol.Streamlet.TraceVerifier.html#6823" class="Bound">p</a> <a id="6839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6841" href="Protocol.Streamlet.TraceVerifier.html#6825" class="Bound">q</a><a id="6842" class="Symbol">)</a>
  <a id="6846" class="Symbol">...</a> <a id="6850" class="Symbol">|</a> <a id="6852" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6856" class="Symbol">(</a><a id="6857" href="Protocol.Streamlet.TraceVerifier.html#6857" class="Bound">env</a> <a id="6861" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6863" href="Protocol.Streamlet.TraceVerifier.html#6863" class="Bound">env∈</a> <a id="6868" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6870" href="Protocol.Streamlet.TraceVerifier.html#6870" class="Bound">n≡</a><a id="6872" class="Symbol">)</a>
    <a id="6878" class="Symbol">=</a> <a id="6880" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6884" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6886" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="6894" href="Protocol.Streamlet.TraceVerifier.html#6863" class="Bound">env∈</a> <a id="6899" href="Protocol.Streamlet.TraceVerifier.html#6870" class="Bound">n≡</a>
  <a id="6904" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="6920" class="Symbol">{</a><a id="6921" href="Protocol.Streamlet.TraceVerifier.html#508" class="InductiveConstructor">Drop</a> <a id="6926" href="Protocol.Streamlet.TraceVerifier.html#6926" class="Bound">n</a><a id="6927" class="Symbol">}{</a><a id="6929" href="Protocol.Streamlet.TraceVerifier.html#6929" class="Bound">s</a><a id="6930" class="Symbol">}</a> <a id="6932" class="Symbol">.</a><a id="6933" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="6941" class="Keyword">with</a> <a id="6946" href="Protocol.Streamlet.TraceVerifier.html#3029" class="Function">index?</a> <a id="6953" href="Protocol.Streamlet.TraceVerifier.html#6926" class="Bound">n</a> <a id="6955" class="Symbol">(</a><a id="6956" href="Protocol.Streamlet.TraceVerifier.html#6929" class="Bound">s</a> <a id="6958" class="Symbol">.</a><a id="6959" href="Protocol.Streamlet.Global.State.html#865" class="Field">networkBuffer</a><a id="6972" class="Symbol">)</a>
  <a id="6976" class="Symbol">...</a> <a id="6980" class="Symbol">|</a> <a id="6982" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6985" href="Protocol.Streamlet.TraceVerifier.html#6985" class="Bound">¬p</a> <a id="6988" class="Symbol">=</a> <a id="6990" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6993" class="Symbol">λ</a> <a id="6995" class="Keyword">where</a> <a id="7001" class="Symbol">(</a><a id="7002" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="7007" href="Protocol.Streamlet.TraceVerifier.html#7007" class="Bound">p</a> <a id="7009" href="Protocol.Streamlet.TraceVerifier.html#7009" class="Bound">q</a><a id="7010" class="Symbol">)</a> <a id="7012" class="Symbol">→</a> <a id="7014" href="Protocol.Streamlet.TraceVerifier.html#6985" class="Bound">¬p</a> <a id="7017" class="Symbol">(</a><a id="7018" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="7021" href="Protocol.Streamlet.TraceVerifier.html#7007" class="Bound">p</a> <a id="7023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7025" href="Protocol.Streamlet.TraceVerifier.html#7009" class="Bound">q</a><a id="7026" class="Symbol">)</a>
  <a id="7030" class="Symbol">...</a> <a id="7034" class="Symbol">|</a> <a id="7036" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="7040" class="Symbol">(</a><a id="7041" href="Protocol.Streamlet.TraceVerifier.html#7041" class="Bound">env</a> <a id="7045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7047" href="Protocol.Streamlet.TraceVerifier.html#7047" class="Bound">env∈</a> <a id="7052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7054" href="Protocol.Streamlet.TraceVerifier.html#7054" class="Bound">n≡</a><a id="7056" class="Symbol">)</a>
    <a id="7062" class="Symbol">=</a> <a id="7064" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="7068" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7070" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="7075" href="Protocol.Streamlet.TraceVerifier.html#7047" class="Bound">env∈</a> <a id="7080" href="Protocol.Streamlet.TraceVerifier.html#7054" class="Bound">n≡</a>
  <a id="7085" href="Protocol.Streamlet.TraceVerifier.html#3878" class="Function">Dec-ValidAction</a> <a id="7101" class="Symbol">{</a><a id="7102" href="Protocol.Streamlet.TraceVerifier.html#529" class="InductiveConstructor">AdvanceEpoch</a><a id="7114" class="Symbol">}{</a><a id="7116" href="Protocol.Streamlet.TraceVerifier.html#7116" class="Bound">s</a><a id="7117" class="Symbol">}</a> <a id="7119" class="Symbol">.</a><a id="7120" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="7128" class="Symbol">=</a> <a id="7130" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="7134" href="Protocol.Streamlet.TraceVerifier.html#2060" class="InductiveConstructor">AdvanceEpoch</a>

<a id="7148" class="Comment">-- TODO: consider starting from non-initial state (c.f. Test/TraceVerifier2)</a>
<a id="7225" class="Keyword">mutual</a>
  <a id="7234" class="Keyword">data</a> <a id="ValidTrace"></a><a id="7239" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="7250" class="Symbol">:</a> <a id="7252" href="Protocol.Streamlet.TraceVerifier.html#553" class="Function">Actions</a> <a id="7260" class="Symbol">→</a> <a id="7262" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7267" class="Keyword">where</a>
    <a id="ValidTrace.[]"></a><a id="7277" href="Protocol.Streamlet.TraceVerifier.html#7277" class="InductiveConstructor">[]</a> <a id="7280" class="Symbol">:</a>
      <a id="7288" href="Prelude.InferenceRules.html#47480" class="Function Operator">─────────────</a>
      <a id="7308" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="7319" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

    <a id="ValidTrace._∷_⊣_"></a><a id="7327" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">_∷_⊣_</a> <a id="7333" class="Symbol">:</a> <a id="7335" class="Symbol">∀</a> <a id="7337" href="Protocol.Streamlet.TraceVerifier.html#7337" class="Bound">α</a> <a id="7339" class="Symbol">→</a>
      <a id="7347" class="Symbol">∀</a> <a id="7349" class="Symbol">(</a><a id="7350" href="Protocol.Streamlet.TraceVerifier.html#7350" class="Bound">tr</a> <a id="7353" class="Symbol">:</a> <a id="7355" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="7366" href="Protocol.Streamlet.TraceVerifier.html#611" class="Generalizable">αs</a><a id="7368" class="Symbol">)</a> <a id="7370" class="Symbol">→</a>
      <a id="7378" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="7380" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="7392" href="Protocol.Streamlet.TraceVerifier.html#7337" class="Bound">α</a> <a id="7394" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦</a> <a id="7396" href="Protocol.Streamlet.TraceVerifier.html#7350" class="Bound">tr</a> <a id="7399" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟧∗</a>
        <a id="7410" href="Prelude.InferenceRules.html#14119" class="Function Operator">───────────────────</a>
        <a id="7438" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="7449" class="Symbol">(</a><a id="7450" href="Protocol.Streamlet.TraceVerifier.html#7337" class="Bound">α</a> <a id="7452" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7454" href="Protocol.Streamlet.TraceVerifier.html#611" class="Generalizable">αs</a><a id="7456" class="Symbol">)</a>

  <a id="⟦_⟧∗"></a><a id="7461" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦_⟧∗</a> <a id="7466" class="Symbol">:</a> <a id="7468" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="7479" href="Protocol.Streamlet.TraceVerifier.html#611" class="Generalizable">αs</a> <a id="7482" class="Symbol">→</a> <a id="7484" href="Protocol.Streamlet.Global.State.html#663" class="Record">GlobalState</a>
  <a id="7498" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦_⟧∗</a> <a id="7503" href="Protocol.Streamlet.TraceVerifier.html#7277" class="InductiveConstructor">[]</a> <a id="7506" class="Symbol">=</a> <a id="7508" href="Protocol.Streamlet.Global.State.html#1243" class="Function">initGlobalState</a>
  <a id="7526" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦_⟧∗</a> <a id="7531" class="Symbol">(_</a> <a id="7534" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="7536" class="Symbol">_</a> <a id="7538" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="7540" href="Protocol.Streamlet.TraceVerifier.html#7540" class="Bound">vα</a><a id="7542" class="Symbol">)</a> <a id="7544" class="Symbol">=</a> <a id="7546" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦</a> <a id="7548" href="Protocol.Streamlet.TraceVerifier.html#7540" class="Bound">vα</a> <a id="7551" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟧</a>

<a id="Irr-ValidAction"></a><a id="7554" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="7570" class="Symbol">:</a> <a id="7572" href="Relation.Nullary.html#755" class="Function">Irrelevant</a> <a id="7583" class="Symbol">(</a><a id="7584" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="7596" href="Protocol.Streamlet.TraceVerifier.html#595" class="Generalizable">α</a> <a id="7598" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a><a id="7599" class="Symbol">)</a>
<a id="7601" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="7617" class="Symbol">(</a><a id="7618" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="7626" class="Symbol">⦃</a> <a id="7628" href="Protocol.Streamlet.TraceVerifier.html#7628" class="Bound">hp</a> <a id="7631" class="Symbol">⦄</a> <a id="7633" class="Symbol">_</a> <a id="7635" class="Symbol">_</a> <a id="7637" class="Symbol">_</a> <a id="7639" class="Symbol">_)</a> <a id="7642" class="Symbol">(</a><a id="7643" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="7651" class="Symbol">⦃</a> <a id="7653" href="Protocol.Streamlet.TraceVerifier.html#7653" class="Bound">hp′</a> <a id="7657" class="Symbol">⦄</a> <a id="7659" class="Symbol">_</a> <a id="7661" class="Symbol">_</a> <a id="7663" class="Symbol">_</a> <a id="7665" class="Symbol">_)</a>
  <a id="7670" class="Keyword">rewrite</a> <a id="7678" href="Protocol.Streamlet.Assumptions.html#1130" class="Field">Honest-irr</a> <a id="7689" href="Protocol.Streamlet.TraceVerifier.html#7628" class="Bound">hp</a> <a id="7692" href="Protocol.Streamlet.TraceVerifier.html#7653" class="Bound">hp′</a>
  <a id="7698" class="Symbol">=</a> <a id="7700" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="7705" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="7721" class="Symbol">(</a><a id="7722" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="7727" class="Symbol">⦃</a> <a id="7729" href="Protocol.Streamlet.TraceVerifier.html#7729" class="Bound">hp</a> <a id="7732" class="Symbol">⦄</a> <a id="7734" href="Protocol.Streamlet.TraceVerifier.html#7734" class="Bound">m∈</a> <a id="7737" class="Symbol">_</a> <a id="7739" class="Symbol">_</a> <a id="7741" class="Symbol">_</a> <a id="7743" class="Symbol">_</a> <a id="7745" class="Symbol">_)</a> <a id="7748" class="Symbol">(</a><a id="7749" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="7754" class="Symbol">⦃</a> <a id="7756" href="Protocol.Streamlet.TraceVerifier.html#7756" class="Bound">hp′</a> <a id="7760" class="Symbol">⦄</a> <a id="7762" href="Protocol.Streamlet.TraceVerifier.html#7762" class="Bound">m∈′</a> <a id="7766" class="Symbol">_</a> <a id="7768" class="Symbol">_</a> <a id="7770" class="Symbol">_</a> <a id="7772" class="Symbol">_</a> <a id="7774" class="Symbol">_)</a>
  <a id="7779" class="Keyword">rewrite</a> <a id="7787" href="Prelude.Irrelevance.html#1066" class="Function">AnyFirst-irrelevant</a> <a id="7807" href="Prelude.Irrelevance.html#142" class="Function">≡-irrelevant</a> <a id="7820" href="Protocol.Streamlet.TraceVerifier.html#7734" class="Bound">m∈</a> <a id="7823" href="Protocol.Streamlet.TraceVerifier.html#7762" class="Bound">m∈′</a>
        <a id="7835" class="Symbol">|</a> <a id="7837" href="Protocol.Streamlet.Assumptions.html#1130" class="Field">Honest-irr</a> <a id="7848" href="Protocol.Streamlet.TraceVerifier.html#7729" class="Bound">hp</a> <a id="7851" href="Protocol.Streamlet.TraceVerifier.html#7756" class="Bound">hp′</a>
  <a id="7857" class="Symbol">=</a> <a id="7859" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="7864" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="7880" class="Symbol">{</a><a id="7881" class="Argument">s</a> <a id="7883" class="Symbol">=</a> <a id="7885" href="Protocol.Streamlet.TraceVerifier.html#7885" class="Bound">s</a><a id="7886" class="Symbol">}</a> <a id="7888" class="Symbol">(</a><a id="7889" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="7902" class="Symbol">{</a><a id="7903" class="Argument">p</a> <a id="7905" class="Symbol">=</a> <a id="7907" href="Protocol.Streamlet.TraceVerifier.html#7907" class="Bound">p</a><a id="7908" class="Symbol">}</a> <a id="7910" class="Symbol">⦃</a> <a id="7912" href="Protocol.Streamlet.TraceVerifier.html#7912" class="Bound">hp</a> <a id="7915" class="Symbol">⦄</a> <a id="7917" href="Protocol.Streamlet.TraceVerifier.html#7917" class="Bound">m∈</a> <a id="7920" href="Protocol.Streamlet.TraceVerifier.html#7920" class="Bound">eq</a> <a id="7923" class="Symbol">_)</a> <a id="7926" class="Symbol">(</a><a id="7927" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="7940" class="Symbol">⦃</a> <a id="7942" href="Protocol.Streamlet.TraceVerifier.html#7942" class="Bound">hp′</a> <a id="7946" class="Symbol">⦄</a> <a id="7948" href="Protocol.Streamlet.TraceVerifier.html#7948" class="Bound">m∈′</a> <a id="7952" href="Protocol.Streamlet.TraceVerifier.html#7952" class="Bound">eq′</a> <a id="7956" class="Symbol">_)</a>
  <a id="7961" class="Keyword">rewrite</a> <a id="7969" href="Protocol.Streamlet.Assumptions.html#1130" class="Field">Honest-irr</a> <a id="7980" href="Protocol.Streamlet.TraceVerifier.html#7912" class="Bound">hp</a> <a id="7983" href="Protocol.Streamlet.TraceVerifier.html#7942" class="Bound">hp′</a>
  <a id="7989" class="Keyword">with</a> <a id="7994" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7999" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8001" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="8008" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="8015" class="Symbol">_</a> <a id="8017" class="Symbol">((</a><a id="8019" href="Protocol.Streamlet.TraceVerifier.html#7885" class="Bound">s</a> <a id="8021" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="8023" href="Protocol.Streamlet.TraceVerifier.html#7907" class="Bound">p</a><a id="8024" class="Symbol">)</a> <a id="8026" class="Symbol">.</a><a id="8027" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="8032" class="Symbol">)</a> <a id="8034" href="Protocol.Streamlet.TraceVerifier.html#7917" class="Bound">m∈</a> <a id="8037" href="Protocol.Streamlet.TraceVerifier.html#7920" class="Bound">eq</a> <a id="8040" href="Protocol.Streamlet.TraceVerifier.html#7948" class="Bound">m∈′</a> <a id="8044" href="Protocol.Streamlet.TraceVerifier.html#7952" class="Bound">eq′</a>
  <a id="8050" class="Keyword">rewrite</a> <a id="8058" href="Prelude.Irrelevance.html#142" class="Function">≡-irrelevant</a> <a id="8071" href="Protocol.Streamlet.TraceVerifier.html#7920" class="Bound">eq</a> <a id="8074" href="Protocol.Streamlet.TraceVerifier.html#7952" class="Bound">eq′</a>
  <a id="8080" class="Symbol">=</a> <a id="8082" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="8087" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="8103" class="Symbol">(</a><a id="8104" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="8118" class="Symbol">⦃</a> <a id="8120" href="Protocol.Streamlet.TraceVerifier.html#8120" class="Bound">hp</a> <a id="8123" class="Symbol">⦄</a> <a id="8125" class="Symbol">_</a> <a id="8127" class="Symbol">_)</a> <a id="8130" class="Symbol">(</a><a id="8131" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="8145" class="Symbol">⦃</a> <a id="8147" href="Protocol.Streamlet.TraceVerifier.html#8147" class="Bound">hp′</a> <a id="8151" class="Symbol">⦄</a> <a id="8153" class="Symbol">_</a> <a id="8155" class="Symbol">_)</a>
  <a id="8160" class="Keyword">rewrite</a> <a id="8168" href="Protocol.Streamlet.Assumptions.html#1130" class="Field">Honest-irr</a> <a id="8179" href="Protocol.Streamlet.TraceVerifier.html#8120" class="Bound">hp</a> <a id="8182" href="Protocol.Streamlet.TraceVerifier.html#8147" class="Bound">hp′</a>
  <a id="8188" class="Symbol">=</a> <a id="8190" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="8195" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="8211" class="Symbol">(</a><a id="8212" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="8226" class="Symbol">_</a> <a id="8228" class="Symbol">_)</a> <a id="8231" class="Symbol">(</a><a id="8232" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="8246" class="Symbol">_</a> <a id="8248" class="Symbol">_)</a>
  <a id="8253" class="Symbol">=</a> <a id="8255" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="8260" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="8276" class="Symbol">{</a><a id="8277" class="Argument">s</a> <a id="8279" class="Symbol">=</a> <a id="8281" href="Protocol.Streamlet.TraceVerifier.html#8281" class="Bound">s</a><a id="8282" class="Symbol">}</a> <a id="8284" class="Symbol">(</a><a id="8285" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="8293" href="Protocol.Streamlet.TraceVerifier.html#8293" class="Bound">env∈</a> <a id="8298" href="Protocol.Streamlet.TraceVerifier.html#8298" class="Bound">eq</a><a id="8300" class="Symbol">)</a> <a id="8302" class="Symbol">(</a><a id="8303" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="8311" href="Protocol.Streamlet.TraceVerifier.html#8311" class="Bound">env∈′</a> <a id="8317" href="Protocol.Streamlet.TraceVerifier.html#8317" class="Bound">eq′</a><a id="8320" class="Symbol">)</a>
  <a id="8324" class="Keyword">with</a> <a id="8329" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8334" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8336" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="8343" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="8350" class="Symbol">_</a> <a id="8352" class="Symbol">(</a><a id="8353" href="Protocol.Streamlet.TraceVerifier.html#8281" class="Bound">s</a> <a id="8355" class="Symbol">.</a><a id="8356" href="Protocol.Streamlet.Global.State.html#865" class="Field">networkBuffer</a><a id="8369" class="Symbol">)</a> <a id="8371" href="Protocol.Streamlet.TraceVerifier.html#8293" class="Bound">env∈</a> <a id="8376" href="Protocol.Streamlet.TraceVerifier.html#8298" class="Bound">eq</a> <a id="8379" href="Protocol.Streamlet.TraceVerifier.html#8311" class="Bound">env∈′</a> <a id="8385" href="Protocol.Streamlet.TraceVerifier.html#8317" class="Bound">eq′</a>
  <a id="8391" class="Symbol">=</a> <a id="8393" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="8398" class="Symbol">(</a><a id="8399" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="8407" href="Protocol.Streamlet.TraceVerifier.html#8293" class="Bound">env∈</a><a id="8411" class="Symbol">)</a> <a id="8413" class="Symbol">(</a><a id="8414" href="Prelude.Irrelevance.html#142" class="Function">≡-irrelevant</a> <a id="8427" href="Protocol.Streamlet.TraceVerifier.html#8298" class="Bound">eq</a> <a id="8430" href="Protocol.Streamlet.TraceVerifier.html#8317" class="Bound">eq′</a><a id="8433" class="Symbol">)</a>
<a id="8435" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="8451" class="Symbol">{</a><a id="8452" class="Argument">s</a> <a id="8454" class="Symbol">=</a> <a id="8456" href="Protocol.Streamlet.TraceVerifier.html#8456" class="Bound">s</a><a id="8457" class="Symbol">}</a> <a id="8459" class="Symbol">(</a><a id="8460" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="8465" href="Protocol.Streamlet.TraceVerifier.html#8465" class="Bound">env∈</a> <a id="8470" href="Protocol.Streamlet.TraceVerifier.html#8470" class="Bound">eq</a><a id="8472" class="Symbol">)</a> <a id="8474" class="Symbol">(</a><a id="8475" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="8480" href="Protocol.Streamlet.TraceVerifier.html#8480" class="Bound">env∈′</a> <a id="8486" href="Protocol.Streamlet.TraceVerifier.html#8486" class="Bound">eq′</a><a id="8489" class="Symbol">)</a>
  <a id="8493" class="Keyword">with</a> <a id="8498" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8503" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8505" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="8512" href="Protocol.Streamlet.TraceVerifier.html#3412" class="Function">index≡</a> <a id="8519" class="Symbol">_</a> <a id="8521" class="Symbol">(</a><a id="8522" href="Protocol.Streamlet.TraceVerifier.html#8456" class="Bound">s</a> <a id="8524" class="Symbol">.</a><a id="8525" href="Protocol.Streamlet.Global.State.html#865" class="Field">networkBuffer</a><a id="8538" class="Symbol">)</a> <a id="8540" href="Protocol.Streamlet.TraceVerifier.html#8465" class="Bound">env∈</a> <a id="8545" href="Protocol.Streamlet.TraceVerifier.html#8470" class="Bound">eq</a> <a id="8548" href="Protocol.Streamlet.TraceVerifier.html#8480" class="Bound">env∈′</a> <a id="8554" href="Protocol.Streamlet.TraceVerifier.html#8486" class="Bound">eq′</a>
  <a id="8560" class="Symbol">=</a> <a id="8562" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="8567" class="Symbol">(</a><a id="8568" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="8573" href="Protocol.Streamlet.TraceVerifier.html#8465" class="Bound">env∈</a><a id="8577" class="Symbol">)</a> <a id="8579" class="Symbol">(</a><a id="8580" href="Prelude.Irrelevance.html#142" class="Function">≡-irrelevant</a> <a id="8593" href="Protocol.Streamlet.TraceVerifier.html#8470" class="Bound">eq</a> <a id="8596" href="Protocol.Streamlet.TraceVerifier.html#8486" class="Bound">eq′</a><a id="8599" class="Symbol">)</a>
<a id="8601" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="8617" href="Protocol.Streamlet.TraceVerifier.html#2060" class="InductiveConstructor">AdvanceEpoch</a> <a id="8630" href="Protocol.Streamlet.TraceVerifier.html#2060" class="InductiveConstructor">AdvanceEpoch</a>
  <a id="8645" class="Symbol">=</a> <a id="8647" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Irr-ValidTrace"></a><a id="8653" href="Protocol.Streamlet.TraceVerifier.html#8653" class="Function">Irr-ValidTrace</a> <a id="8668" class="Symbol">:</a> <a id="8670" href="Relation.Nullary.html#755" class="Function">Irrelevant</a> <a id="8681" class="Symbol">(</a><a id="8682" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="8693" href="Protocol.Streamlet.TraceVerifier.html#611" class="Generalizable">αs</a><a id="8695" class="Symbol">)</a>
<a id="8697" href="Protocol.Streamlet.TraceVerifier.html#8653" class="Function">Irr-ValidTrace</a> <a id="8712" href="Protocol.Streamlet.TraceVerifier.html#7277" class="InductiveConstructor">[]</a> <a id="8715" href="Protocol.Streamlet.TraceVerifier.html#7277" class="InductiveConstructor">[]</a> <a id="8718" class="Symbol">=</a> <a id="8720" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="8725" href="Protocol.Streamlet.TraceVerifier.html#8653" class="Function">Irr-ValidTrace</a> <a id="8740" class="Symbol">(</a><a id="8741" href="Protocol.Streamlet.TraceVerifier.html#8741" class="Bound">α</a> <a id="8743" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="8745" href="Protocol.Streamlet.TraceVerifier.html#8745" class="Bound">vαs</a> <a id="8749" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="8751" href="Protocol.Streamlet.TraceVerifier.html#8751" class="Bound">vα</a><a id="8753" class="Symbol">)</a> <a id="8755" class="Symbol">(</a><a id="8756" class="DottedPattern Symbol">.</a><a id="8757" href="Protocol.Streamlet.TraceVerifier.html#8741" class="DottedPattern Bound">α</a> <a id="8759" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="8761" href="Protocol.Streamlet.TraceVerifier.html#8761" class="Bound">vαs′</a> <a id="8766" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="8768" href="Protocol.Streamlet.TraceVerifier.html#8768" class="Bound">vα′</a><a id="8771" class="Symbol">)</a>
  <a id="8775" class="Keyword">rewrite</a> <a id="8783" href="Protocol.Streamlet.TraceVerifier.html#8653" class="Function">Irr-ValidTrace</a> <a id="8798" href="Protocol.Streamlet.TraceVerifier.html#8745" class="Bound">vαs</a> <a id="8802" href="Protocol.Streamlet.TraceVerifier.html#8761" class="Bound">vαs′</a> <a id="8807" class="Symbol">|</a> <a id="8809" href="Protocol.Streamlet.TraceVerifier.html#7554" class="Function">Irr-ValidAction</a> <a id="8825" href="Protocol.Streamlet.TraceVerifier.html#8751" class="Bound">vα</a> <a id="8828" href="Protocol.Streamlet.TraceVerifier.html#8768" class="Bound">vα′</a>
  <a id="8834" class="Symbol">=</a> <a id="8836" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="8842" class="Keyword">instance</a>
  <a id="Dec-ValidTrace"></a><a id="8853" href="Protocol.Streamlet.TraceVerifier.html#8853" class="Function">Dec-ValidTrace</a> <a id="8868" class="Symbol">:</a> <a id="8870" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="8881" href="Prelude.Decidable.html#579" class="Function Operator">⁇¹</a>
  <a id="8886" href="Protocol.Streamlet.TraceVerifier.html#8853" class="Function">Dec-ValidTrace</a> <a id="8901" class="Symbol">{</a><a id="8902" href="Protocol.Streamlet.TraceVerifier.html#8902" class="Bound">tr</a><a id="8904" class="Symbol">}</a> <a id="8906" class="Symbol">.</a><a id="8907" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="8911" class="Keyword">with</a> <a id="8916" href="Protocol.Streamlet.TraceVerifier.html#8902" class="Bound">tr</a>
  <a id="8921" class="Symbol">...</a> <a id="8925" class="Symbol">|</a> <a id="8927" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>     <a id="8934" class="Symbol">=</a> <a id="8936" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="8940" href="Protocol.Streamlet.TraceVerifier.html#7277" class="InductiveConstructor">[]</a>
  <a id="8945" class="Symbol">...</a> <a id="8949" class="Symbol">|</a> <a id="8951" href="Protocol.Streamlet.TraceVerifier.html#8951" class="Bound">α</a> <a id="8953" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8955" href="Protocol.Streamlet.TraceVerifier.html#8955" class="Bound">αs</a>
    <a id="8962" class="Keyword">with</a> <a id="8967" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="8969" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="8980" href="Protocol.Streamlet.TraceVerifier.html#8955" class="Bound">αs</a> <a id="8983" href="Prelude.Decidable.html#468" class="Function Operator">¿</a>
  <a id="8987" class="Symbol">...</a> <a id="8991" class="Symbol">|</a> <a id="8993" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="8996" href="Protocol.Streamlet.TraceVerifier.html#8996" class="Bound">¬vαs</a> <a id="9001" class="Symbol">=</a> <a id="9003" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="9006" class="Symbol">λ</a> <a id="9008" class="Keyword">where</a> <a id="9014" class="Symbol">(_</a> <a id="9017" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="9019" href="Protocol.Streamlet.TraceVerifier.html#9019" class="Bound">vαs</a> <a id="9023" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="9025" class="Symbol">_)</a> <a id="9028" class="Symbol">→</a> <a id="9030" href="Protocol.Streamlet.TraceVerifier.html#8996" class="Bound">¬vαs</a> <a id="9035" href="Protocol.Streamlet.TraceVerifier.html#9019" class="Bound">vαs</a>
  <a id="9041" class="Symbol">...</a> <a id="9045" class="Symbol">|</a> <a id="9047" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="9051" href="Protocol.Streamlet.TraceVerifier.html#9051" class="Bound">vαs</a>
    <a id="9059" class="Keyword">with</a> <a id="9064" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="9066" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="9078" class="Bound">α</a> <a id="9080" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦</a> <a id="9082" href="Protocol.Streamlet.TraceVerifier.html#9051" class="Bound">vαs</a> <a id="9086" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟧∗</a> <a id="9089" href="Prelude.Decidable.html#468" class="Function Operator">¿</a>
  <a id="9093" class="Symbol">...</a> <a id="9097" class="Symbol">|</a> <a id="9099" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="9102" href="Protocol.Streamlet.TraceVerifier.html#9102" class="Bound">¬vα</a> <a id="9106" class="Symbol">=</a> <a id="9108" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="9111" class="Symbol">λ</a> <a id="9113" class="Keyword">where</a>
    <a id="9123" class="Symbol">(_</a> <a id="9126" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="9128" href="Protocol.Streamlet.TraceVerifier.html#9128" class="Bound">tr</a> <a id="9131" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="9133" href="Protocol.Streamlet.TraceVerifier.html#9133" class="Bound">vα</a><a id="9135" class="Symbol">)</a> <a id="9137" class="Symbol">→</a> <a id="9139" href="Protocol.Streamlet.TraceVerifier.html#9102" class="Bound">¬vα</a>
                  <a id="9161" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9163" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="9169" class="Symbol">(</a><a id="9170" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="9182" class="Bound">α</a><a id="9183" class="Symbol">)</a> <a id="9185" class="Symbol">(</a><a id="9186" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="9191" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦_⟧∗</a> <a id="9196" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9198" href="Protocol.Streamlet.TraceVerifier.html#8653" class="Function">Irr-ValidTrace</a> <a id="9213" href="Protocol.Streamlet.TraceVerifier.html#9128" class="Bound">tr</a> <a id="9216" class="Bound">vαs</a><a id="9219" class="Symbol">)</a> <a id="9221" href="Protocol.Streamlet.TraceVerifier.html#9133" class="Bound">vα</a>
  <a id="9226" class="Symbol">...</a> <a id="9230" class="Symbol">|</a> <a id="9232" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="9236" href="Protocol.Streamlet.TraceVerifier.html#9236" class="Bound">vα</a> <a id="9239" class="Symbol">=</a> <a id="9241" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="9245" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9247" class="Symbol">_</a> <a id="9249" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="9251" class="Bound">vαs</a> <a id="9255" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="9257" href="Protocol.Streamlet.TraceVerifier.html#9236" class="Bound">vα</a>

<a id="9261" class="Comment">-- * via labels</a>

<a id="getLabel"></a><a id="9278" href="Protocol.Streamlet.TraceVerifier.html#9278" class="Function">getLabel</a> <a id="9287" class="Symbol">:</a> <a id="9289" class="Symbol">(</a><a id="9290" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="9292" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="9295" href="Protocol.Streamlet.Global.State.html#1051" class="Generalizable">s′</a><a id="9297" class="Symbol">)</a> <a id="9299" class="Symbol">→</a> <a id="9301" href="Protocol.Streamlet.TraceVerifier.html#297" class="Datatype">Action</a>
<a id="9308" href="Protocol.Streamlet.TraceVerifier.html#9278" class="Function">getLabel</a> <a id="9317" class="Symbol">{</a><a id="9318" href="Protocol.Streamlet.TraceVerifier.html#9318" class="Bound">s</a><a id="9319" class="Symbol">}{</a><a id="9321" href="Protocol.Streamlet.TraceVerifier.html#9321" class="Bound">s′</a><a id="9323" class="Symbol">}</a> <a id="9325" class="Symbol">=</a> <a id="9327" class="Symbol">λ</a> <a id="9329" class="Keyword">where</a>
  <a id="9337" class="Symbol">(</a><a id="9338" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="9348" class="Symbol">{</a><a id="9349" class="Argument">p</a> <a id="9351" class="Symbol">=</a> <a id="9353" href="Protocol.Streamlet.TraceVerifier.html#9353" class="Bound">p</a><a id="9354" class="Symbol">}</a> <a id="9356" class="Symbol">{</a><a id="9357" class="Argument">mm</a> <a id="9360" class="Symbol">=</a> <a id="9362" href="Protocol.Streamlet.TraceVerifier.html#9362" class="Bound">mm</a><a id="9364" class="Symbol">}</a> <a id="9366" href="Protocol.Streamlet.TraceVerifier.html#9366" class="Bound">st</a><a id="9368" class="Symbol">)</a> <a id="9370" class="Symbol">→</a> <a id="9372" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9377" href="Protocol.Streamlet.TraceVerifier.html#9366" class="Bound">st</a> <a id="9380" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9383" class="Symbol">λ</a> <a id="9385" class="Keyword">where</a>
    <a id="9395" class="Symbol">(</a><a id="9396" href="Protocol.Streamlet.Local.Step.html#1314" class="InductiveConstructor">ProposeBlock</a> <a id="9409" class="Symbol">{</a><a id="9410" class="Argument">ch</a> <a id="9413" class="Symbol">=</a> <a id="9415" href="Protocol.Streamlet.TraceVerifier.html#9415" class="Bound">ch</a><a id="9417" class="Symbol">}</a> <a id="9419" class="Symbol">{</a><a id="9420" class="Argument">txs</a> <a id="9424" class="Symbol">=</a> <a id="9426" href="Protocol.Streamlet.TraceVerifier.html#9426" class="Bound">txs</a><a id="9429" class="Symbol">}</a> <a id="9431" class="Symbol">_</a> <a id="9433" class="Symbol">_</a> <a id="9435" class="Symbol">_</a> <a id="9437" class="Symbol">_)</a> <a id="9440" class="Symbol">→</a> <a id="9442" href="Protocol.Streamlet.TraceVerifier.html#319" class="InductiveConstructor">Propose</a> <a id="9450" href="Protocol.Streamlet.TraceVerifier.html#9353" class="Bound">p</a> <a id="9452" href="Protocol.Streamlet.TraceVerifier.html#9415" class="Bound">ch</a> <a id="9455" href="Protocol.Streamlet.TraceVerifier.html#9426" class="Bound">txs</a>
    <a id="9463" class="Symbol">(</a><a id="9464" href="Protocol.Streamlet.Local.Step.html#1710" class="InductiveConstructor">VoteBlock</a> <a id="9474" class="Symbol">{</a><a id="9475" class="Argument">ch</a> <a id="9478" class="Symbol">=</a> <a id="9480" href="Protocol.Streamlet.TraceVerifier.html#9480" class="Bound">ch</a><a id="9482" class="Symbol">}</a> <a id="9484" class="Symbol">{</a><a id="9485" class="Argument">txs</a> <a id="9489" class="Symbol">=</a> <a id="9491" href="Protocol.Streamlet.TraceVerifier.html#9491" class="Bound">txs</a><a id="9494" class="Symbol">}</a> <a id="9496" class="Symbol">_</a> <a id="9498" class="Symbol">_</a> <a id="9500" class="Symbol">_</a> <a id="9502" class="Symbol">_</a> <a id="9504" class="Symbol">_</a> <a id="9506" class="Symbol">_)</a> <a id="9509" class="Symbol">→</a> <a id="9511" href="Protocol.Streamlet.TraceVerifier.html#327" class="InductiveConstructor">Vote</a> <a id="9516" href="Protocol.Streamlet.TraceVerifier.html#9353" class="Bound">p</a> <a id="9518" href="Protocol.Streamlet.TraceVerifier.html#9480" class="Bound">ch</a> <a id="9521" href="Protocol.Streamlet.TraceVerifier.html#9491" class="Bound">txs</a>
    <a id="9529" class="Symbol">(</a><a id="9530" href="Protocol.Streamlet.Local.Step.html#2361" class="InductiveConstructor">RegisterVote</a> <a id="9543" href="Protocol.Streamlet.TraceVerifier.html#9543" class="Bound">m∈</a> <a id="9546" class="Symbol">_)</a> <a id="9549" class="Symbol">→</a> <a id="9551" href="Protocol.Streamlet.TraceVerifier.html#377" class="InductiveConstructor">RegisterVote</a> <a id="9564" href="Protocol.Streamlet.TraceVerifier.html#9353" class="Bound">p</a> <a id="9566" class="Symbol">(</a><a id="9567" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="9571" href="Protocol.Streamlet.TraceVerifier.html#9543" class="Bound">m∈</a><a id="9573" class="Symbol">)</a>
    <a id="9579" class="Symbol">(</a><a id="9580" href="Protocol.Streamlet.Local.Step.html#2751" class="InductiveConstructor">FinalizeBlock</a> <a id="9594" href="Protocol.Streamlet.TraceVerifier.html#9594" class="Bound">ch</a> <a id="9597" href="Protocol.Streamlet.TraceVerifier.html#9597" class="Bound">b</a> <a id="9599" class="Symbol">_</a> <a id="9601" class="Symbol">_)</a> <a id="9604" class="Symbol">→</a> <a id="9606" href="Protocol.Streamlet.TraceVerifier.html#412" class="InductiveConstructor">FinalizeBlock</a> <a id="9620" href="Protocol.Streamlet.TraceVerifier.html#9353" class="Bound">p</a> <a id="9622" href="Protocol.Streamlet.TraceVerifier.html#9594" class="Bound">ch</a> <a id="9625" href="Protocol.Streamlet.TraceVerifier.html#9597" class="Bound">b</a>
  <a id="9629" class="Symbol">(</a><a id="9630" href="Protocol.Streamlet.Global.Step.html#2028" class="InductiveConstructor">DishonestLocalStep</a> <a id="9649" class="Symbol">{</a><a id="9650" class="Argument">p</a> <a id="9652" class="Symbol">=</a> <a id="9654" href="Protocol.Streamlet.TraceVerifier.html#9654" class="Bound">p</a><a id="9655" class="Symbol">}</a> <a id="9657" class="Symbol">{</a><a id="9658" class="Argument">m</a> <a id="9660" class="Symbol">=</a> <a id="9662" href="Protocol.Streamlet.TraceVerifier.html#9662" class="Bound">m</a><a id="9663" class="Symbol">}</a> <a id="9665" class="Symbol">_</a> <a id="9667" class="Symbol">_)</a> <a id="9670" class="Symbol">→</a> <a id="9672" href="Protocol.Streamlet.TraceVerifier.html#459" class="InductiveConstructor">DishonestStep</a> <a id="9686" href="Protocol.Streamlet.TraceVerifier.html#9654" class="Bound">p</a> <a id="9688" href="Protocol.Streamlet.TraceVerifier.html#9662" class="Bound">m</a>
  <a id="9692" class="Symbol">(</a><a id="9693" href="Protocol.Streamlet.Global.Step.html#2366" class="InductiveConstructor">Deliver</a> <a id="9701" href="Protocol.Streamlet.TraceVerifier.html#9701" class="Bound">env∈</a><a id="9705" class="Symbol">)</a> <a id="9707" class="Symbol">→</a> <a id="9709" href="Protocol.Streamlet.TraceVerifier.html#500" class="InductiveConstructor">Deliver</a> <a id="9717" class="Symbol">(</a><a id="9718" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="9722" href="Protocol.Streamlet.TraceVerifier.html#9701" class="Bound">env∈</a><a id="9726" class="Symbol">)</a>
  <a id="9730" class="Symbol">(</a><a id="9731" href="Protocol.Streamlet.Global.Step.html#2625" class="InductiveConstructor">Drop</a> <a id="9736" href="Protocol.Streamlet.TraceVerifier.html#9736" class="Bound">env∈</a><a id="9740" class="Symbol">)</a> <a id="9742" class="Symbol">→</a> <a id="9744" href="Protocol.Streamlet.TraceVerifier.html#508" class="InductiveConstructor">Drop</a> <a id="9749" class="Symbol">(</a><a id="9750" href="Protocol.Streamlet.TraceVerifier.html#639" class="Function">toℕ</a> <a id="9754" href="Protocol.Streamlet.TraceVerifier.html#9736" class="Bound">env∈</a><a id="9758" class="Symbol">)</a>
  <a id="9762" href="Protocol.Streamlet.Global.Step.html#2518" class="InductiveConstructor">AdvanceEpoch</a> <a id="9775" class="Symbol">→</a> <a id="9777" href="Protocol.Streamlet.TraceVerifier.html#529" class="InductiveConstructor">AdvanceEpoch</a>

<a id="getLabels"></a><a id="9791" href="Protocol.Streamlet.TraceVerifier.html#9791" class="Function">getLabels</a> <a id="9801" class="Symbol">:</a> <a id="9803" class="Symbol">(</a><a id="9804" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="9806" href="Prelude.Closures.html#666" class="Datatype Operator">↞—</a> <a id="9809" href="Protocol.Streamlet.Global.State.html#1051" class="Generalizable">s′</a><a id="9811" class="Symbol">)</a> <a id="9813" class="Symbol">→</a> <a id="9815" href="Protocol.Streamlet.TraceVerifier.html#553" class="Function">Actions</a>
<a id="9823" href="Protocol.Streamlet.TraceVerifier.html#9791" class="Function">getLabels</a> <a id="9833" class="Symbol">=</a> <a id="9835" class="Symbol">λ</a> <a id="9837" class="Keyword">where</a>
  <a id="9845" class="Symbol">(_</a> <a id="9848" href="Prelude.Closures.html#689" class="InductiveConstructor Operator">∎</a><a id="9849" class="Symbol">)</a> <a id="9851" class="Symbol">→</a> <a id="9853" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="9858" class="Symbol">(_</a> <a id="9861" href="Prelude.Closures.html#709" class="InductiveConstructor Operator">⟨</a> <a id="9863" href="Protocol.Streamlet.TraceVerifier.html#9863" class="Bound">st</a> <a id="9866" href="Prelude.Closures.html#709" class="InductiveConstructor Operator">⟩←—</a> <a id="9870" href="Protocol.Streamlet.TraceVerifier.html#9870" class="Bound">tr</a><a id="9872" class="Symbol">)</a> <a id="9874" class="Symbol">→</a> <a id="9876" href="Protocol.Streamlet.TraceVerifier.html#9278" class="Function">getLabel</a> <a id="9885" href="Protocol.Streamlet.TraceVerifier.html#9863" class="Bound">st</a> <a id="9888" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9890" href="Protocol.Streamlet.TraceVerifier.html#9791" class="Function">getLabels</a> <a id="9900" href="Protocol.Streamlet.TraceVerifier.html#9870" class="Bound">tr</a>

<a id="ValidAction-sound"></a><a id="9904" href="Protocol.Streamlet.TraceVerifier.html#9904" class="Function">ValidAction-sound</a> <a id="9922" class="Symbol">:</a>
  <a id="9926" class="Symbol">(</a><a id="9927" href="Protocol.Streamlet.TraceVerifier.html#9927" class="Bound">va</a> <a id="9930" class="Symbol">:</a> <a id="9932" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="9944" href="Protocol.Streamlet.TraceVerifier.html#595" class="Generalizable">α</a> <a id="9946" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a><a id="9947" class="Symbol">)</a> <a id="9949" class="Symbol">→</a>
  <a id="9953" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="9955" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="9958" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦</a> <a id="9960" href="Protocol.Streamlet.TraceVerifier.html#9927" class="Bound">va</a> <a id="9963" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟧</a>
<a id="9965" href="Protocol.Streamlet.TraceVerifier.html#9904" class="Function">ValidAction-sound</a> <a id="9983" class="Symbol">=</a> <a id="9985" class="Symbol">λ</a> <a id="9987" class="Keyword">where</a>
  <a id="9995" class="Symbol">(</a><a id="9996" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="10001" href="Protocol.Streamlet.TraceVerifier.html#10001" class="Bound">m∈</a> <a id="10004" href="Protocol.Streamlet.TraceVerifier.html#10004" class="Bound">x</a> <a id="10006" href="Protocol.Streamlet.TraceVerifier.html#10006" class="Bound">x₁</a> <a id="10009" href="Protocol.Streamlet.TraceVerifier.html#10009" class="Bound">x₂</a> <a id="10012" href="Protocol.Streamlet.TraceVerifier.html#10012" class="Bound">x₃</a> <a id="10015" href="Protocol.Streamlet.TraceVerifier.html#10015" class="Bound">x₄</a><a id="10017" class="Symbol">)</a> <a id="10019" class="Symbol">→</a> <a id="10021" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10031" href="Function.Base.html#1974" class="Function Operator">$</a>
    <a id="10037" href="Protocol.Streamlet.Local.Step.html#1710" class="InductiveConstructor">VoteBlock</a> <a id="10047" href="Protocol.Streamlet.TraceVerifier.html#10001" class="Bound">m∈</a> <a id="10050" class="Symbol">(</a><a id="10051" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10062" href="Protocol.Streamlet.TraceVerifier.html#10004" class="Bound">x</a><a id="10063" class="Symbol">)</a> <a id="10065" class="Symbol">(</a><a id="10066" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10077" href="Protocol.Streamlet.TraceVerifier.html#10006" class="Bound">x₁</a><a id="10079" class="Symbol">)</a> <a id="10081" class="Symbol">(</a><a id="10082" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10093" href="Protocol.Streamlet.TraceVerifier.html#10009" class="Bound">x₂</a><a id="10095" class="Symbol">)</a> <a id="10097" class="Symbol">(</a><a id="10098" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10109" href="Protocol.Streamlet.TraceVerifier.html#10012" class="Bound">x₃</a><a id="10111" class="Symbol">)</a> <a id="10113" class="Symbol">(</a><a id="10114" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10125" href="Protocol.Streamlet.TraceVerifier.html#10015" class="Bound">x₄</a><a id="10127" class="Symbol">)</a>
  <a id="10131" class="Symbol">(</a><a id="10132" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="10140" href="Protocol.Streamlet.TraceVerifier.html#10140" class="Bound">x</a> <a id="10142" href="Protocol.Streamlet.TraceVerifier.html#10142" class="Bound">x₁</a> <a id="10145" href="Protocol.Streamlet.TraceVerifier.html#10145" class="Bound">x₂</a> <a id="10148" href="Protocol.Streamlet.TraceVerifier.html#10148" class="Bound">x₃</a><a id="10150" class="Symbol">)</a> <a id="10152" class="Symbol">→</a> <a id="10154" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10164" href="Function.Base.html#1974" class="Function Operator">$</a>
    <a id="10170" href="Protocol.Streamlet.Local.Step.html#1314" class="InductiveConstructor">ProposeBlock</a> <a id="10183" class="Symbol">(</a><a id="10184" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10195" href="Protocol.Streamlet.TraceVerifier.html#10140" class="Bound">x</a><a id="10196" class="Symbol">)</a> <a id="10198" class="Symbol">(</a><a id="10199" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10210" href="Protocol.Streamlet.TraceVerifier.html#10142" class="Bound">x₁</a><a id="10212" class="Symbol">)</a> <a id="10214" class="Symbol">(</a><a id="10215" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10226" href="Protocol.Streamlet.TraceVerifier.html#10145" class="Bound">x₂</a><a id="10228" class="Symbol">)</a> <a id="10230" class="Symbol">(</a><a id="10231" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10242" href="Protocol.Streamlet.TraceVerifier.html#10148" class="Bound">x₃</a><a id="10244" class="Symbol">)</a>
  <a id="10248" class="Symbol">(</a><a id="10249" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="10262" href="Protocol.Streamlet.TraceVerifier.html#10262" class="Bound">m∈</a> <a id="10265" class="Symbol">_</a> <a id="10267" href="Protocol.Streamlet.TraceVerifier.html#10267" class="Bound">x</a><a id="10268" class="Symbol">)</a> <a id="10270" class="Symbol">→</a> <a id="10272" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10282" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10284" href="Protocol.Streamlet.Local.Step.html#2361" class="InductiveConstructor">RegisterVote</a> <a id="10297" href="Protocol.Streamlet.TraceVerifier.html#10262" class="Bound">m∈</a> <a id="10300" class="Symbol">(</a><a id="10301" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10312" href="Protocol.Streamlet.TraceVerifier.html#10267" class="Bound">x</a><a id="10313" class="Symbol">)</a>
  <a id="10317" class="Symbol">(</a><a id="10318" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="10332" href="Protocol.Streamlet.TraceVerifier.html#10332" class="Bound">x</a> <a id="10334" href="Protocol.Streamlet.TraceVerifier.html#10334" class="Bound">x₁</a><a id="10336" class="Symbol">)</a> <a id="10338" class="Symbol">→</a> <a id="10340" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10350" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10352" href="Protocol.Streamlet.Local.Step.html#2751" class="InductiveConstructor">FinalizeBlock</a> <a id="10366" class="Symbol">_</a> <a id="10368" class="Symbol">_</a> <a id="10370" class="Symbol">(</a><a id="10371" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10382" href="Protocol.Streamlet.TraceVerifier.html#10332" class="Bound">x</a><a id="10383" class="Symbol">)</a> <a id="10385" class="Symbol">(</a><a id="10386" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10397" href="Protocol.Streamlet.TraceVerifier.html#10334" class="Bound">x₁</a><a id="10399" class="Symbol">)</a>
  <a id="10403" class="Symbol">(</a><a id="10404" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="10418" href="Protocol.Streamlet.TraceVerifier.html#10418" class="Bound">x</a> <a id="10420" href="Protocol.Streamlet.TraceVerifier.html#10420" class="Bound">x₁</a><a id="10422" class="Symbol">)</a> <a id="10424" class="Symbol">→</a> <a id="10426" href="Protocol.Streamlet.Global.Step.html#2028" class="InductiveConstructor">DishonestLocalStep</a> <a id="10445" class="Symbol">(</a><a id="10446" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10457" href="Protocol.Streamlet.TraceVerifier.html#10418" class="Bound">x</a><a id="10458" class="Symbol">)</a> <a id="10460" class="Symbol">(</a><a id="10461" href="Prelude.Decidable.html#416" class="Function">toRelevant</a> <a id="10472" href="Protocol.Streamlet.TraceVerifier.html#10420" class="Bound">x₁</a><a id="10474" class="Symbol">)</a>
  <a id="10478" class="Symbol">(</a><a id="10479" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="10487" href="Protocol.Streamlet.TraceVerifier.html#10487" class="Bound">env∈</a> <a id="10492" class="Symbol">_)</a> <a id="10495" class="Symbol">→</a> <a id="10497" href="Protocol.Streamlet.Global.Step.html#2366" class="InductiveConstructor">Deliver</a> <a id="10505" href="Protocol.Streamlet.TraceVerifier.html#10487" class="Bound">env∈</a>
  <a id="10512" class="Symbol">(</a><a id="10513" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="10518" href="Protocol.Streamlet.TraceVerifier.html#10518" class="Bound">env∈</a> <a id="10523" class="Symbol">_)</a> <a id="10526" class="Symbol">→</a> <a id="10528" href="Protocol.Streamlet.Global.Step.html#2625" class="InductiveConstructor">Drop</a> <a id="10533" href="Protocol.Streamlet.TraceVerifier.html#10518" class="Bound">env∈</a>
  <a id="10540" href="Protocol.Streamlet.TraceVerifier.html#2060" class="InductiveConstructor">AdvanceEpoch</a> <a id="10553" class="Symbol">→</a> <a id="10555" href="Protocol.Streamlet.Global.Step.html#2518" class="InductiveConstructor">AdvanceEpoch</a>

<a id="ValidAction-complete"></a><a id="10569" href="Protocol.Streamlet.TraceVerifier.html#10569" class="Function">ValidAction-complete</a> <a id="10590" class="Symbol">:</a>
  <a id="10594" class="Symbol">(</a><a id="10595" href="Protocol.Streamlet.TraceVerifier.html#10595" class="Bound">st</a> <a id="10598" class="Symbol">:</a> <a id="10600" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="10602" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="10605" href="Protocol.Streamlet.Global.State.html#1051" class="Generalizable">s′</a><a id="10607" class="Symbol">)</a> <a id="10609" class="Symbol">→</a>
  <a id="10613" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="10625" class="Symbol">(</a><a id="10626" href="Protocol.Streamlet.TraceVerifier.html#9278" class="Function">getLabel</a> <a id="10635" href="Protocol.Streamlet.TraceVerifier.html#10595" class="Bound">st</a><a id="10637" class="Symbol">)</a> <a id="10639" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>
<a id="10641" href="Protocol.Streamlet.TraceVerifier.html#10569" class="Function">ValidAction-complete</a> <a id="10662" class="Symbol">=</a> <a id="10664" class="Symbol">λ</a> <a id="10666" class="Keyword">where</a>
  <a id="10674" class="Symbol">(</a><a id="10675" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10685" class="Symbol">(</a><a id="10686" href="Protocol.Streamlet.Local.Step.html#1314" class="InductiveConstructor">ProposeBlock</a> <a id="10699" href="Protocol.Streamlet.TraceVerifier.html#10699" class="Bound">x</a> <a id="10701" href="Protocol.Streamlet.TraceVerifier.html#10701" class="Bound">x₁</a> <a id="10704" href="Protocol.Streamlet.TraceVerifier.html#10704" class="Bound">x₂</a> <a id="10707" href="Protocol.Streamlet.TraceVerifier.html#10707" class="Bound">x₃</a><a id="10709" class="Symbol">))</a> <a id="10712" class="Symbol">→</a> <a id="10714" href="Protocol.Streamlet.TraceVerifier.html#1094" class="InductiveConstructor">Propose</a> <a id="10722" href="Protocol.Streamlet.TraceVerifier.html#10699" class="Bound">x</a> <a id="10724" href="Protocol.Streamlet.TraceVerifier.html#10701" class="Bound">x₁</a> <a id="10727" href="Protocol.Streamlet.TraceVerifier.html#10704" class="Bound">x₂</a> <a id="10730" href="Protocol.Streamlet.TraceVerifier.html#10707" class="Bound">x₃</a>
  <a id="10735" class="Symbol">(</a><a id="10736" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10746" class="Symbol">(</a><a id="10747" href="Protocol.Streamlet.Local.Step.html#1710" class="InductiveConstructor">VoteBlock</a> <a id="10757" href="Protocol.Streamlet.TraceVerifier.html#10757" class="Bound">m∈</a> <a id="10760" href="Protocol.Streamlet.TraceVerifier.html#10760" class="Bound">x</a> <a id="10762" href="Protocol.Streamlet.TraceVerifier.html#10762" class="Bound">x₁</a> <a id="10765" href="Protocol.Streamlet.TraceVerifier.html#10765" class="Bound">x₂</a> <a id="10768" href="Protocol.Streamlet.TraceVerifier.html#10768" class="Bound">x₃</a> <a id="10771" href="Protocol.Streamlet.TraceVerifier.html#10771" class="Bound">x₄</a><a id="10773" class="Symbol">))</a> <a id="10776" class="Symbol">→</a> <a id="10778" href="Protocol.Streamlet.TraceVerifier.html#774" class="InductiveConstructor">Vote</a> <a id="10783" href="Protocol.Streamlet.TraceVerifier.html#10757" class="Bound">m∈</a> <a id="10786" href="Protocol.Streamlet.TraceVerifier.html#10760" class="Bound">x</a> <a id="10788" href="Protocol.Streamlet.TraceVerifier.html#10762" class="Bound">x₁</a> <a id="10791" href="Protocol.Streamlet.TraceVerifier.html#10765" class="Bound">x₂</a> <a id="10794" href="Protocol.Streamlet.TraceVerifier.html#10768" class="Bound">x₃</a> <a id="10797" href="Protocol.Streamlet.TraceVerifier.html#10771" class="Bound">x₄</a>
  <a id="10802" class="Symbol">(</a><a id="10803" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10813" class="Symbol">(</a><a id="10814" href="Protocol.Streamlet.Local.Step.html#2361" class="InductiveConstructor">RegisterVote</a> <a id="10827" href="Protocol.Streamlet.TraceVerifier.html#10827" class="Bound">m∈</a> <a id="10830" href="Protocol.Streamlet.TraceVerifier.html#10830" class="Bound">x</a><a id="10831" class="Symbol">))</a> <a id="10834" class="Symbol">→</a> <a id="10836" href="Protocol.Streamlet.TraceVerifier.html#1337" class="InductiveConstructor">RegisterVote</a> <a id="10849" href="Protocol.Streamlet.TraceVerifier.html#10827" class="Bound">m∈</a> <a id="10852" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="10857" href="Protocol.Streamlet.TraceVerifier.html#10830" class="Bound">x</a>
  <a id="10861" class="Symbol">(</a><a id="10862" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="10872" class="Symbol">(</a><a id="10873" href="Protocol.Streamlet.Local.Step.html#2751" class="InductiveConstructor">FinalizeBlock</a> <a id="10887" class="Symbol">_</a> <a id="10889" class="Symbol">_</a> <a id="10891" href="Protocol.Streamlet.TraceVerifier.html#10891" class="Bound">x</a> <a id="10893" href="Protocol.Streamlet.TraceVerifier.html#10893" class="Bound">x₁</a><a id="10895" class="Symbol">))</a> <a id="10898" class="Symbol">→</a> <a id="10900" href="Protocol.Streamlet.TraceVerifier.html#1540" class="InductiveConstructor">FinalizeBlock</a> <a id="10914" href="Protocol.Streamlet.TraceVerifier.html#10891" class="Bound">x</a> <a id="10916" href="Protocol.Streamlet.TraceVerifier.html#10893" class="Bound">x₁</a>
  <a id="10921" class="Symbol">(</a><a id="10922" href="Protocol.Streamlet.Global.Step.html#2028" class="InductiveConstructor">DishonestLocalStep</a> <a id="10941" href="Protocol.Streamlet.TraceVerifier.html#10941" class="Bound">x</a> <a id="10943" href="Protocol.Streamlet.TraceVerifier.html#10943" class="Bound">x₁</a><a id="10945" class="Symbol">)</a> <a id="10947" class="Symbol">→</a> <a id="10949" href="Protocol.Streamlet.TraceVerifier.html#1712" class="InductiveConstructor">DishonestStep</a> <a id="10963" href="Protocol.Streamlet.TraceVerifier.html#10941" class="Bound">x</a> <a id="10965" href="Protocol.Streamlet.TraceVerifier.html#10943" class="Bound">x₁</a>
  <a id="10970" class="Symbol">(</a><a id="10971" href="Protocol.Streamlet.Global.Step.html#2366" class="InductiveConstructor">Deliver</a> <a id="10979" href="Protocol.Streamlet.TraceVerifier.html#10979" class="Bound">env∈</a><a id="10983" class="Symbol">)</a> <a id="10985" class="Symbol">→</a> <a id="10987" href="Protocol.Streamlet.TraceVerifier.html#1834" class="InductiveConstructor">Deliver</a> <a id="10995" href="Protocol.Streamlet.TraceVerifier.html#10979" class="Bound">env∈</a> <a id="11000" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11007" class="Symbol">(</a><a id="11008" href="Protocol.Streamlet.Global.Step.html#2625" class="InductiveConstructor">Drop</a> <a id="11013" href="Protocol.Streamlet.TraceVerifier.html#11013" class="Bound">env∈</a><a id="11017" class="Symbol">)</a> <a id="11019" class="Symbol">→</a> <a id="11021" href="Protocol.Streamlet.TraceVerifier.html#1950" class="InductiveConstructor">Drop</a> <a id="11026" href="Protocol.Streamlet.TraceVerifier.html#11013" class="Bound">env∈</a> <a id="11031" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11038" href="Protocol.Streamlet.Global.Step.html#2518" class="InductiveConstructor">AdvanceEpoch</a> <a id="11051" class="Symbol">→</a> <a id="11053" href="Protocol.Streamlet.TraceVerifier.html#2060" class="InductiveConstructor">AdvanceEpoch</a>

<a id="ValidAction-⟦⟧"></a><a id="11067" href="Protocol.Streamlet.TraceVerifier.html#11067" class="Function">ValidAction-⟦⟧</a> <a id="11082" class="Symbol">:</a> <a id="11084" class="Symbol">(</a><a id="11085" href="Protocol.Streamlet.TraceVerifier.html#11085" class="Bound">st</a> <a id="11088" class="Symbol">:</a> <a id="11090" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="11092" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="11095" href="Protocol.Streamlet.Global.State.html#1051" class="Generalizable">s′</a><a id="11097" class="Symbol">)</a> <a id="11099" class="Symbol">→</a> <a id="11101" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦</a> <a id="11103" href="Protocol.Streamlet.TraceVerifier.html#10569" class="Function">ValidAction-complete</a> <a id="11124" href="Protocol.Streamlet.TraceVerifier.html#11085" class="Bound">st</a> <a id="11127" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟧</a> <a id="11129" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11131" href="Protocol.Streamlet.Global.State.html#1051" class="Generalizable">s′</a>
<a id="11134" href="Protocol.Streamlet.TraceVerifier.html#11067" class="Function">ValidAction-⟦⟧</a> <a id="11149" class="Symbol">=</a> <a id="11151" class="Symbol">λ</a> <a id="11153" class="Keyword">where</a>
  <a id="11161" class="Symbol">(</a><a id="11162" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="11172" class="Symbol">(</a><a id="11173" href="Protocol.Streamlet.Local.Step.html#1314" class="InductiveConstructor">ProposeBlock</a> <a id="11186" class="Symbol">_</a> <a id="11188" class="Symbol">_</a> <a id="11190" class="Symbol">_</a> <a id="11192" class="Symbol">_))</a> <a id="11196" class="Symbol">→</a> <a id="11198" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11205" class="Symbol">(</a><a id="11206" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="11216" class="Symbol">(</a><a id="11217" href="Protocol.Streamlet.Local.Step.html#1710" class="InductiveConstructor">VoteBlock</a> <a id="11227" class="Symbol">_</a> <a id="11229" class="Symbol">_</a> <a id="11231" class="Symbol">_</a> <a id="11233" class="Symbol">_</a> <a id="11235" class="Symbol">_</a> <a id="11237" class="Symbol">_))</a> <a id="11241" class="Symbol">→</a> <a id="11243" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11250" class="Symbol">(</a><a id="11251" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="11261" class="Symbol">(</a><a id="11262" href="Protocol.Streamlet.Local.Step.html#2361" class="InductiveConstructor">RegisterVote</a> <a id="11275" class="Symbol">_</a> <a id="11277" class="Symbol">_))</a> <a id="11281" class="Symbol">→</a> <a id="11283" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11290" class="Symbol">(</a><a id="11291" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="11301" class="Symbol">(</a><a id="11302" href="Protocol.Streamlet.Local.Step.html#2751" class="InductiveConstructor">FinalizeBlock</a> <a id="11316" class="Symbol">_</a> <a id="11318" class="Symbol">_</a> <a id="11320" class="Symbol">_</a> <a id="11322" class="Symbol">_))</a> <a id="11326" class="Symbol">→</a> <a id="11328" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11335" class="Symbol">(</a><a id="11336" href="Protocol.Streamlet.Global.Step.html#2028" class="InductiveConstructor">DishonestLocalStep</a> <a id="11355" class="Symbol">_</a> <a id="11357" class="Symbol">_)</a> <a id="11360" class="Symbol">→</a> <a id="11362" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11369" class="Symbol">(</a><a id="11370" href="Protocol.Streamlet.Global.Step.html#2366" class="InductiveConstructor">Deliver</a> <a id="11378" class="Symbol">_)</a> <a id="11381" class="Symbol">→</a> <a id="11383" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11390" href="Protocol.Streamlet.Global.Step.html#2518" class="InductiveConstructor">AdvanceEpoch</a> <a id="11403" class="Symbol">→</a> <a id="11405" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11412" class="Symbol">(</a><a id="11413" href="Protocol.Streamlet.Global.Step.html#2625" class="InductiveConstructor">Drop</a> <a id="11418" class="Symbol">_)</a> <a id="11421" class="Symbol">→</a> <a id="11423" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="ValidTrace-sound"></a><a id="11429" href="Protocol.Streamlet.TraceVerifier.html#11429" class="Function">ValidTrace-sound</a> <a id="11446" class="Symbol">:</a>
  <a id="11450" class="Symbol">(</a><a id="11451" href="Protocol.Streamlet.TraceVerifier.html#11451" class="Bound">tr</a> <a id="11454" class="Symbol">:</a> <a id="11456" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="11467" href="Protocol.Streamlet.TraceVerifier.html#611" class="Generalizable">αs</a><a id="11469" class="Symbol">)</a> <a id="11471" class="Symbol">→</a>
  <a id="11475" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦</a> <a id="11477" href="Protocol.Streamlet.TraceVerifier.html#11451" class="Bound">tr</a> <a id="11480" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟧∗</a> <a id="11483" href="Prelude.Closures.html#666" class="Datatype Operator">↞—</a> <a id="11486" href="Protocol.Streamlet.Global.State.html#1243" class="Function">initGlobalState</a>
<a id="11502" href="Protocol.Streamlet.TraceVerifier.html#11429" class="Function">ValidTrace-sound</a> <a id="11519" href="Protocol.Streamlet.TraceVerifier.html#7277" class="InductiveConstructor">[]</a> <a id="11522" class="Symbol">=</a> <a id="11524" class="Symbol">_</a> <a id="11526" href="Prelude.Closures.html#689" class="InductiveConstructor Operator">∎</a>
<a id="11528" href="Protocol.Streamlet.TraceVerifier.html#11429" class="Function">ValidTrace-sound</a> <a id="11545" class="Symbol">(</a><a id="11546" href="Protocol.Streamlet.TraceVerifier.html#11546" class="Bound">α</a> <a id="11548" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="11550" href="Protocol.Streamlet.TraceVerifier.html#11550" class="Bound">tr</a> <a id="11553" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="11555" href="Protocol.Streamlet.TraceVerifier.html#11555" class="Bound">vα</a><a id="11557" class="Symbol">)</a> <a id="11559" class="Symbol">=</a> <a id="11561" class="Symbol">_</a> <a id="11563" href="Prelude.Closures.html#709" class="InductiveConstructor Operator">⟨</a> <a id="11565" href="Protocol.Streamlet.TraceVerifier.html#9904" class="Function">ValidAction-sound</a> <a id="11583" href="Protocol.Streamlet.TraceVerifier.html#11555" class="Bound">vα</a> <a id="11586" href="Prelude.Closures.html#709" class="InductiveConstructor Operator">⟩←—</a> <a id="11590" href="Protocol.Streamlet.TraceVerifier.html#11429" class="Function">ValidTrace-sound</a> <a id="11607" href="Protocol.Streamlet.TraceVerifier.html#11550" class="Bound">tr</a>

<a id="11611" class="Keyword">mutual</a>

  <a id="ValidTrace-complete"></a><a id="11621" href="Protocol.Streamlet.TraceVerifier.html#11621" class="Function">ValidTrace-complete</a> <a id="11641" class="Symbol">:</a>
    <a id="11647" class="Symbol">(</a><a id="11648" href="Protocol.Streamlet.TraceVerifier.html#11648" class="Bound">st</a> <a id="11651" class="Symbol">:</a> <a id="11653" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a> <a id="11655" href="Prelude.Closures.html#666" class="Datatype Operator">↞—</a> <a id="11658" href="Protocol.Streamlet.Global.State.html#1243" class="Function">initGlobalState</a><a id="11673" class="Symbol">)</a> <a id="11675" class="Symbol">→</a>
    <a id="11681" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="11683" class="Symbol">λ</a> <a id="11685" class="Symbol">(</a><a id="11686" href="Protocol.Streamlet.TraceVerifier.html#11686" class="Bound">tr</a> <a id="11689" class="Symbol">:</a> <a id="11691" href="Protocol.Streamlet.TraceVerifier.html#7239" class="Datatype">ValidTrace</a> <a id="11702" class="Symbol">(</a><a id="11703" href="Protocol.Streamlet.TraceVerifier.html#9791" class="Function">getLabels</a> <a id="11713" href="Protocol.Streamlet.TraceVerifier.html#11648" class="Bound">st</a><a id="11715" class="Symbol">))</a> <a id="11718" class="Symbol">→</a>
      <a id="11726" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟦</a> <a id="11728" href="Protocol.Streamlet.TraceVerifier.html#11686" class="Bound">tr</a> <a id="11731" href="Protocol.Streamlet.TraceVerifier.html#7461" class="Function Operator">⟧∗</a> <a id="11734" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11736" href="Protocol.Streamlet.Global.State.html#1049" class="Generalizable">s</a>
  <a id="11740" href="Protocol.Streamlet.TraceVerifier.html#11621" class="Function">ValidTrace-complete</a> <a id="11760" class="Symbol">(_</a> <a id="11763" href="Prelude.Closures.html#689" class="InductiveConstructor Operator">∎</a><a id="11764" class="Symbol">)</a> <a id="11766" class="Symbol">=</a> <a id="11768" href="Protocol.Streamlet.TraceVerifier.html#7277" class="InductiveConstructor">[]</a> <a id="11771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11773" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="11780" href="Protocol.Streamlet.TraceVerifier.html#11621" class="Function">ValidTrace-complete</a> <a id="11800" class="Symbol">{</a><a id="11801" class="Argument">s</a> <a id="11803" class="Symbol">=</a> <a id="11805" href="Protocol.Streamlet.TraceVerifier.html#11805" class="Bound">s</a><a id="11806" class="Symbol">}</a> <a id="11808" class="Symbol">(_</a> <a id="11811" href="Prelude.Closures.html#709" class="InductiveConstructor Operator">⟨</a> <a id="11813" href="Protocol.Streamlet.TraceVerifier.html#11813" class="Bound">st</a> <a id="11816" href="Prelude.Closures.html#709" class="InductiveConstructor Operator">⟩←—</a> <a id="11820" href="Protocol.Streamlet.TraceVerifier.html#11820" class="Bound">tr</a><a id="11822" class="Symbol">)</a>
    <a id="11828" class="Symbol">=</a>
    <a id="11834" class="Keyword">let</a>
      <a id="11844" href="Protocol.Streamlet.TraceVerifier.html#11844" class="Bound">vtr</a> <a id="11848" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11850" href="Protocol.Streamlet.TraceVerifier.html#11850" class="Bound">≡s</a> <a id="11853" class="Symbol">=</a> <a id="11855" href="Protocol.Streamlet.TraceVerifier.html#11621" class="Function">ValidTrace-complete</a> <a id="11875" href="Protocol.Streamlet.TraceVerifier.html#11820" class="Bound">tr</a>

      <a id="11885" href="Protocol.Streamlet.TraceVerifier.html#11885" class="Bound">α</a>  <a id="11888" class="Symbol">=</a> <a id="11890" href="Protocol.Streamlet.TraceVerifier.html#9278" class="Function">getLabel</a> <a id="11899" href="Protocol.Streamlet.TraceVerifier.html#11813" class="Bound">st</a>
      <a id="11908" href="Protocol.Streamlet.TraceVerifier.html#11908" class="Bound">vα</a> <a id="11911" class="Symbol">=</a> <a id="11913" href="Protocol.Streamlet.TraceVerifier.html#10569" class="Function">ValidAction-complete</a> <a id="11934" href="Protocol.Streamlet.TraceVerifier.html#11813" class="Bound">st</a>

      <a id="11944" class="Keyword">open</a> <a id="11949" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
    <a id="11965" class="Keyword">in</a>
      <a id="11974" class="Symbol">(_</a> <a id="11977" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">∷</a> <a id="11979" href="Protocol.Streamlet.TraceVerifier.html#11844" class="Bound">vtr</a> <a id="11983" href="Protocol.Streamlet.TraceVerifier.html#7327" class="InductiveConstructor Operator">⊣</a> <a id="11985" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="11991" class="Symbol">(</a><a id="11992" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="12004" class="Symbol">_)</a> <a id="12007" class="Symbol">(</a><a id="12008" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="12012" href="Protocol.Streamlet.TraceVerifier.html#11850" class="Bound">≡s</a><a id="12014" class="Symbol">)</a> <a id="12016" class="Symbol">(</a><a id="12017" href="Protocol.Streamlet.TraceVerifier.html#10569" class="Function">ValidAction-complete</a> <a id="12038" href="Protocol.Streamlet.TraceVerifier.html#11813" class="Bound">st</a><a id="12040" class="Symbol">))</a> <a id="12043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
      <a id="12051" class="Symbol">(</a><a id="12052" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">≡-Reasoning.begin</a>
        <a id="12078" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦</a> <a id="12080" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="12086" class="Symbol">(</a><a id="12087" href="Protocol.Streamlet.TraceVerifier.html#724" class="Datatype">ValidAction</a> <a id="12099" href="Protocol.Streamlet.TraceVerifier.html#11885" class="Bound">α</a><a id="12100" class="Symbol">)</a> <a id="12102" class="Symbol">(</a><a id="12103" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="12107" href="Protocol.Streamlet.TraceVerifier.html#11850" class="Bound">≡s</a><a id="12109" class="Symbol">)</a> <a id="12111" href="Protocol.Streamlet.TraceVerifier.html#11908" class="Bound">vα</a> <a id="12114" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟧</a>
      <a id="12122" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a>  <a id="12126" href="Protocol.Streamlet.TraceVerifier.html#2896" class="Function">⟦⟧-subst</a> <a id="12135" href="Protocol.Streamlet.TraceVerifier.html#11908" class="Bound">vα</a> <a id="12138" class="Symbol">(</a><a id="12139" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="12143" href="Protocol.Streamlet.TraceVerifier.html#11850" class="Bound">≡s</a><a id="12145" class="Symbol">)</a> <a id="12147" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="12157" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟦</a> <a id="12159" href="Protocol.Streamlet.TraceVerifier.html#11908" class="Bound">vα</a> <a id="12162" href="Protocol.Streamlet.TraceVerifier.html#2109" class="Function Operator">⟧</a>
      <a id="12170" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="12173" href="Protocol.Streamlet.TraceVerifier.html#11067" class="Function">ValidAction-⟦⟧</a> <a id="12188" href="Protocol.Streamlet.TraceVerifier.html#11813" class="Bound">st</a> <a id="12191" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="12201" href="Protocol.Streamlet.TraceVerifier.html#11805" class="Bound">s</a>
      <a id="12209" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">≡-Reasoning.∎</a><a id="12222" class="Symbol">)</a>
</pre></body></html>
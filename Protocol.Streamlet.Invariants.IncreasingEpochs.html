<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Protocol.Streamlet.Invariants.IncreasingEpochs</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="Agda.css" />
</head>
<body>
<!--
<pre class="Agda"><a id="14" class="Symbol">{-#</a> <a id="18" class="Keyword">OPTIONS</a> <a id="26" class="Pragma">--safe</a> <a id="33" class="Symbol">#-}</a>
<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Prelude.html" class="Module">Prelude</a>
<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Hash.html" class="Module">Hash</a>

<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Protocol.Streamlet.Assumptions.html" class="Module">Protocol.Streamlet.Assumptions</a>

<a id="119" class="Keyword">module</a> <a id="126" class="Symbol">@</a><a id="127" class="Symbol">0</a> <a id="129" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html" class="Module">Protocol.Streamlet.Invariants.IncreasingEpochs</a> <a id="176" class="Symbol">(</a><a id="177" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#177" class="Bound">⋯</a> <a id="179" class="Symbol">:</a> <a id="181" class="Symbol">_)</a> <a id="184" class="Symbol">(</a><a id="185" class="Keyword">open</a> <a id="190" href="Protocol.Streamlet.Assumptions.html#222" class="Module">Assumptions</a> <a id="202" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#177" class="Bound">⋯</a><a id="203" class="Symbol">)</a> <a id="205" class="Keyword">where</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Protocol.Streamlet.html" class="Module">Protocol.Streamlet</a> <a id="243" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#177" class="Bound">⋯</a>
  <a id="247" class="Keyword">hiding</a> <a id="254" class="Symbol">(</a><a id="255" href="Protocol.Streamlet.Local.Chain.html#1471" class="Generalizable">vch</a><a id="258" class="Symbol">;</a> <a id="260" href="Protocol.Streamlet.Local.Chain.html#1475" class="Generalizable">vch′</a><a id="264" class="Symbol">)</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Protocol.Streamlet.Invariants.Unforgeability.html" class="Module">Protocol.Streamlet.Invariants.Unforgeability</a> <a id="323" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#177" class="Bound">⋯</a>
<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Protocol.Streamlet.Invariants.VotedOnlyOnce.html" class="Module">Protocol.Streamlet.Invariants.VotedOnlyOnce</a> <a id="381" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#177" class="Bound">⋯</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Protocol.Streamlet.Invariants.Votes.html" class="Module">Protocol.Streamlet.Invariants.Votes</a> <a id="431" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#177" class="Bound">⋯</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Protocol.Streamlet.Invariants.TraceInvariants.html" class="Module">Protocol.Streamlet.Invariants.TraceInvariants</a> <a id="491" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#177" class="Bound">⋯</a>
</pre>-->
<pre class="Agda"><a id="IncreasingEpochs′"></a><a id="510" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#510" class="Function">IncreasingEpochs′</a> <a id="528" class="Symbol">:</a> <a id="530" href="Protocol.Streamlet.Global.Traces.html#966" class="Function">StateProperty</a>
<a id="544" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#510" class="Function">IncreasingEpochs′</a> <a id="562" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#562" class="Bound">s</a> <a id="564" class="Symbol">=</a> <a id="566" class="Symbol">∀</a> <a id="568" class="Symbol">{</a><a id="569" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#569" class="Bound">p</a> <a id="571" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#571" class="Bound">p′</a> <a id="574" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#574" class="Bound">b</a> <a id="576" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#576" class="Bound">ch</a> <a id="579" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#579" class="Bound">b′</a> <a id="582" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#582" class="Bound">ch′</a><a id="585" class="Symbol">}</a> <a id="587" class="Symbol">⦃</a> <a id="589" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#589" class="Bound">_</a> <a id="591" class="Symbol">:</a> <a id="593" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="600" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#569" class="Bound">p</a> <a id="602" class="Symbol">⦄</a> <a id="604" class="Symbol">⦃</a> <a id="606" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#606" class="Bound">_</a> <a id="608" class="Symbol">:</a> <a id="610" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="617" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#571" class="Bound">p′</a> <a id="620" class="Symbol">⦄</a> <a id="622" class="Symbol">→</a>
  <a id="626" class="Keyword">let</a> <a id="630" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#630" class="Bound">ms</a> <a id="633" class="Symbol">=</a> <a id="635" class="Symbol">(</a><a id="636" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#562" class="Bound">s</a> <a id="638" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="640" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#569" class="Bound">p</a><a id="641" class="Symbol">)</a> <a id="643" class="Symbol">.</a><a id="644" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a> <a id="647" class="Keyword">in</a>
  <a id="652" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="654" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#571" class="Bound">p′</a> <a id="657" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="659" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="667" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#630" class="Bound">ms</a> <a id="670" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#574" class="Bound">b</a>
  <a id="674" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="676" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#576" class="Bound">ch</a> <a id="679" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="697" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#630" class="Bound">ms</a>
  <a id="702" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="704" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#574" class="Bound">b</a> <a id="706" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="720" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#576" class="Bound">ch</a>

  <a id="726" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="728" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#571" class="Bound">p′</a> <a id="731" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="733" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="741" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#630" class="Bound">ms</a> <a id="744" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#579" class="Bound">b′</a>
  <a id="749" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="751" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#582" class="Bound">ch′</a> <a id="755" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="773" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#630" class="Bound">ms</a>
  <a id="778" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="780" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#579" class="Bound">b′</a> <a id="783" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="797" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#582" class="Bound">ch′</a>

  <a id="804" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="806" href="Data.List.Base.html#5083" class="Function">length</a> <a id="813" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#576" class="Bound">ch</a> <a id="816" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="818" href="Data.List.Base.html#5083" class="Function">length</a> <a id="825" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#582" class="Bound">ch′</a>
    <a id="833" href="Prelude.InferenceRules.html#13984" class="Function Operator">────────────────────────</a>
    <a id="862" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#574" class="Bound">b</a> <a id="864" class="Symbol">.</a><a id="865" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="871" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="873" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#579" class="Bound">b′</a> <a id="876" class="Symbol">.</a><a id="877" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>

<a id="increasingEpochs′"></a><a id="884" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#884" class="Function">increasingEpochs′</a> <a id="902" class="Symbol">:</a> <a id="904" href="Prelude.Closures.html#3717" class="Function">Invariant</a> <a id="914" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#510" class="Function">IncreasingEpochs′</a>
<a id="932" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#884" class="Function">increasingEpochs′</a> <a id="950" class="Symbol">(_</a> <a id="953" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="955" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="960" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="962" class="Symbol">(_</a> <a id="965" href="Prelude.Closures.html#689" class="InductiveConstructor Operator">∎</a><a id="966" class="Symbol">))</a> <a id="969" class="Symbol">{</a><a id="970" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#970" class="Bound">p</a><a id="971" class="Symbol">}</a> <a id="973" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#973" class="Bound">p∈</a>
  <a id="978" class="Keyword">rewrite</a> <a id="986" class="Keyword">let</a> <a id="990" class="Keyword">open</a> <a id="995" href="Protocol.Streamlet.Global.Step.html#3796" class="Module">∣Base∣</a> <a id="1002" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#970" class="Bound">p</a> <a id="1004" class="Keyword">in</a> <a id="1007" href="Protocol.Streamlet.Global.Step.html#3830" class="Function">lookup✓</a>
  <a id="1017" class="Symbol">=</a> <a id="1019" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1024" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#973" class="Bound">p∈</a> <a id="1027" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1030" class="Symbol">λ</a> <a id="1032" class="Symbol">()</a>
<a id="1035" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#884" class="Function">increasingEpochs′</a> <a id="1053" class="Symbol">{</a><a id="1054" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1054" class="Bound">s′</a><a id="1056" class="Symbol">}</a> <a id="1058" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1058" class="Bound">Rs₀</a><a id="1061" class="Symbol">@(_</a> <a id="1065" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1067" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1074" class="Symbol">(_</a> <a id="1077" href="Prelude.Closures.html#830" class="InductiveConstructor Operator">⟨</a> <a id="1079" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1079" class="Bound">s→</a> <a id="1082" href="Prelude.Closures.html#830" class="InductiveConstructor Operator">∣</a> <a id="1084" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1084" class="Bound">s</a> <a id="1086" href="Prelude.Closures.html#830" class="InductiveConstructor Operator">⟩←—</a> <a id="1090" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1090" class="Bound">tr</a><a id="1092" class="Symbol">))</a>
  <a id="1097" class="Symbol">{</a><a id="1098" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1098" class="Bound">p</a><a id="1099" class="Symbol">}{</a><a id="1101" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1101" class="Bound">p′</a><a id="1103" class="Symbol">}{</a><a id="1105" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1105" class="Bound">b</a><a id="1106" class="Symbol">}{</a><a id="1108" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1108" class="Bound">ch</a><a id="1110" class="Symbol">}{</a><a id="1112" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1112" class="Bound">b′</a><a id="1114" class="Symbol">}{</a><a id="1116" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1116" class="Bound">ch′</a><a id="1119" class="Symbol">}</a> <a id="1121" class="Symbol">⦃</a> <a id="1123" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1123" class="Bound">hp</a> <a id="1126" class="Symbol">⦄</a> <a id="1128" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1128" class="Bound">p∈</a> <a id="1131" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1131" class="Bound">ch∈</a> <a id="1135" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1135" class="Bound">b↝</a> <a id="1138" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1138" class="Bound">p∈′</a> <a id="1142" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1142" class="Bound">ch∈′</a> <a id="1147" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1147" class="Bound">b↝′</a> <a id="1151" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1151" class="Bound">len&lt;</a>
  <a id="1158" class="Keyword">with</a> <a id="1163" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> ← <a id="1168" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="1171" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1176" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1178" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1090" class="Bound">tr</a>
  <a id="1183" class="Keyword">with</a> <a id="1188" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> ← <a id="1193" class="Symbol">(λ</a> <a id="1196" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1196" class="Bound">p∈</a> <a id="1199" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1199" class="Bound">ch∈</a> <a id="1203" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1203" class="Bound">p∈′</a> <a id="1207" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1207" class="Bound">ch∈′</a> <a id="1212" class="Symbol">→</a>
    <a id="1218" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#884" class="Function">increasingEpochs′</a> <a id="1236" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="1239" class="Symbol">{</a><a id="1240" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1098" class="Bound">p</a><a id="1241" class="Symbol">}{</a><a id="1243" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1101" class="Bound">p′</a><a id="1245" class="Symbol">}{</a><a id="1247" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1105" class="Bound">b</a><a id="1248" class="Symbol">}{</a><a id="1250" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1108" class="Bound">ch</a><a id="1252" class="Symbol">}{</a><a id="1254" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1112" class="Bound">b′</a><a id="1256" class="Symbol">}{</a><a id="1258" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1116" class="Bound">ch′</a><a id="1261" class="Symbol">}</a> <a id="1263" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1196" class="Bound">p∈</a> <a id="1266" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1199" class="Bound">ch∈</a> <a id="1270" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1135" class="Bound">b↝</a> <a id="1273" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1203" class="Bound">p∈′</a> <a id="1277" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1207" class="Bound">ch∈′</a> <a id="1282" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1147" class="Bound">b↝′</a> <a id="1286" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1151" class="Bound">len&lt;</a><a id="1290" class="Symbol">)</a>
  <a id="1294" class="Keyword">with</a> <a id="1299" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1079" class="Bound">s→</a>
<a id="1302" class="Symbol">...</a> <a id="1306" class="Symbol">|</a> <a id="1308" href="Protocol.Streamlet.Global.Step.html#2366" class="InductiveConstructor">Deliver</a> <a id="1316" class="Symbol">{</a><a id="1317" class="Argument">env</a> <a id="1321" class="Symbol">=</a> <a id="1323" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">[</a> <a id="1325" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1325" class="Bound">p″</a> <a id="1328" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">∣</a> <a id="1330" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1330" class="Bound">M</a> <a id="1332" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">⟩</a><a id="1333" class="Symbol">}</a> <a id="1335" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1335" class="Bound">env∈</a>
  <a id="1342" class="Symbol">=</a> <a id="1344" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1385" class="Function">QED</a>
  <a id="1350" class="Keyword">where</a>
  <a id="1358" class="Keyword">open</a> <a id="1363" href="Protocol.Streamlet.Global.Step.html#3985" class="Module">∣Deliver∣</a> <a id="1373" class="Bound">p</a> <a id="1375" class="Bound">s</a> <a id="1377" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1335" class="Bound">env∈</a>

  <a id="1385" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1385" class="Function">QED</a> <a id="1389" class="Symbol">:</a> <a id="1391" class="Bound">b</a> <a id="1393" class="Symbol">.</a><a id="1394" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="1400" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="1402" class="Bound">b′</a> <a id="1405" class="Symbol">.</a><a id="1406" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
  <a id="1414" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1385" class="Function">QED</a>
    <a id="1422" class="Keyword">with</a> <a id="1427" href="Protocol.Streamlet.Assumptions.html#1192" class="Function">honest?</a> <a id="1435" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1325" class="Bound">p″</a>
  <a id="1440" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1385" class="Function">...</a> <a id="1444" class="Symbol">|</a> <a id="1446" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1449" class="Symbol">_</a> <a id="1451" class="Symbol">=</a> <a id="1453" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="1456" class="Bound">p∈</a> <a id="1459" class="Bound">ch∈</a> <a id="1463" class="Bound">p∈′</a> <a id="1467" class="Bound">ch∈′</a>
  <a id="1474" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1385" class="Function">...</a> <a id="1478" class="Symbol">|</a> <a id="1480" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1484" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1484" class="Bound">hp′</a>
    <a id="1492" class="Keyword">with</a> <a id="1497" class="Bound">p</a> <a id="1499" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="1501" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1325" class="Bound">p″</a>
  <a id="1506" class="Symbol">...</a> <a id="1510" class="Symbol">|</a> <a id="1512" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1515" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1515" class="Bound">p≢</a> <a id="1518" class="Keyword">rewrite</a> <a id="1526" href="Protocol.Streamlet.Global.Step.html#4236" class="Function">lookup✖</a> <a id="1534" class="Symbol">⦃</a> <a id="1536" class="Bound">hp′</a> <a id="1540" class="Symbol">⦄</a> <a id="1542" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1515" class="Bound">p≢</a> <a id="1545" class="Symbol">=</a> <a id="1547" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="1550" class="Bound">p∈</a> <a id="1553" class="Bound">ch∈</a> <a id="1557" class="Bound">p∈′</a> <a id="1561" class="Bound">ch∈′</a>
  <a id="1568" class="Symbol">...</a> <a id="1572" class="Symbol">|</a> <a id="1574" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1578" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1583" class="Keyword">rewrite</a> <a id="1591" href="Protocol.Streamlet.Global.Step.html#4169" class="Function">lookup✓</a> <a id="1599" class="Symbol">⦃</a> <a id="1601" href="Function.Base.html#4736" class="Function">it</a> <a id="1604" class="Symbol">⦄</a> <a id="1606" class="Symbol">=</a> <a id="1608" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="1611" class="Bound">p∈</a> <a id="1614" class="Bound">ch∈</a> <a id="1618" class="Bound">p∈′</a> <a id="1622" class="Bound">ch∈′</a>
<a id="1627" class="Symbol">...</a> <a id="1631" class="Symbol">|</a> <a id="1633" href="Protocol.Streamlet.Global.Step.html#2518" class="InductiveConstructor">AdvanceEpoch</a>
  <a id="1648" class="Keyword">rewrite</a> <a id="1656" class="Keyword">let</a> <a id="1660" class="Keyword">open</a> <a id="1665" href="Protocol.Streamlet.Global.Step.html#3883" class="Module">∣AdvanceEpoch∣</a> <a id="1680" class="Bound">p</a> <a id="1682" class="Bound">s</a> <a id="1684" class="Keyword">in</a> <a id="1687" href="Protocol.Streamlet.Global.Step.html#3927" class="Function">lookup✓</a>
  <a id="1697" class="Symbol">=</a> <a id="1699" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="1702" class="Bound">p∈</a> <a id="1705" class="Bound">ch∈</a> <a id="1709" class="Bound">p∈′</a> <a id="1713" class="Bound">ch∈′</a>
<a id="1718" class="Symbol">...</a> <a id="1722" class="Symbol">|</a> <a id="1724" href="Protocol.Streamlet.Global.Step.html#2625" class="InductiveConstructor">Drop</a> <a id="1729" class="Symbol">_</a>
  <a id="1733" class="Symbol">=</a> <a id="1735" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="1738" class="Bound">p∈</a> <a id="1741" class="Bound">ch∈</a> <a id="1745" class="Bound">p∈′</a> <a id="1749" class="Bound">ch∈′</a>
<a id="1754" class="Symbol">...</a> <a id="1758" class="Symbol">|</a> <a id="1760" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="1770" class="Symbol">{</a><a id="1771" class="Argument">p</a> <a id="1773" class="Symbol">=</a> <a id="1775" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a><a id="1777" class="Symbol">}{</a><a id="1779" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1779" class="Bound">mm</a><a id="1781" class="Symbol">}{</a><a id="1783" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1783" class="Bound">ls′</a><a id="1786" class="Symbol">}</a> <a id="1788" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1788" class="Bound">ls→</a>
  <a id="1794" class="Symbol">=</a> <a id="1796" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">QED</a>
  <a id="1802" class="Keyword">where</a>
  <a id="1810" class="Keyword">open</a> <a id="1815" href="Protocol.Streamlet.Global.Step.html#4791" class="Module">∣LocalStep∣</a> <a id="1827" class="Bound">p</a> <a id="1829" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a> <a id="1832" class="Bound">s</a> <a id="1834" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1779" class="Bound">mm</a> <a id="1837" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1783" class="Bound">ls′</a>

  <a id="1844" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">QED</a> <a id="1848" class="Symbol">:</a> <a id="1850" class="Bound">b</a> <a id="1852" class="Symbol">.</a><a id="1853" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="1859" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="1861" class="Bound">b′</a> <a id="1864" class="Symbol">.</a><a id="1865" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
  <a id="1873" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">QED</a> <a id="1877" class="Keyword">with</a> <a id="1882" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="1884" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1788" class="Bound">ls→</a>
  <a id="1890" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">QED</a> <a id="1894" class="Symbol">|</a> <a id="1896" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="1898" href="Protocol.Streamlet.Local.Step.html#1314" class="InductiveConstructor">ProposeBlock</a> <a id="1911" class="Symbol">{</a><a id="1912" class="Argument">ch</a> <a id="1915" class="Symbol">=</a> <a id="1917" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1917" class="Bound">ch↓</a><a id="1920" class="Symbol">}</a> <a id="1922" class="Symbol">{</a><a id="1923" class="Argument">txs</a> <a id="1927" class="Symbol">=</a> <a id="1929" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1929" class="Bound">txs</a><a id="1932" class="Symbol">}</a> <a id="1934" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1934" class="Bound">ph≡</a> <a id="1938" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1943" class="Symbol">(_</a> <a id="1946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1948" href="Protocol.Streamlet.Local.State.html#5362" class="InductiveConstructor">mkLongest∈</a> <a id="1959" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1959" class="Bound">lch</a><a id="1962" class="Symbol">)</a> <a id="1964" class="Symbol">(_</a> <a id="1967" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="1969" class="Symbol">_</a> <a id="1971" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="1973" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1973" class="Bound">B↝</a><a id="1975" class="Symbol">)</a>
    <a id="1981" class="Symbol">=</a> <a id="1983" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2629" class="Function">≪QED</a>
    <a id="1992" class="Keyword">where</a>
    <a id="2002" class="Keyword">open</a> <a id="2007" href="Protocol.Streamlet.Global.Step.html#3153" class="Module">∣ProposeBlock∣</a> <a id="2022" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a> <a id="2025" class="Bound">s</a> <a id="2027" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1917" class="Bound">ch↓</a> <a id="2031" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1929" class="Bound">txs</a>

    <a id="2040" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2040" class="Function">E≡</a> <a id="2043" class="Symbol">:</a> <a id="2045" class="Bound">b</a> <a id="2047" class="Symbol">.</a><a id="2048" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2054" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2056" class="Bound">b′</a> <a id="2059" class="Symbol">.</a><a id="2060" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2066" class="Symbol">→</a> <a id="2068" class="Bound">b</a> <a id="2070" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2072" class="Bound">b′</a>
    <a id="2079" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2040" class="Function">E≡</a> <a id="2082" class="Symbol">=</a> <a id="2084" href="Protocol.Streamlet.Invariants.VotedOnlyOnce.html#5322" class="Function">votedOnlyOncePerEpoch</a> <a id="2106" class="Bound">Rs₀</a> <a id="2110" class="Bound">p∈</a> <a id="2113" class="Bound">p∈′</a>

    <a id="2122" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2122" class="Function">b≢b′</a> <a id="2127" class="Symbol">:</a> <a id="2129" class="Bound">b</a> <a id="2131" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2133" class="Bound">b′</a>
    <a id="2140" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2122" class="Function">b≢b′</a> <a id="2145" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2150" class="Symbol">=</a> <a id="2152" href="Data.Nat.Properties.html#9840" class="Function">Nat.&lt;-irrefl</a> <a id="2165" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2170" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2248" class="Function">len&lt;≡</a>
      <a id="2182" class="Keyword">where</a>
      <a id="2194" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2194" class="Function">ch≡</a> <a id="2198" class="Symbol">:</a> <a id="2200" class="Bound">ch</a> <a id="2203" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2205" class="Bound">ch′</a>
      <a id="2215" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2194" class="Function">ch≡</a> <a id="2219" class="Symbol">=</a> <a id="2221" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="2234" class="Bound">b↝</a> <a id="2237" class="Bound">b↝′</a>

      <a id="2248" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2248" class="Function">len&lt;≡</a> <a id="2254" class="Symbol">:</a> <a id="2256" href="Data.List.Base.html#5083" class="Function">length</a> <a id="2263" class="Bound">ch</a> <a id="2266" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="2268" href="Data.List.Base.html#5083" class="Function">length</a> <a id="2275" class="Bound">ch</a>
      <a id="2284" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2248" class="Function">len&lt;≡</a> <a id="2290" class="Symbol">=</a> <a id="2292" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Data.List.Base.html#5083" class="Function">length</a> <a id="2306" class="Bound">ch</a> <a id="2309" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;_</a><a id="2311" class="Symbol">)</a> <a id="2313" class="Symbol">(</a><a id="2314" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="2318" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2320" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="2325" href="Data.List.Base.html#5083" class="Function">length</a> <a id="2332" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2194" class="Function">ch≡</a><a id="2335" class="Symbol">)</a> <a id="2337" class="Bound">len&lt;</a>

    <a id="2347" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2347" class="Function">E≢</a> <a id="2350" class="Symbol">:</a> <a id="2352" class="Bound">b</a> <a id="2354" class="Symbol">.</a><a id="2355" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2361" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2363" class="Bound">b′</a> <a id="2366" class="Symbol">.</a><a id="2367" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="2377" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2347" class="Function">E≢</a> <a id="2380" class="Symbol">=</a> <a id="2382" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2122" class="Function">b≢b′</a> <a id="2387" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2389" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2040" class="Function">E≡</a>

    <a id="2397" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2397" class="Function">vch</a>  <a id="2402" class="Symbol">=</a> <a id="2404" href="Protocol.Streamlet.Local.State.html#4239" class="Function">notarized-chain-∈⇒Valid</a> <a id="2428" class="Bound">ch∈</a>
    <a id="2436" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2436" class="Function">vch′</a> <a id="2441" class="Symbol">=</a> <a id="2443" href="Protocol.Streamlet.Local.State.html#4239" class="Function">notarized-chain-∈⇒Valid</a> <a id="2467" class="Bound">ch∈′</a>

    <a id="2477" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2477" class="Function">E&lt;</a> <a id="2480" class="Symbol">:</a> <a id="2482" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a> <a id="2484" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="2486" class="Bound">ch</a> <a id="2489" class="Symbol">→</a> <a id="2491" href="Protocol.Streamlet.Global.Step.html#3204" class="Function">E</a> <a id="2493" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="2495" class="Bound">b</a> <a id="2497" class="Symbol">.</a><a id="2498" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="2508" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2477" class="Function">E&lt;</a> <a id="2511" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2511" class="Bound">B∈</a> <a id="2514" class="Symbol">=</a> <a id="2516" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="2535" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2397" class="Function">vch</a> <a id="2539" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2511" class="Bound">B∈</a> <a id="2542" class="Bound">b↝</a>

    <a id="2550" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2550" class="Function">E&lt;′</a> <a id="2554" class="Symbol">:</a> <a id="2556" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a> <a id="2558" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="2560" class="Bound">ch′</a> <a id="2564" class="Symbol">→</a> <a id="2566" href="Protocol.Streamlet.Global.Step.html#3204" class="Function">E</a> <a id="2568" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="2570" class="Bound">b′</a> <a id="2573" class="Symbol">.</a><a id="2574" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="2584" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2550" class="Function">E&lt;′</a> <a id="2588" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2588" class="Bound">B∈</a> <a id="2591" class="Symbol">=</a> <a id="2593" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="2612" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2436" class="Function">vch′</a> <a id="2617" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2588" class="Bound">B∈</a> <a id="2620" class="Bound">b↝′</a>

    <a id="2629" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2629" class="Function">≪QED</a> <a id="2634" class="Symbol">:</a> <a id="2636" class="Bound">b</a> <a id="2638" class="Symbol">.</a><a id="2639" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2645" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="2647" class="Bound">b′</a> <a id="2650" class="Symbol">.</a><a id="2651" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="2661" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2629" class="Function">≪QED</a>
      <a id="2672" class="Keyword">with</a> <a id="2677" class="Bound">b</a> <a id="2679" href="Data.List.Membership.DecSetoid.html#882" class="Function Operator">∈?</a> <a id="2682" class="Bound">ch′</a>
    <a id="2690" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2629" class="Function">...</a> <a id="2694" class="Symbol">|</a> <a id="2696" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2700" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2700" class="Bound">b∈ch′</a>
      <a id="2712" class="Symbol">=</a> <a id="2714" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="2733" class="Symbol">(</a><a id="2734" href="Protocol.Streamlet.Local.State.html#4239" class="Function">notarized-chain-∈⇒Valid</a> <a id="2758" class="Bound">ch∈′</a><a id="2762" class="Symbol">)</a> <a id="2764" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2700" class="Bound">b∈ch′</a> <a id="2770" class="Bound">b↝′</a>
    <a id="2778" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2629" class="Function">...</a> <a id="2782" class="Symbol">|</a> <a id="2784" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2787" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2787" class="Bound">b∉ch′</a>
      <a id="2799" class="Keyword">with</a> <a id="2804" class="Bound">p</a> <a id="2806" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="2808" href="Protocol.Streamlet.Global.Step.html#3221" class="Function">L</a>
    <a id="2814" class="Comment">-- * p ≠ L</a>
    <a id="2829" class="Symbol">...</a> <a id="2833" class="Symbol">|</a> <a id="2835" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a>  <a id="2839" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2839" class="Bound">p≢</a> <a id="2842" class="Keyword">rewrite</a> <a id="2850" href="Protocol.Streamlet.Global.Step.html#5027" class="Function">lookup✖</a> <a id="2858" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2839" class="Bound">p≢</a>
      <a id="2867" class="Symbol">=</a> <a id="2869" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="2872" class="Bound">p∈</a> <a id="2875" class="Bound">ch∈</a> <a id="2879" class="Bound">p∈′</a> <a id="2883" class="Bound">ch∈′</a>
    <a id="2892" class="Comment">-- * p = L</a>
    <a id="2907" class="Symbol">...</a> <a id="2911" class="Symbol">|</a> <a id="2913" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2917" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2922" class="Keyword">rewrite</a> <a id="2930" href="Protocol.Streamlet.Global.Step.html#4963" class="Function">lookup✓</a>
      <a id="2944" class="Comment">-- p∈′ : p′ ∈ voteIds (M ∷ ≪db) b′</a>
      <a id="2985" class="Keyword">with</a> <a id="2990" class="Bound">b</a> <a id="2992" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="2994" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a> <a id="2996" class="Symbol">|</a> <a id="2998" class="Bound">b′</a> <a id="3001" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="3003" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a>
    <a id="3009" class="Comment">-- * b = b′ = B</a>
    <a id="3029" class="Symbol">...</a> <a id="3033" class="Symbol">|</a> <a id="3035" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3039" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3044" class="Symbol">|</a> <a id="3046" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3050" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3061" class="Symbol">=</a> <a id="3063" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="3070" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3072" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2122" class="Function">b≢b′</a> <a id="3077" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="3086" class="Comment">-- * b ≠ b′ ≠ B</a>
    <a id="3106" class="Symbol">...</a> <a id="3110" class="Symbol">|</a> <a id="3112" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3115" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3115" class="Bound">b≢</a> <a id="3118" class="Symbol">|</a> <a id="3120" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3123" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3123" class="Bound">b′≢</a>
      <a id="3133" class="Symbol">=</a> <a id="3135" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="3138" class="Bound">p∈</a> <a id="3141" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3174" class="Function">≪ch∈</a> <a id="3146" class="Bound">p∈′</a> <a id="3150" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3409" class="Function">≪ch∈′</a>
      <a id="3162" class="Keyword">where</a>
      <a id="3174" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3174" class="Function">≪ch∈</a> <a id="3179" class="Symbol">:</a> <a id="3181" class="Bound">ch</a> <a id="3184" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="3202" href="Protocol.Streamlet.Global.Step.html#3371" class="Function">≪db</a>
      <a id="3212" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3174" class="Function">≪ch∈</a> <a id="3217" class="Symbol">=</a> <a id="3219" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="3237" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3355" class="Function">B∉</a> <a id="3240" class="Bound">ch∈</a>
        <a id="3252" class="Keyword">where</a>
        <a id="3266" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3266" class="Function">≤E</a> <a id="3269" class="Symbol">:</a> <a id="3271" class="Bound">b</a> <a id="3273" class="Symbol">.</a><a id="3274" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="3280" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3282" href="Protocol.Streamlet.Global.Step.html#3204" class="Function">E</a>
        <a id="3292" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3266" class="Function">≤E</a> <a id="3295" class="Symbol">=</a> <a id="3297" href="Protocol.Streamlet.Invariants.Votes.html#2125" class="Function">noFutureVotes≤</a> <a id="3312" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="3315" class="Symbol">(</a><a id="3316" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="3332" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="3335" class="Symbol">⦃</a> <a id="3337" class="Bound">hp</a> <a id="3340" class="Symbol">⦄</a> <a id="3342" class="Bound">p∈</a><a id="3344" class="Symbol">)</a>

        <a id="3355" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3355" class="Function">B∉</a> <a id="3358" class="Symbol">:</a> <a id="3360" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a> <a id="3362" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="3364" class="Bound">ch</a>
        <a id="3375" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3355" class="Function">B∉</a> <a id="3378" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3378" class="Bound">B∈</a> <a id="3381" class="Symbol">=</a> <a id="3383" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="3391" class="Symbol">(</a><a id="3392" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2477" class="Function">E&lt;</a> <a id="3395" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3378" class="Bound">B∈</a><a id="3397" class="Symbol">)</a> <a id="3399" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3266" class="Function">≤E</a>

      <a id="3409" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3409" class="Function">≪ch∈′</a> <a id="3415" class="Symbol">:</a> <a id="3417" class="Bound">ch′</a> <a id="3421" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="3439" href="Protocol.Streamlet.Global.Step.html#3371" class="Function">≪db</a>
      <a id="3449" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3409" class="Function">≪ch∈′</a> <a id="3455" class="Symbol">=</a> <a id="3457" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="3475" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3596" class="Function">B∉</a> <a id="3478" class="Bound">ch∈′</a>
        <a id="3491" class="Keyword">where</a>
        <a id="3505" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3505" class="Function">≤E</a> <a id="3508" class="Symbol">:</a> <a id="3510" class="Bound">b′</a> <a id="3513" class="Symbol">.</a><a id="3514" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="3520" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3522" href="Protocol.Streamlet.Global.Step.html#3204" class="Function">E</a>
        <a id="3532" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3505" class="Function">≤E</a> <a id="3535" class="Symbol">=</a> <a id="3537" href="Protocol.Streamlet.Invariants.Votes.html#2125" class="Function">noFutureVotes≤</a> <a id="3552" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="3572" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="3575" class="Symbol">⦃</a> <a id="3577" class="Bound">hp</a> <a id="3580" class="Symbol">⦄</a> <a id="3582" class="Bound">p∈′</a><a id="3585" class="Symbol">)</a>

        <a id="3596" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3596" class="Function">B∉</a> <a id="3599" class="Symbol">:</a> <a id="3601" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a> <a id="3603" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="3605" class="Bound">ch′</a>
        <a id="3617" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3596" class="Function">B∉</a> <a id="3620" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3620" class="Bound">B∈</a> <a id="3623" class="Symbol">=</a> <a id="3625" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="3633" class="Symbol">(</a><a id="3634" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2550" class="Function">E&lt;′</a> <a id="3638" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3620" class="Bound">B∈</a><a id="3640" class="Symbol">)</a> <a id="3642" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3505" class="Function">≤E</a>
    <a id="3649" class="Comment">-- * b = B, b′ ≠ B</a>
    <a id="3672" class="Symbol">...</a> <a id="3676" class="Symbol">|</a> <a id="3678" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3682" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3687" class="Symbol">|</a> <a id="3689" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3692" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3692" class="Bound">b′≢</a>
      <a id="3702" class="Symbol">=</a> <a id="3704" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="3711" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3713" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="3721" class="Bound">len&lt;</a> <a id="3726" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3888" class="Function">len≥</a>
      <a id="3737" class="Keyword">where</a>
      <a id="3749" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3749" class="Function">≪ch∈′</a> <a id="3755" class="Symbol">:</a> <a id="3757" class="Bound">ch′</a> <a id="3761" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="3779" href="Protocol.Streamlet.Global.Step.html#3371" class="Function">≪db</a>
      <a id="3789" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3749" class="Function">≪ch∈′</a> <a id="3795" class="Symbol">=</a> <a id="3797" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="3815" class="Bound">b∉ch′</a> <a id="3821" class="Bound">ch∈′</a>

      <a id="3833" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3833" class="Function">ch↓≡</a> <a id="3838" class="Symbol">:</a> <a id="3840" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1917" class="Bound">ch↓</a> <a id="3844" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3846" class="Bound">ch</a>
      <a id="3855" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3833" class="Function">ch↓≡</a> <a id="3860" class="Symbol">=</a> <a id="3862" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="3875" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1973" class="Bound">B↝</a> <a id="3878" class="Bound">b↝</a>

      <a id="3888" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3888" class="Function">len≥</a> <a id="3893" class="Symbol">:</a> <a id="3895" href="Data.List.Base.html#5083" class="Function">length</a> <a id="3902" class="Bound">ch</a> <a id="3905" href="Data.Nat.Base.html#2259" class="Function Operator">≥</a> <a id="3907" href="Data.List.Base.html#5083" class="Function">length</a> <a id="3914" class="Bound">ch′</a>
      <a id="3924" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3888" class="Function">len≥</a> <a id="3929" class="Symbol">=</a> <a id="3931" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="3937" class="Symbol">(</a><a id="3938" href="Data.Nat.Base.html#2259" class="Function Operator">_≥</a> <a id="3941" class="Symbol">_)</a> <a id="3944" class="Symbol">(</a><a id="3945" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="3950" href="Data.List.Base.html#5083" class="Function">length</a> <a id="3957" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3833" class="Function">ch↓≡</a><a id="3961" class="Symbol">)</a> <a id="3963" class="Symbol">(</a><a id="3964" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1959" class="Bound">lch</a> <a id="3968" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#3749" class="Function">≪ch∈′</a><a id="3973" class="Symbol">)</a>
    <a id="3979" class="Comment">-- * b ≠ B, b′ = B</a>
    <a id="4002" class="Symbol">...</a> <a id="4006" class="Symbol">|</a> <a id="4008" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="4011" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4011" class="Bound">b≢</a> <a id="4014" class="Symbol">|</a> <a id="4016" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="4020" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="4031" class="Symbol">=</a> <a id="4033" href="Data.Nat.Properties.html#9131" class="Function">Nat.≤∧≢⇒&lt;</a> <a id="4043" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4151" class="Function">QED≤</a> <a id="4048" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#2347" class="Function">E≢</a>
      <a id="4057" class="Keyword">where</a>
      <a id="4069" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4069" class="Function">≪p∈</a> <a id="4073" class="Symbol">:</a> <a id="4075" class="Bound">p′</a> <a id="4078" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4080" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="4088" class="Symbol">(</a><a id="4089" class="Bound">s</a> <a id="4091" class="Symbol">.</a><a id="4092" href="Protocol.Streamlet.Global.State.html#939" class="Field">history</a><a id="4099" class="Symbol">)</a> <a id="4101" class="Bound">b</a>
      <a id="4109" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4069" class="Function">≪p∈</a> <a id="4113" class="Symbol">=</a> <a id="4115" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="4131" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="4134" class="Symbol">⦃</a> <a id="4136" class="Bound">hp</a> <a id="4139" class="Symbol">⦄</a> <a id="4141" class="Bound">p∈</a>

      <a id="4151" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4151" class="Function">QED≤</a> <a id="4156" class="Symbol">:</a> <a id="4158" class="Bound">b</a> <a id="4160" class="Symbol">.</a><a id="4161" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4167" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="4169" href="Protocol.Streamlet.Global.Step.html#3204" class="Function">E</a>
      <a id="4177" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4151" class="Function">QED≤</a> <a id="4182" class="Symbol">=</a> <a id="4184" href="Protocol.Streamlet.Invariants.Votes.html#2125" class="Function">noFutureVotes≤</a> <a id="4199" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="4202" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4069" class="Function">≪p∈</a>
  <a id="4208" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">QED</a> <a id="4212" class="Symbol">|</a> <a id="4214" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="4216" href="Protocol.Streamlet.Local.Step.html#1710" class="InductiveConstructor">VoteBlock</a> <a id="4226" class="Symbol">{</a><a id="4227" class="Argument">ch</a> <a id="4230" class="Symbol">=</a> <a id="4232" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4232" class="Bound">ch↓</a><a id="4235" class="Symbol">}</a> <a id="4237" class="Symbol">{</a><a id="4238" class="Argument">txs</a> <a id="4242" class="Symbol">=</a> <a id="4244" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4244" class="Bound">txs</a><a id="4247" class="Symbol">}</a> <a id="4249" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4249" class="Bound">M∈</a> <a id="4252" class="Symbol">_</a> <a id="4254" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4254" class="Bound">ph≡</a> <a id="4258" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4258" class="Bound">p″≢L</a> <a id="4263" class="Symbol">(_</a> <a id="4266" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4268" href="Protocol.Streamlet.Local.State.html#5362" class="InductiveConstructor">mkLongest∈</a> <a id="4279" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4279" class="Bound">lch</a><a id="4282" class="Symbol">)</a> <a id="4284" class="Symbol">(_</a> <a id="4287" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="4289" class="Symbol">_</a> <a id="4291" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="4293" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4293" class="Bound">B↝</a><a id="4295" class="Symbol">)</a>
    <a id="4301" class="Symbol">=</a> <a id="4303" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4946" class="Function">≪QED</a>
    <a id="4312" class="Keyword">where</a>
    <a id="4322" class="Keyword">open</a> <a id="4327" href="Protocol.Streamlet.Global.Step.html#3396" class="Module">∣VoteBlock∣</a> <a id="4339" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a> <a id="4342" class="Bound">s</a> <a id="4344" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4232" class="Bound">ch↓</a> <a id="4348" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4244" class="Bound">txs</a>

    <a id="4357" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4357" class="Function">E≡</a> <a id="4360" class="Symbol">:</a> <a id="4362" class="Bound">b</a> <a id="4364" class="Symbol">.</a><a id="4365" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4371" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4373" class="Bound">b′</a> <a id="4376" class="Symbol">.</a><a id="4377" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4383" class="Symbol">→</a> <a id="4385" class="Bound">b</a> <a id="4387" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4389" class="Bound">b′</a>
    <a id="4396" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4357" class="Function">E≡</a> <a id="4399" class="Symbol">=</a> <a id="4401" href="Protocol.Streamlet.Invariants.VotedOnlyOnce.html#5322" class="Function">votedOnlyOncePerEpoch</a> <a id="4423" class="Bound">Rs₀</a> <a id="4427" class="Bound">p∈</a> <a id="4430" class="Bound">p∈′</a>

    <a id="4439" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4439" class="Function">b≢b′</a> <a id="4444" class="Symbol">:</a> <a id="4446" class="Bound">b</a> <a id="4448" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4450" class="Bound">b′</a>
    <a id="4457" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4439" class="Function">b≢b′</a> <a id="4462" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4467" class="Symbol">=</a> <a id="4469" href="Data.Nat.Properties.html#9840" class="Function">Nat.&lt;-irrefl</a> <a id="4482" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4487" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4565" class="Function">len&lt;≡</a>
      <a id="4499" class="Keyword">where</a>
      <a id="4511" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4511" class="Function">ch≡</a> <a id="4515" class="Symbol">:</a> <a id="4517" class="Bound">ch</a> <a id="4520" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4522" class="Bound">ch′</a>
      <a id="4532" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4511" class="Function">ch≡</a> <a id="4536" class="Symbol">=</a> <a id="4538" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="4551" class="Bound">b↝</a> <a id="4554" class="Bound">b↝′</a>

      <a id="4565" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4565" class="Function">len&lt;≡</a> <a id="4571" class="Symbol">:</a> <a id="4573" href="Data.List.Base.html#5083" class="Function">length</a> <a id="4580" class="Bound">ch</a> <a id="4583" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="4585" href="Data.List.Base.html#5083" class="Function">length</a> <a id="4592" class="Bound">ch</a>
      <a id="4601" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4565" class="Function">len&lt;≡</a> <a id="4607" class="Symbol">=</a> <a id="4609" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="4615" class="Symbol">(</a><a id="4616" href="Data.List.Base.html#5083" class="Function">length</a> <a id="4623" class="Bound">ch</a> <a id="4626" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;_</a><a id="4628" class="Symbol">)</a> <a id="4630" class="Symbol">(</a><a id="4631" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="4635" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4637" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="4642" href="Data.List.Base.html#5083" class="Function">length</a> <a id="4649" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4511" class="Function">ch≡</a><a id="4652" class="Symbol">)</a> <a id="4654" class="Bound">len&lt;</a>

    <a id="4664" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4664" class="Function">E≢</a> <a id="4667" class="Symbol">:</a> <a id="4669" class="Bound">b</a> <a id="4671" class="Symbol">.</a><a id="4672" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4678" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4680" class="Bound">b′</a> <a id="4683" class="Symbol">.</a><a id="4684" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="4694" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4664" class="Function">E≢</a> <a id="4697" class="Symbol">=</a> <a id="4699" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4439" class="Function">b≢b′</a> <a id="4704" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4706" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4357" class="Function">E≡</a>

    <a id="4714" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4714" class="Function">vch</a>  <a id="4719" class="Symbol">=</a> <a id="4721" href="Protocol.Streamlet.Local.State.html#4239" class="Function">notarized-chain-∈⇒Valid</a> <a id="4745" class="Bound">ch∈</a>
    <a id="4753" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4753" class="Function">vch′</a> <a id="4758" class="Symbol">=</a> <a id="4760" href="Protocol.Streamlet.Local.State.html#4239" class="Function">notarized-chain-∈⇒Valid</a> <a id="4784" class="Bound">ch∈′</a>

    <a id="4794" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4794" class="Function">E&lt;</a> <a id="4797" class="Symbol">:</a> <a id="4799" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="4801" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4803" class="Bound">ch</a> <a id="4806" class="Symbol">→</a> <a id="4808" href="Protocol.Streamlet.Global.Step.html#3454" class="Function">E</a> <a id="4810" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="4812" class="Bound">b</a> <a id="4814" class="Symbol">.</a><a id="4815" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="4825" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4794" class="Function">E&lt;</a> <a id="4828" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4828" class="Bound">B∈</a> <a id="4831" class="Symbol">=</a> <a id="4833" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="4852" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4714" class="Function">vch</a> <a id="4856" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4828" class="Bound">B∈</a> <a id="4859" class="Bound">b↝</a>

    <a id="4867" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4867" class="Function">E&lt;′</a> <a id="4871" class="Symbol">:</a> <a id="4873" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="4875" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4877" class="Bound">ch′</a> <a id="4881" class="Symbol">→</a> <a id="4883" href="Protocol.Streamlet.Global.Step.html#3454" class="Function">E</a> <a id="4885" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="4887" class="Bound">b′</a> <a id="4890" class="Symbol">.</a><a id="4891" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="4901" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4867" class="Function">E&lt;′</a> <a id="4905" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4905" class="Bound">B∈</a> <a id="4908" class="Symbol">=</a> <a id="4910" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="4929" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4753" class="Function">vch′</a> <a id="4934" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4905" class="Bound">B∈</a> <a id="4937" class="Bound">b↝′</a>

    <a id="4946" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4946" class="Function">≪QED</a> <a id="4951" class="Symbol">:</a> <a id="4953" class="Bound">b</a> <a id="4955" class="Symbol">.</a><a id="4956" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4962" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="4964" class="Bound">b′</a> <a id="4967" class="Symbol">.</a><a id="4968" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="4978" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4946" class="Function">≪QED</a>
      <a id="4989" class="Keyword">with</a> <a id="4994" class="Bound">b</a> <a id="4996" href="Data.List.Membership.DecSetoid.html#882" class="Function Operator">∈?</a> <a id="4999" class="Bound">ch′</a>
    <a id="5007" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4946" class="Function">...</a> <a id="5011" class="Symbol">|</a> <a id="5013" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5017" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5017" class="Bound">b∈ch′</a>
      <a id="5029" class="Symbol">=</a> <a id="5031" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="5050" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4753" class="Function">vch′</a> <a id="5055" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5017" class="Bound">b∈ch′</a> <a id="5061" class="Bound">b↝′</a>
    <a id="5069" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4946" class="Function">...</a> <a id="5073" class="Symbol">|</a> <a id="5075" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5078" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5078" class="Bound">b∉ch′</a>

      <a id="5091" class="Keyword">with</a> <a id="5096" class="Bound">p</a> <a id="5098" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="5100" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a>
    <a id="5107" class="Comment">-- * p ≠ p″</a>
    <a id="5123" class="Symbol">...</a> <a id="5127" class="Symbol">|</a> <a id="5129" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a>  <a id="5133" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5133" class="Bound">p≢</a> <a id="5136" class="Keyword">rewrite</a> <a id="5144" href="Protocol.Streamlet.Global.Step.html#5027" class="Function">lookup✖</a> <a id="5152" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5133" class="Bound">p≢</a>
      <a id="5161" class="Symbol">=</a> <a id="5163" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="5166" class="Bound">p∈</a> <a id="5169" class="Bound">ch∈</a> <a id="5173" class="Bound">p∈′</a> <a id="5177" class="Bound">ch∈′</a>
    <a id="5186" class="Comment">-- * p = p″</a>
    <a id="5202" class="Symbol">...</a> <a id="5206" class="Symbol">|</a> <a id="5208" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5212" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5217" class="Keyword">rewrite</a> <a id="5225" href="Protocol.Streamlet.Global.Step.html#4963" class="Function">lookup✓</a>

      <a id="5240" class="Keyword">with</a> <a id="5245" class="Bound">b</a> <a id="5247" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="5249" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="5251" class="Symbol">|</a> <a id="5253" class="Bound">b′</a> <a id="5256" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="5258" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a>
    <a id="5264" class="Comment">-- * b = b′ = B</a>
    <a id="5284" class="Symbol">...</a> <a id="5288" class="Symbol">|</a> <a id="5290" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5294" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5299" class="Symbol">|</a> <a id="5301" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5305" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="5316" class="Symbol">=</a> <a id="5318" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="5325" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5327" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4439" class="Function">b≢b′</a> <a id="5332" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="5342" class="Comment">-- * b ≠ b′ ≠ B</a>
    <a id="5362" class="Symbol">...</a> <a id="5366" class="Symbol">|</a> <a id="5368" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5371" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5371" class="Bound">b≢</a> <a id="5374" class="Symbol">|</a> <a id="5376" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5379" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5379" class="Bound">b′≢</a>
      <a id="5389" class="Keyword">with</a> <a id="5394" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5394" class="Bound">p∈</a>  ← <a id="5400" href="Protocol.Streamlet.Local.State.html#6251" class="Function">voteIds-∷˘′</a> <a id="5412" class="Symbol">(</a><a id="5413" href="Relation.Binary.PropositionalEquality.Core.html#2329" class="Function">Eq.≢-sym</a> <a id="5422" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5371" class="Bound">b≢</a><a id="5424" class="Symbol">)</a>  <a id="5427" class="Bound">p∈</a>
      <a id="5436" class="Keyword">with</a> <a id="5441" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5441" class="Bound">p∈′</a> ← <a id="5447" href="Protocol.Streamlet.Local.State.html#6251" class="Function">voteIds-∷˘′</a> <a id="5459" class="Symbol">(</a><a id="5460" href="Relation.Binary.PropositionalEquality.Core.html#2329" class="Function">Eq.≢-sym</a> <a id="5469" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5379" class="Bound">b′≢</a><a id="5472" class="Symbol">)</a> <a id="5474" class="Bound">p∈′</a>
      <a id="5484" class="Symbol">=</a> <a id="5486" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="5489" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5394" class="Bound">p∈</a> <a id="5492" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5525" class="Function">≪ch∈</a> <a id="5497" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5441" class="Bound">p∈′</a> <a id="5501" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5783" class="Function">≪ch∈′</a>
      <a id="5513" class="Keyword">where</a>
      <a id="5525" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5525" class="Function">≪ch∈</a> <a id="5530" class="Symbol">:</a> <a id="5532" class="Bound">ch</a> <a id="5535" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="5553" href="Protocol.Streamlet.Global.Step.html#3604" class="Function">≪db</a>
      <a id="5563" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5525" class="Function">≪ch∈</a> <a id="5568" class="Symbol">=</a> <a id="5570" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="5588" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5729" class="Function">B∉</a> <a id="5591" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5593" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="5611" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5729" class="Function">B∉</a> <a id="5614" class="Bound">ch∈</a>
        <a id="5626" class="Keyword">where</a>
        <a id="5640" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5640" class="Function">≤E</a> <a id="5643" class="Symbol">:</a> <a id="5645" class="Bound">b</a> <a id="5647" class="Symbol">.</a><a id="5648" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="5654" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="5656" href="Protocol.Streamlet.Global.Step.html#3454" class="Function">E</a>
        <a id="5666" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5640" class="Function">≤E</a> <a id="5669" class="Symbol">=</a> <a id="5671" href="Protocol.Streamlet.Invariants.Votes.html#2125" class="Function">noFutureVotes≤</a> <a id="5686" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="5689" class="Symbol">(</a><a id="5690" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="5706" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="5709" class="Symbol">⦃</a> <a id="5711" class="Bound">hp</a> <a id="5714" class="Symbol">⦄</a> <a id="5716" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5394" class="Bound">p∈</a><a id="5718" class="Symbol">)</a>

        <a id="5729" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5729" class="Function">B∉</a> <a id="5732" class="Symbol">:</a> <a id="5734" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="5736" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="5738" class="Bound">ch</a>
        <a id="5749" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5729" class="Function">B∉</a> <a id="5752" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5752" class="Bound">B∈</a> <a id="5755" class="Symbol">=</a> <a id="5757" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="5765" class="Symbol">(</a><a id="5766" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4794" class="Function">E&lt;</a> <a id="5769" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5752" class="Bound">B∈</a><a id="5771" class="Symbol">)</a> <a id="5773" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5640" class="Function">≤E</a>

      <a id="5783" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5783" class="Function">≪ch∈′</a> <a id="5789" class="Symbol">:</a> <a id="5791" class="Bound">ch′</a> <a id="5795" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="5813" href="Protocol.Streamlet.Global.Step.html#3604" class="Function">≪db</a>
      <a id="5823" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5783" class="Function">≪ch∈′</a> <a id="5829" class="Symbol">=</a> <a id="5831" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="5849" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5993" class="Function">B∉</a> <a id="5852" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5854" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="5872" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5993" class="Function">B∉</a> <a id="5875" class="Bound">ch∈′</a>
        <a id="5888" class="Keyword">where</a>
        <a id="5902" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5902" class="Function">≤E</a> <a id="5905" class="Symbol">:</a> <a id="5907" class="Bound">b′</a> <a id="5910" class="Symbol">.</a><a id="5911" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="5917" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="5919" href="Protocol.Streamlet.Global.Step.html#3454" class="Function">E</a>
        <a id="5929" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5902" class="Function">≤E</a> <a id="5932" class="Symbol">=</a> <a id="5934" href="Protocol.Streamlet.Invariants.Votes.html#2125" class="Function">noFutureVotes≤</a> <a id="5949" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="5952" class="Symbol">(</a><a id="5953" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="5969" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="5972" class="Symbol">⦃</a> <a id="5974" class="Bound">hp</a> <a id="5977" class="Symbol">⦄</a> <a id="5979" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5441" class="Bound">p∈′</a><a id="5982" class="Symbol">)</a>

        <a id="5993" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5993" class="Function">B∉</a> <a id="5996" class="Symbol">:</a> <a id="5998" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="6000" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="6002" class="Bound">ch′</a>
        <a id="6014" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5993" class="Function">B∉</a> <a id="6017" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6017" class="Bound">B∈</a> <a id="6020" class="Symbol">=</a> <a id="6022" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="6030" class="Symbol">(</a><a id="6031" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4867" class="Function">E&lt;′</a> <a id="6035" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6017" class="Bound">B∈</a><a id="6037" class="Symbol">)</a> <a id="6039" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#5902" class="Function">≤E</a>

    <a id="6047" class="Comment">-- * b = B, b′ ≠ B</a>
    <a id="6070" class="Symbol">...</a> <a id="6074" class="Symbol">|</a> <a id="6076" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6080" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6085" class="Symbol">|</a> <a id="6087" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6090" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6090" class="Bound">b′≢</a>
      <a id="6100" class="Symbol">=</a> <a id="6102" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="6109" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6111" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="6119" class="Bound">len&lt;</a> <a id="6124" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6312" class="Function">len≥</a>
      <a id="6135" class="Keyword">where</a>
      <a id="6147" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6147" class="Function">≪ch∈′</a> <a id="6153" class="Symbol">:</a> <a id="6155" class="Bound">ch′</a> <a id="6159" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="6177" href="Protocol.Streamlet.Global.Step.html#3604" class="Function">≪db</a>
      <a id="6187" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6147" class="Function">≪ch∈′</a> <a id="6193" class="Symbol">=</a> <a id="6195" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="6213" class="Bound">b∉ch′</a> <a id="6219" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6221" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="6239" class="Bound">b∉ch′</a> <a id="6245" class="Bound">ch∈′</a>

      <a id="6257" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6257" class="Function">ch↓≡</a> <a id="6262" class="Symbol">:</a> <a id="6264" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4232" class="Bound">ch↓</a> <a id="6268" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6270" class="Bound">ch</a>
      <a id="6279" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6257" class="Function">ch↓≡</a> <a id="6284" class="Symbol">=</a> <a id="6286" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="6299" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4293" class="Bound">B↝</a> <a id="6302" class="Bound">b↝</a>

      <a id="6312" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6312" class="Function">len≥</a> <a id="6317" class="Symbol">:</a> <a id="6319" href="Data.List.Base.html#5083" class="Function">length</a> <a id="6326" class="Bound">ch</a> <a id="6329" href="Data.Nat.Base.html#2259" class="Function Operator">≥</a> <a id="6331" href="Data.List.Base.html#5083" class="Function">length</a> <a id="6338" class="Bound">ch′</a>
      <a id="6348" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6312" class="Function">len≥</a> <a id="6353" class="Symbol">=</a> <a id="6355" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="6361" class="Symbol">(</a><a id="6362" href="Data.Nat.Base.html#2259" class="Function Operator">_≥</a> <a id="6365" class="Symbol">_)</a> <a id="6368" class="Symbol">(</a><a id="6369" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="6374" href="Data.List.Base.html#5083" class="Function">length</a> <a id="6381" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6257" class="Function">ch↓≡</a><a id="6385" class="Symbol">)</a> <a id="6387" class="Symbol">(</a><a id="6388" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4279" class="Bound">lch</a> <a id="6392" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6147" class="Function">≪ch∈′</a><a id="6397" class="Symbol">)</a>

    <a id="6404" class="Comment">-- * b ≠ B, b′ = B</a>
    <a id="6427" class="Symbol">...</a> <a id="6431" class="Symbol">|</a> <a id="6433" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6436" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6436" class="Bound">b≢</a> <a id="6439" class="Symbol">|</a> <a id="6441" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6445" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="6456" class="Keyword">with</a> <a id="6461" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6461" class="Bound">p∈</a> ← <a id="6466" href="Protocol.Streamlet.Local.State.html#6251" class="Function">voteIds-∷˘′</a> <a id="6478" class="Symbol">(</a><a id="6479" href="Relation.Binary.PropositionalEquality.Core.html#2329" class="Function">Eq.≢-sym</a> <a id="6488" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6436" class="Bound">b≢</a><a id="6490" class="Symbol">)</a> <a id="6492" class="Bound">p∈</a>
      <a id="6501" class="Symbol">=</a> <a id="6503" href="Data.Nat.Properties.html#9131" class="Function">Nat.≤∧≢⇒&lt;</a> <a id="6513" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6621" class="Function">QED≤</a> <a id="6518" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#4664" class="Function">E≢</a>
      <a id="6527" class="Keyword">where</a>
      <a id="6539" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6539" class="Function">≪p∈</a> <a id="6543" class="Symbol">:</a> <a id="6545" class="Bound">p′</a> <a id="6548" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="6550" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="6558" class="Symbol">(</a><a id="6559" class="Bound">s</a> <a id="6561" class="Symbol">.</a><a id="6562" href="Protocol.Streamlet.Global.State.html#939" class="Field">history</a><a id="6569" class="Symbol">)</a> <a id="6571" class="Bound">b</a>
      <a id="6579" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6539" class="Function">≪p∈</a> <a id="6583" class="Symbol">=</a> <a id="6585" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="6601" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="6604" class="Symbol">⦃</a> <a id="6606" class="Bound">hp</a> <a id="6609" class="Symbol">⦄</a> <a id="6611" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6461" class="Bound">p∈</a>

      <a id="6621" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6621" class="Function">QED≤</a> <a id="6626" class="Symbol">:</a> <a id="6628" class="Bound">b</a> <a id="6630" class="Symbol">.</a><a id="6631" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="6637" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="6639" href="Protocol.Streamlet.Global.Step.html#3454" class="Function">E</a>
      <a id="6647" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6621" class="Function">QED≤</a> <a id="6652" class="Symbol">=</a> <a id="6654" href="Protocol.Streamlet.Invariants.Votes.html#2125" class="Function">noFutureVotes≤</a> <a id="6669" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="6672" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6539" class="Function">≪p∈</a>
  <a id="6678" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">QED</a> <a id="6682" class="Symbol">|</a> <a id="6684" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="6686" href="Protocol.Streamlet.Local.Step.html#2361" class="InductiveConstructor">RegisterVote</a> <a id="6699" class="Symbol">{</a><a id="6700" class="Argument">sb</a> <a id="6703" class="Symbol">=</a> <a id="6705" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6705" class="Bound">sb</a><a id="6707" class="Symbol">}</a> <a id="6709" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6709" class="Bound">M∈</a> <a id="6712" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6712" class="Bound">M∉</a>
    <a id="6719" class="Symbol">=</a> <a id="6721" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7323" class="Function">≪QED</a>
    <a id="6730" class="Keyword">where</a>
    <a id="6740" class="Keyword">open</a> <a id="6745" href="Protocol.Streamlet.Global.Step.html#3629" class="Module">∣RegisterVote∣</a> <a id="6760" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a> <a id="6763" class="Bound">s</a> <a id="6765" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6705" class="Bound">sb</a>

    <a id="6773" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6773" class="Function">pᴮ≢</a> <a id="6777" class="Symbol">:</a> <a id="6779" href="Protocol.Streamlet.Global.Step.html#3753" class="Function">Pᴮ</a> <a id="6782" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="6784" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a>
    <a id="6791" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6773" class="Function">pᴮ≢</a> <a id="6795" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6795" class="Bound">Mp≡</a> <a id="6799" class="Symbol">=</a> <a id="6801" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6712" class="Bound">M∉</a> <a id="6804" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6806" href="Data.List.Membership.Propositional.Properties.html#3766" class="Function">L.Mem.∈-map⁺</a> <a id="6819" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="6833" class="Symbol">(</a><a id="6834" href="Protocol.Streamlet.Invariants.Unforgeability.html#582" class="Function">unforgeability</a> <a id="6849" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="6852" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6709" class="Bound">M∈</a> <a id="6855" class="Symbol">(</a><a id="6856" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="6860" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6795" class="Bound">Mp≡</a><a id="6863" class="Symbol">))</a>

    <a id="6871" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6871" class="Function">b≢b′</a> <a id="6876" class="Symbol">:</a> <a id="6878" class="Bound">b</a> <a id="6880" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="6882" class="Bound">b′</a>
    <a id="6889" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6871" class="Function">b≢b′</a> <a id="6894" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6899" class="Symbol">=</a> <a id="6901" href="Data.Nat.Properties.html#9840" class="Function">Nat.&lt;-irrefl</a> <a id="6914" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6919" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6997" class="Function">len&lt;≡</a>
      <a id="6931" class="Keyword">where</a>
      <a id="6943" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6943" class="Function">ch≡</a> <a id="6947" class="Symbol">:</a> <a id="6949" class="Bound">ch</a> <a id="6952" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6954" class="Bound">ch′</a>
      <a id="6964" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6943" class="Function">ch≡</a> <a id="6968" class="Symbol">=</a> <a id="6970" href="Protocol.Streamlet.Local.Chain.html#1592" class="Function">connects-to≡</a> <a id="6983" class="Bound">b↝</a> <a id="6986" class="Bound">b↝′</a>

      <a id="6997" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6997" class="Function">len&lt;≡</a> <a id="7003" class="Symbol">:</a> <a id="7005" href="Data.List.Base.html#5083" class="Function">length</a> <a id="7012" class="Bound">ch</a> <a id="7015" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="7017" href="Data.List.Base.html#5083" class="Function">length</a> <a id="7024" class="Bound">ch</a>
      <a id="7033" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6997" class="Function">len&lt;≡</a> <a id="7039" class="Symbol">=</a> <a id="7041" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="7047" class="Symbol">(</a><a id="7048" href="Data.List.Base.html#5083" class="Function">length</a> <a id="7055" class="Bound">ch</a> <a id="7058" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;_</a><a id="7060" class="Symbol">)</a> <a id="7062" class="Symbol">(</a><a id="7063" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="7067" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7069" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="7074" href="Data.List.Base.html#5083" class="Function">length</a> <a id="7081" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6943" class="Function">ch≡</a><a id="7084" class="Symbol">)</a> <a id="7086" class="Bound">len&lt;</a>

    <a id="7096" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7096" class="Function">E≢</a> <a id="7099" class="Symbol">:</a> <a id="7101" class="Bound">b</a> <a id="7103" class="Symbol">.</a><a id="7104" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="7110" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7112" class="Bound">b′</a> <a id="7115" class="Symbol">.</a><a id="7116" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="7126" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7096" class="Function">E≢</a> <a id="7129" class="Symbol">=</a> <a id="7131" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6871" class="Function">b≢b′</a> <a id="7136" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="7138" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7159" class="Function">E≡</a>
      <a id="7147" class="Keyword">where</a>
      <a id="7159" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7159" class="Function">E≡</a> <a id="7162" class="Symbol">:</a> <a id="7164" class="Bound">b</a> <a id="7166" class="Symbol">.</a><a id="7167" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="7173" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7175" class="Bound">b′</a> <a id="7178" class="Symbol">.</a><a id="7179" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="7185" class="Symbol">→</a> <a id="7187" class="Bound">b</a> <a id="7189" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7191" class="Bound">b′</a>
      <a id="7200" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7159" class="Function">E≡</a> <a id="7203" class="Symbol">=</a> <a id="7205" href="Protocol.Streamlet.Invariants.VotedOnlyOnce.html#5322" class="Function">votedOnlyOncePerEpoch</a> <a id="7227" class="Bound">Rs₀</a> <a id="7231" class="Bound">p∈</a> <a id="7234" class="Bound">p∈′</a>

    <a id="7243" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7243" class="Function">vch</a>  <a id="7248" class="Symbol">=</a> <a id="7250" href="Protocol.Streamlet.Local.State.html#4239" class="Function">notarized-chain-∈⇒Valid</a> <a id="7274" class="Bound">ch∈</a>
    <a id="7282" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7282" class="Function">vch′</a> <a id="7287" class="Symbol">=</a> <a id="7289" href="Protocol.Streamlet.Local.State.html#4239" class="Function">notarized-chain-∈⇒Valid</a> <a id="7313" class="Bound">ch∈′</a>

    <a id="7323" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7323" class="Function">≪QED</a> <a id="7328" class="Symbol">:</a> <a id="7330" class="Bound">b</a> <a id="7332" class="Symbol">.</a><a id="7333" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="7339" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="7341" class="Bound">b′</a> <a id="7344" class="Symbol">.</a><a id="7345" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
    <a id="7355" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7323" class="Function">≪QED</a>
      <a id="7366" class="Keyword">with</a> <a id="7371" class="Bound">p</a> <a id="7373" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="7375" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a>
    <a id="7382" class="Comment">-- * p ≠ p″</a>
    <a id="7398" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7323" class="Function">...</a> <a id="7402" class="Symbol">|</a> <a id="7404" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="7407" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7407" class="Bound">p≢</a> <a id="7410" class="Keyword">rewrite</a> <a id="7418" href="Protocol.Streamlet.Global.Step.html#5027" class="Function">lookup✖</a> <a id="7426" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7407" class="Bound">p≢</a>
      <a id="7435" class="Symbol">=</a> <a id="7437" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="7440" class="Bound">p∈</a> <a id="7443" class="Bound">ch∈</a> <a id="7447" class="Bound">p∈′</a> <a id="7451" class="Bound">ch∈′</a>
    <a id="7460" class="Comment">-- * p = p″</a>
    <a id="7476" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7323" class="Function">...</a> <a id="7480" class="Symbol">|</a> <a id="7482" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="7486" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7491" class="Keyword">rewrite</a> <a id="7499" href="Protocol.Streamlet.Global.Step.html#4963" class="Function">lookup✓</a>

        <a id="7516" class="Keyword">with</a> <a id="7521" class="Bound">b</a> <a id="7523" href="Data.List.Membership.DecSetoid.html#882" class="Function Operator">∈?</a> <a id="7526" class="Bound">ch′</a>
    <a id="7534" class="Symbol">...</a> <a id="7538" class="Symbol">|</a> <a id="7540" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="7544" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7544" class="Bound">b∈ch′</a>
      <a id="7556" class="Symbol">=</a> <a id="7558" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="7577" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7282" class="Function">vch′</a> <a id="7582" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7544" class="Bound">b∈ch′</a> <a id="7588" class="Bound">b↝′</a>
    <a id="7596" class="Symbol">...</a> <a id="7600" class="Symbol">|</a> <a id="7602" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="7605" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7605" class="Bound">b∉ch′</a>

      <a id="7618" class="Keyword">with</a> <a id="7623" class="Bound">b</a> <a id="7625" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="7627" href="Protocol.Streamlet.Global.Step.html#3710" class="Function">B</a> <a id="7629" class="Symbol">|</a> <a id="7631" class="Bound">b′</a> <a id="7634" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="7636" href="Protocol.Streamlet.Global.Step.html#3710" class="Function">B</a>
    <a id="7642" class="Comment">-- * b = b′ = B</a>
    <a id="7662" class="Symbol">...</a> <a id="7666" class="Symbol">|</a> <a id="7668" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="7672" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7677" class="Symbol">|</a> <a id="7679" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="7683" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="7694" class="Symbol">=</a> <a id="7696" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="7703" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7705" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6871" class="Function">b≢b′</a> <a id="7710" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="7720" class="Comment">-- * b ≠ b′, b ≠ B</a>
    <a id="7743" class="Symbol">...</a> <a id="7747" class="Symbol">|</a> <a id="7749" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="7752" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7752" class="Bound">b≢</a> <a id="7755" class="Symbol">|</a> <a id="7757" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="7760" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7760" class="Bound">b′≢</a>
      <a id="7770" class="Symbol">=</a> <a id="7772" href="Data.Nat.Properties.html#9131" class="Function">Nat.≤∧≢⇒&lt;</a> <a id="7782" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7808" class="Function">QED≤</a> <a id="7787" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7096" class="Function">E≢</a>
      <a id="7796" class="Keyword">where</a>
      <a id="7808" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7808" class="Function">QED≤</a> <a id="7813" class="Symbol">:</a> <a id="7815" class="Bound">b</a> <a id="7817" class="Symbol">.</a><a id="7818" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="7824" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="7826" class="Bound">b′</a> <a id="7829" class="Symbol">.</a><a id="7830" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
      <a id="7842" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7808" class="Function">QED≤</a> <a id="7847" class="Symbol">=</a> <a id="7849" href="Protocol.Streamlet.Invariants.TraceInvariants.html#7261" class="Function">increasingEpochs⋯</a> <a id="7867" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="7870" class="Bound">len&lt;</a> <a id="7875" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7903" class="Function">H₁</a> <a id="7878" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7963" class="Function">H₂</a>
        <a id="7889" class="Keyword">where</a>
        <a id="7903" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7903" class="Function">H₁</a> <a id="7906" class="Symbol">=</a> <a id="7908" href="Protocol.Streamlet.Invariants.TraceInvariants.html#2451" class="Function">hasVoted</a> <a id="7917" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="7920" class="Bound">b↝</a>  <a id="7924" class="Symbol">(</a><a id="7925" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="7941" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="7944" class="Symbol">⦃</a> <a id="7946" class="Bound">hp</a> <a id="7949" class="Symbol">⦄</a> <a id="7951" class="Bound">p∈</a><a id="7953" class="Symbol">)</a>
        <a id="7963" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7963" class="Function">H₂</a> <a id="7966" class="Symbol">=</a> <a id="7968" href="Protocol.Streamlet.Invariants.TraceInvariants.html#2451" class="Function">hasVoted</a> <a id="7977" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="7980" class="Bound">b↝′</a> <a id="7984" class="Symbol">(</a><a id="7985" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="8001" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="8004" class="Symbol">⦃</a> <a id="8006" class="Bound">hp</a> <a id="8009" class="Symbol">⦄</a> <a id="8011" class="Bound">p∈′</a><a id="8014" class="Symbol">)</a>

    <a id="8021" class="Comment">-- * b = B, b′ ≠ B</a>
    <a id="8044" class="Symbol">...</a> <a id="8048" class="Symbol">|</a> <a id="8050" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="8054" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8059" class="Symbol">|</a> <a id="8061" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="8064" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8064" class="Bound">b′≢</a>
      <a id="8074" class="Symbol">=</a> <a id="8076" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8100" class="Function">≪≪QED</a>
      <a id="8088" class="Keyword">where</a>
      <a id="8100" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8100" class="Function">≪≪QED</a> <a id="8106" class="Symbol">:</a> <a id="8108" href="Protocol.Streamlet.Global.Step.html#3728" class="Function">Eᴮ</a> <a id="8111" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="8113" class="Bound">b′</a> <a id="8116" class="Symbol">.</a><a id="8117" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
      <a id="8129" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8100" class="Function">≪≪QED</a>
        <a id="8143" class="Keyword">with</a> <a id="8148" href="Protocol.Streamlet.Global.Step.html#3710" class="Function">B</a> <a id="8150" href="Data.List.Membership.DecSetoid.html#882" class="Function Operator">∈?</a> <a id="8153" class="Bound">ch′</a>
      <a id="8163" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8100" class="Function">...</a> <a id="8167" class="Symbol">|</a> <a id="8169" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="8173" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8173" class="Bound">B∈</a>
        <a id="8184" class="Symbol">=</a> <a id="8186" href="Protocol.Streamlet.Local.Chain.html#2908" class="Function">connects-to-epoch&lt;</a> <a id="8205" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7282" class="Function">vch′</a> <a id="8210" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8173" class="Bound">B∈</a> <a id="8213" class="Bound">b↝′</a>
      <a id="8223" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8100" class="Function">...</a> <a id="8227" class="Symbol">|</a> <a id="8229" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="8232" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8232" class="Bound">B∉</a>

        <a id="8244" class="Keyword">with</a> <a id="8249" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="8251" class="Bound">p∈</a>
      <a id="8260" class="Symbol">...</a> <a id="8264" class="Symbol">|</a> <a id="8266" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="8268" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="8274" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8274" class="Bound">p∈</a>
        <a id="8285" class="Comment">-- * p∈′ : pᴮ ∈ voteIds ≪db</a>
        <a id="8321" class="Symbol">=</a> <a id="8323" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="8326" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8274" class="Bound">p∈</a> <a id="8329" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8366" class="Function">≪ch∈</a> <a id="8334" class="Bound">p∈′</a> <a id="8338" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8466" class="Function">≪ch∈′</a>
        <a id="8352" class="Keyword">where</a>
        <a id="8366" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8366" class="Function">≪ch∈</a> <a id="8371" class="Symbol">:</a> <a id="8373" class="Bound">ch</a> <a id="8376" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="8394" href="Protocol.Streamlet.Global.Step.html#3770" class="Function">≪db</a>
        <a id="8406" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8366" class="Function">≪ch∈</a> <a id="8411" class="Symbol">=</a> <a id="8413" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="8431" class="Symbol">(</a><a id="8432" href="Protocol.Streamlet.Local.Chain.html#3157" class="Function">connects-to∉</a> <a id="8445" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7243" class="Function">vch</a> <a id="8449" class="Bound">b↝</a><a id="8451" class="Symbol">)</a> <a id="8453" class="Bound">ch∈</a>

        <a id="8466" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8466" class="Function">≪ch∈′</a> <a id="8472" class="Symbol">:</a> <a id="8474" class="Bound">ch′</a> <a id="8478" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="8496" href="Protocol.Streamlet.Global.Step.html#3770" class="Function">≪db</a>
        <a id="8508" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8466" class="Function">≪ch∈′</a> <a id="8514" class="Symbol">=</a> <a id="8516" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="8534" class="Bound">B∉</a> <a id="8537" class="Bound">ch∈′</a>
      <a id="8548" class="Symbol">...</a> <a id="8552" class="Symbol">|</a> <a id="8554" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="8556" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="8561" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="8574" class="Comment">-- * p′ = pᴮ</a>
        <a id="8595" class="Symbol">=</a> <a id="8597" href="Data.Nat.Properties.html#9131" class="Function">Nat.≤∧≢⇒&lt;</a> <a id="8607" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8725" class="Function">QED≤</a> <a id="8612" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7096" class="Function">E≢</a>
        <a id="8623" class="Keyword">where</a>
        <a id="8637" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8637" class="Function">≪p∈</a> <a id="8641" class="Symbol">:</a> <a id="8643" href="Protocol.Streamlet.Global.Step.html#3753" class="Function">Pᴮ</a> <a id="8646" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="8648" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="8656" class="Symbol">(</a><a id="8657" class="Bound">s</a> <a id="8659" class="Symbol">.</a><a id="8660" href="Protocol.Streamlet.Global.State.html#939" class="Field">history</a><a id="8667" class="Symbol">)</a> <a id="8669" class="Bound">b′</a>
        <a id="8680" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8637" class="Function">≪p∈</a> <a id="8684" class="Symbol">=</a> <a id="8686" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="8702" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="8705" class="Symbol">⦃</a> <a id="8707" class="Bound">hp</a> <a id="8710" class="Symbol">⦄</a> <a id="8712" class="Bound">p∈′</a>

        <a id="8725" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8725" class="Function">QED≤</a> <a id="8730" class="Symbol">:</a> <a id="8732" href="Protocol.Streamlet.Global.Step.html#3728" class="Function">Eᴮ</a> <a id="8735" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="8737" class="Bound">b′</a> <a id="8740" class="Symbol">.</a><a id="8741" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>
        <a id="8755" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8725" class="Function">QED≤</a> <a id="8760" class="Symbol">=</a> <a id="8762" href="Protocol.Streamlet.Invariants.TraceInvariants.html#7261" class="Function">increasingEpochs⋯</a> <a id="8780" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="8783" class="Bound">len&lt;</a> <a id="8788" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8820" class="Function">H₁</a> <a id="8791" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8865" class="Function">H₂</a>
          <a id="8804" class="Keyword">where</a>
          <a id="8820" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8820" class="Function">H₁</a> <a id="8823" class="Symbol">=</a> <a id="8825" href="Protocol.Streamlet.Invariants.TraceInvariants.html#4400" class="Function">hasVotedInbox</a> <a id="8839" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="8842" class="Symbol">⦃</a> <a id="8844" class="Bound">hp</a> <a id="8847" class="Symbol">⦄</a> <a id="8849" class="Bound">b↝</a> <a id="8852" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6709" class="Bound">M∈</a>
          <a id="8865" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8865" class="Function">H₂</a> <a id="8868" class="Symbol">=</a> <a id="8870" href="Protocol.Streamlet.Invariants.TraceInvariants.html#2451" class="Function">hasVoted</a> <a id="8879" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="8882" class="Bound">b↝′</a> <a id="8886" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8637" class="Function">≪p∈</a>

    <a id="8895" class="Comment">-- * b ≠ B, b′ = B</a>
    <a id="8918" class="Symbol">...</a> <a id="8922" class="Symbol">|</a> <a id="8924" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="8927" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8927" class="Bound">b≢</a> <a id="8930" class="Symbol">|</a> <a id="8932" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="8936" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

      <a id="8948" class="Keyword">with</a> <a id="8953" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="8955" class="Bound">p∈′</a>
    <a id="8963" class="Symbol">...</a> <a id="8967" class="Symbol">|</a> <a id="8969" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="8971" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="8977" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8977" class="Bound">p∈′</a>
      <a id="8987" class="Comment">-- * p∈′ : pᴮ ∈ voteIds ≪db</a>
      <a id="9021" class="Symbol">=</a> <a id="9023" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="9026" class="Bound">p∈</a> <a id="9029" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9108" class="Function">≪ch∈</a> <a id="9034" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#8977" class="Bound">p∈′</a> <a id="9038" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9354" class="Function">≪ch∈′</a>
      <a id="9050" class="Keyword">where</a>
      <a id="9062" class="Comment">-- ch∈ : ch notarized-chain-∈ (M ∷ ≪db)</a>
      <a id="9108" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9108" class="Function">≪ch∈</a> <a id="9113" class="Symbol">:</a> <a id="9115" class="Bound">ch</a> <a id="9118" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="9136" href="Protocol.Streamlet.Global.Step.html#3770" class="Function">≪db</a>
      <a id="9146" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9108" class="Function">≪ch∈</a> <a id="9151" class="Symbol">=</a> <a id="9153" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="9171" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9200" class="Function">B∉</a> <a id="9174" class="Bound">ch∈</a>
        <a id="9186" class="Keyword">where</a>
        <a id="9200" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9200" class="Function">B∉</a> <a id="9203" class="Symbol">:</a> <a id="9205" href="Protocol.Streamlet.Global.Step.html#3710" class="Function">B</a> <a id="9207" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="9209" class="Bound">ch</a>
        <a id="9220" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9200" class="Function">B∉</a> <a id="9223" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9223" class="Bound">B∈</a> <a id="9226" class="Symbol">=</a> <a id="9228" href="Data.Nat.Properties.html#8631" class="Function">Nat.&lt;⇒≱</a> <a id="9236" class="Bound">len&lt;</a> <a id="9241" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9272" class="Function">len≥</a>
          <a id="9256" class="Keyword">where</a>
          <a id="9272" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9272" class="Function">len≥</a> <a id="9277" class="Symbol">:</a> <a id="9279" href="Data.List.Base.html#5083" class="Function">length</a> <a id="9286" class="Bound">ch′</a> <a id="9290" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="9292" href="Data.List.Base.html#5083" class="Function">length</a> <a id="9299" class="Bound">ch</a>
          <a id="9312" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9272" class="Function">len≥</a> <a id="9317" class="Symbol">=</a> <a id="9319" href="Protocol.Streamlet.Local.Chain.html#3462" class="Function">connect-to∈</a> <a id="9331" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7243" class="Function">vch</a> <a id="9335" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7282" class="Function">vch′</a> <a id="9340" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9223" class="Bound">B∈</a> <a id="9343" class="Bound">b↝′</a>

      <a id="9354" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9354" class="Function">≪ch∈′</a> <a id="9360" class="Symbol">:</a> <a id="9362" class="Bound">ch′</a> <a id="9366" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="9384" href="Protocol.Streamlet.Global.Step.html#3770" class="Function">≪db</a>
      <a id="9394" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9354" class="Function">≪ch∈′</a> <a id="9400" class="Symbol">=</a> <a id="9402" href="Protocol.Streamlet.Local.State.html#9559" class="Function">notarized-chain-∉</a> <a id="9420" class="Symbol">(</a><a id="9421" href="Protocol.Streamlet.Local.Chain.html#3157" class="Function">connects-to∉</a> <a id="9434" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7282" class="Function">vch′</a> <a id="9439" class="Bound">b↝′</a><a id="9442" class="Symbol">)</a> <a id="9444" class="Bound">ch∈′</a>

    <a id="9454" class="Symbol">...</a> <a id="9458" class="Symbol">|</a> <a id="9460" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="9462" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="9467" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="9478" class="Comment">-- * p′ = pᴮ</a>
      <a id="9497" class="Symbol">=</a> <a id="9499" href="Data.Nat.Properties.html#9131" class="Function">Nat.≤∧≢⇒&lt;</a> <a id="9509" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9617" class="Function">QED≤</a> <a id="9514" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#7096" class="Function">E≢</a>
      <a id="9523" class="Keyword">where</a>
      <a id="9535" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9535" class="Function">≪p∈</a> <a id="9539" class="Symbol">:</a> <a id="9541" href="Protocol.Streamlet.Global.Step.html#3753" class="Function">Pᴮ</a> <a id="9544" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="9546" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="9554" class="Symbol">(</a><a id="9555" class="Bound">s</a> <a id="9557" class="Symbol">.</a><a id="9558" href="Protocol.Streamlet.Global.State.html#939" class="Field">history</a><a id="9565" class="Symbol">)</a> <a id="9567" class="Bound">b</a>
      <a id="9575" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9535" class="Function">≪p∈</a> <a id="9579" class="Symbol">=</a> <a id="9581" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="9597" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="9600" class="Symbol">⦃</a> <a id="9602" class="Bound">hp</a> <a id="9605" class="Symbol">⦄</a> <a id="9607" class="Bound">p∈</a>

      <a id="9617" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9617" class="Function">QED≤</a> <a id="9622" class="Symbol">:</a> <a id="9624" class="Bound">b</a> <a id="9626" class="Symbol">.</a><a id="9627" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="9633" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="9635" href="Protocol.Streamlet.Global.Step.html#3728" class="Function">Eᴮ</a>
      <a id="9644" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9617" class="Function">QED≤</a> <a id="9649" class="Symbol">=</a> <a id="9651" href="Protocol.Streamlet.Invariants.TraceInvariants.html#7261" class="Function">increasingEpochs⋯</a> <a id="9669" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="9672" class="Bound">len&lt;</a> <a id="9677" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9705" class="Function">H₁</a> <a id="9680" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9737" class="Function">H₂</a>
        <a id="9691" class="Keyword">where</a>
        <a id="9705" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9705" class="Function">H₁</a> <a id="9708" class="Symbol">=</a> <a id="9710" href="Protocol.Streamlet.Invariants.TraceInvariants.html#2451" class="Function">hasVoted</a> <a id="9719" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="9722" class="Bound">b↝</a> <a id="9725" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9535" class="Function">≪p∈</a>
        <a id="9737" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9737" class="Function">H₂</a> <a id="9740" class="Symbol">=</a> <a id="9742" href="Protocol.Streamlet.Invariants.TraceInvariants.html#4400" class="Function">hasVotedInbox</a> <a id="9756" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1163" class="Bound">Rs</a> <a id="9759" class="Symbol">⦃</a> <a id="9761" class="Bound">hp</a> <a id="9764" class="Symbol">⦄</a> <a id="9766" class="Bound">b↝′</a> <a id="9770" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#6709" class="Bound">M∈</a>
  <a id="9775" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">QED</a> <a id="9779" class="Symbol">|</a> <a id="9781" href="Prelude.Init.html#7442" class="InductiveConstructor Operator">⟫</a> <a id="9783" href="Protocol.Streamlet.Local.Step.html#2751" class="InductiveConstructor">FinalizeBlock</a> <a id="9797" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9797" class="Bound">ch</a> <a id="9800" class="Symbol">_</a> <a id="9802" class="Symbol">_</a> <a id="9804" class="Symbol">_</a>
   <a id="9809" class="Keyword">with</a> <a id="9814" class="Bound">p</a> <a id="9816" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="9818" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1775" class="Bound">p″</a>
  <a id="9823" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">...</a> <a id="9827" class="Symbol">|</a> <a id="9829" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="9833" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9838" class="Keyword">rewrite</a> <a id="9846" href="Protocol.Streamlet.Global.Step.html#4963" class="Function">lookup✓</a> <a id="9854" class="Symbol">=</a> <a id="9856" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="9859" class="Bound">p∈</a> <a id="9862" class="Bound">ch∈</a> <a id="9866" class="Bound">p∈′</a> <a id="9870" class="Bound">ch∈′</a>
  <a id="9877" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1844" class="Function">...</a> <a id="9881" class="Symbol">|</a> <a id="9883" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="9886" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9886" class="Bound">p≢</a> <a id="9889" class="Keyword">rewrite</a> <a id="9897" href="Protocol.Streamlet.Global.Step.html#5027" class="Function">lookup✖</a> <a id="9905" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9886" class="Bound">p≢</a> <a id="9908" class="Symbol">=</a> <a id="9910" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="9913" class="Bound">p∈</a> <a id="9916" class="Bound">ch∈</a> <a id="9920" class="Bound">p∈′</a> <a id="9924" class="Bound">ch∈′</a>
<a id="9929" class="Symbol">...</a> <a id="9933" class="Symbol">|</a> <a id="9935" href="Protocol.Streamlet.Global.Step.html#2028" class="InductiveConstructor">DishonestLocalStep</a> <a id="9954" class="Symbol">{</a><a id="9955" class="Argument">p</a> <a id="9957" class="Symbol">=</a> <a id="9959" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9959" class="Bound">p′</a><a id="9961" class="Symbol">}{</a><a id="9963" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9963" class="Bound">mm</a><a id="9965" class="Symbol">}</a> <a id="9967" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9967" class="Bound">¬hp′</a> <a id="9972" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9972" class="Bound">h⇒m∈</a>
  <a id="9979" class="Symbol">=</a> <a id="9981" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#1188" class="Bound">IH</a> <a id="9984" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10058" class="Function">≪p∈</a> <a id="9988" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10165" class="Function">≪ch∈</a> <a id="9993" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10111" class="Function">≪p∈′</a> <a id="9998" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10219" class="Function">≪ch∈′</a>
  <a id="10006" class="Keyword">where</a>
  <a id="10014" class="Keyword">open</a> <a id="10019" href="Protocol.Streamlet.Global.Step.html#5375" class="Module">∣DishonestLocalStep∣</a> <a id="10040" class="Bound">p</a> <a id="10042" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9959" class="Bound">p′</a> <a id="10045" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9967" class="Bound">¬hp′</a> <a id="10050" class="Bound">s</a> <a id="10052" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#9963" class="Bound">mm</a>

  <a id="10058" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10058" class="Function">≪p∈</a>   <a id="10064" class="Symbol">=</a> <a id="10066" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="10072" class="Symbol">(λ</a> <a id="10075" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10075" class="Bound">◆</a> <a id="10077" class="Symbol">→</a> <a id="10079" class="Symbol">_</a> <a id="10081" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="10083" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="10091" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10075" class="Bound">◆</a> <a id="10093" class="Symbol">_)</a> <a id="10096" class="Symbol">(</a><a id="10097" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="10101" href="Protocol.Streamlet.Global.Step.html#5539" class="Function">db≡</a><a id="10104" class="Symbol">)</a> <a id="10106" class="Bound">p∈</a>
  <a id="10111" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10111" class="Function">≪p∈′</a>  <a id="10117" class="Symbol">=</a> <a id="10119" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="10125" class="Symbol">(λ</a> <a id="10128" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10128" class="Bound">◆</a> <a id="10130" class="Symbol">→</a> <a id="10132" class="Symbol">_</a> <a id="10134" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="10136" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="10144" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10128" class="Bound">◆</a> <a id="10146" class="Symbol">_)</a> <a id="10149" class="Symbol">(</a><a id="10150" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="10154" href="Protocol.Streamlet.Global.Step.html#5539" class="Function">db≡</a><a id="10157" class="Symbol">)</a> <a id="10159" class="Bound">p∈′</a>
  <a id="10165" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10165" class="Function">≪ch∈</a>  <a id="10171" class="Symbol">=</a> <a id="10173" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="10179" class="Symbol">(_</a> <a id="10182" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈_</a><a id="10200" class="Symbol">)</a>  <a id="10203" class="Symbol">(</a><a id="10204" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="10208" href="Protocol.Streamlet.Global.Step.html#5539" class="Function">db≡</a><a id="10211" class="Symbol">)</a> <a id="10213" class="Bound">ch∈</a>
  <a id="10219" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10219" class="Function">≪ch∈′</a> <a id="10225" class="Symbol">=</a> <a id="10227" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="10233" class="Symbol">(_</a> <a id="10236" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈_</a><a id="10254" class="Symbol">)</a>  <a id="10257" class="Symbol">(</a><a id="10258" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="10262" href="Protocol.Streamlet.Global.Step.html#5539" class="Function">db≡</a><a id="10265" class="Symbol">)</a> <a id="10267" class="Bound">ch∈′</a>
</pre>
<h2 id="global-version-of-increasing-epochs">Global version of
increasing epochs</h2>
<pre class="Agda"><a id="IncreasingEpochs"></a><a id="10325" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10325" class="Function">IncreasingEpochs</a> <a id="10342" class="Symbol">:</a> <a id="10344" href="Protocol.Streamlet.Global.Traces.html#966" class="Function">StateProperty</a>
<a id="10358" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10325" class="Function">IncreasingEpochs</a> <a id="10375" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10375" class="Bound">s</a> <a id="10377" class="Symbol">=</a> <a id="10379" class="Symbol">∀</a> <a id="10381" class="Symbol">{</a><a id="10382" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10382" class="Bound">p</a> <a id="10384" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10384" class="Bound">p′</a> <a id="10387" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10387" class="Bound">p″</a> <a id="10390" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10390" class="Bound">b</a> <a id="10392" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10392" class="Bound">ch</a> <a id="10395" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10395" class="Bound">b′</a> <a id="10398" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10398" class="Bound">ch′</a><a id="10401" class="Symbol">}</a> <a id="10403" class="Symbol">⦃</a> <a id="10405" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10405" class="Bound">_</a> <a id="10407" class="Symbol">:</a> <a id="10409" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="10416" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10382" class="Bound">p</a> <a id="10418" class="Symbol">⦄</a> <a id="10420" class="Symbol">⦃</a> <a id="10422" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10422" class="Bound">_</a> <a id="10424" class="Symbol">:</a> <a id="10426" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="10433" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10384" class="Bound">p′</a> <a id="10436" class="Symbol">⦄</a> <a id="10438" class="Symbol">⦃</a> <a id="10440" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10440" class="Bound">_</a> <a id="10442" class="Symbol">:</a> <a id="10444" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="10451" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10387" class="Bound">p″</a> <a id="10454" class="Symbol">⦄</a> <a id="10456" class="Symbol">→</a>
  <a id="10460" class="Keyword">let</a> <a id="10464" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10464" class="Bound">ms</a>  <a id="10468" class="Symbol">=</a> <a id="10470" class="Symbol">(</a><a id="10471" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10375" class="Bound">s</a> <a id="10473" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="10475" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10382" class="Bound">p</a><a id="10476" class="Symbol">)</a> <a id="10478" class="Symbol">.</a><a id="10479" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a>
      <a id="10488" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10488" class="Bound">ms′</a> <a id="10492" class="Symbol">=</a> <a id="10494" class="Symbol">(</a><a id="10495" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10375" class="Bound">s</a> <a id="10497" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="10499" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10384" class="Bound">p′</a><a id="10501" class="Symbol">)</a> <a id="10503" class="Symbol">.</a><a id="10504" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a>
  <a id="10509" class="Keyword">in</a>
  <a id="10514" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="10516" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10387" class="Bound">p″</a> <a id="10519" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="10521" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="10529" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10464" class="Bound">ms</a> <a id="10532" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10390" class="Bound">b</a>
  <a id="10536" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="10538" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10390" class="Bound">b</a> <a id="10540" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="10554" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10392" class="Bound">ch</a>

  <a id="10560" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="10562" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10387" class="Bound">p″</a> <a id="10565" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="10567" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="10575" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10488" class="Bound">ms′</a> <a id="10579" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10395" class="Bound">b′</a>
  <a id="10584" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="10586" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10395" class="Bound">b′</a> <a id="10589" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="10603" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10398" class="Bound">ch′</a>

  <a id="10610" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="10612" href="Data.List.Base.html#5083" class="Function">length</a> <a id="10619" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10392" class="Bound">ch</a> <a id="10622" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="10624" href="Data.List.Base.html#5083" class="Function">length</a> <a id="10631" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10398" class="Bound">ch′</a>
    <a id="10639" href="Prelude.InferenceRules.html#13984" class="Function Operator">────────────────────────</a>
    <a id="10668" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10390" class="Bound">b</a> <a id="10670" class="Symbol">.</a><a id="10671" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="10677" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="10679" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10395" class="Bound">b′</a> <a id="10682" class="Symbol">.</a><a id="10683" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a>

<a id="increasingEpochs"></a><a id="10690" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10690" class="Function">increasingEpochs</a> <a id="10707" class="Symbol">:</a> <a id="10709" href="Prelude.Closures.html#3717" class="Function">Invariant</a> <a id="10719" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10325" class="Function">IncreasingEpochs</a>
<a id="10736" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10690" class="Function">increasingEpochs</a> <a id="10753" class="Symbol">{</a><a id="10754" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10754" class="Bound">s</a><a id="10755" class="Symbol">}</a> <a id="10757" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="10760" class="Symbol">{</a><a id="10761" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10761" class="Bound">p</a><a id="10762" class="Symbol">}{</a><a id="10764" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10764" class="Bound">p′</a><a id="10766" class="Symbol">}{</a><a id="10768" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a><a id="10770" class="Symbol">}{</a><a id="10772" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10772" class="Bound">b</a><a id="10773" class="Symbol">}{</a><a id="10775" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10775" class="Bound">ch</a><a id="10777" class="Symbol">}{</a><a id="10779" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10779" class="Bound">b′</a><a id="10781" class="Symbol">}{</a><a id="10783" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10783" class="Bound">ch′</a><a id="10786" class="Symbol">}</a> <a id="10788" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10788" class="Bound">p∈</a> <a id="10791" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10791" class="Bound">b↝</a> <a id="10794" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10794" class="Bound">p∈′</a> <a id="10798" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10798" class="Bound">b↝′</a> <a id="10802" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10802" class="Bound">len&lt;</a> <a id="10807" class="Symbol">=</a>
  <a id="10811" class="Keyword">let</a>
    <a id="10819" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10819" class="Bound Operator">_p∈</a> <a id="10823" class="Symbol">:</a> <a id="10825" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a> <a id="10828" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="10830" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="10838" class="Symbol">((</a><a id="10840" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10754" class="Bound">s</a> <a id="10842" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="10844" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a><a id="10846" class="Symbol">)</a> <a id="10848" class="Symbol">.</a><a id="10849" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="10851" class="Symbol">)</a> <a id="10853" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10772" class="Bound">b</a>
    <a id="10859" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10819" class="Bound Operator">_p∈</a>  <a id="10864" class="Symbol">=</a> <a id="10866" href="Protocol.Streamlet.Invariants.Votes.html#1250" class="Function">messageSharing</a> <a id="10881" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="10884" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10788" class="Bound">p∈</a>

    <a id="10892" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10892" class="Bound Operator">_p∈′</a> <a id="10897" class="Symbol">:</a> <a id="10899" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a> <a id="10902" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="10904" href="Protocol.Streamlet.Local.State.html#2919" class="Function">voteIds</a> <a id="10912" class="Symbol">((</a><a id="10914" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10754" class="Bound">s</a> <a id="10916" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="10918" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a><a id="10920" class="Symbol">)</a> <a id="10922" class="Symbol">.</a><a id="10923" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="10925" class="Symbol">)</a> <a id="10927" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10779" class="Bound">b′</a>
    <a id="10934" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10892" class="Bound Operator">_p∈′</a> <a id="10939" class="Symbol">=</a> <a id="10941" href="Protocol.Streamlet.Invariants.Votes.html#1250" class="Function">messageSharing</a> <a id="10956" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="10959" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10794" class="Bound">p∈′</a>

    <a id="10968" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10968" class="Bound">ch∈</a> <a id="10972" class="Symbol">:</a> <a id="10974" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10775" class="Bound">ch</a> <a id="10977" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="10995" class="Symbol">((</a><a id="10997" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10754" class="Bound">s</a> <a id="10999" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="11001" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a><a id="11003" class="Symbol">)</a> <a id="11005" class="Symbol">.</a><a id="11006" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="11008" class="Symbol">)</a>
    <a id="11014" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10968" class="Bound">ch∈</a> <a id="11018" class="Symbol">=</a> <a id="11020" href="Protocol.Streamlet.Invariants.TraceInvariants.html#4880" class="Function">notarized∈</a> <a id="11031" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="11034" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11036" href="Protocol.Streamlet.Invariants.TraceInvariants.html#2451" class="Function">hasVoted</a> <a id="11045" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="11048" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10791" class="Bound">b↝</a> <a id="11051" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11053" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="11069" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="11072" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10819" class="Bound Operator">_p∈</a>

    <a id="11081" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#11081" class="Bound">ch∈′</a> <a id="11086" class="Symbol">:</a> <a id="11088" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10783" class="Bound">ch′</a> <a id="11092" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">notarized-chain-∈</a> <a id="11110" class="Symbol">((</a><a id="11112" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10754" class="Bound">s</a> <a id="11114" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="11116" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a><a id="11118" class="Symbol">)</a> <a id="11120" class="Symbol">.</a><a id="11121" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="11123" class="Symbol">)</a>
    <a id="11129" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#11081" class="Bound">ch∈′</a> <a id="11134" class="Symbol">=</a> <a id="11136" href="Protocol.Streamlet.Invariants.TraceInvariants.html#4880" class="Function">notarized∈</a> <a id="11147" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="11150" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11152" href="Protocol.Streamlet.Invariants.TraceInvariants.html#2451" class="Function">hasVoted</a> <a id="11161" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="11164" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10798" class="Bound">b↝′</a> <a id="11168" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11170" href="Protocol.Streamlet.Invariants.Votes.html#898" class="Function">voteIdsComplete</a> <a id="11186" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="11189" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10892" class="Bound Operator">_p∈′</a>

  <a id="11197" class="Keyword">in</a> <a id="11200" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#884" class="Function">increasingEpochs′</a> <a id="11218" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10757" class="Bound">Rs</a> <a id="11221" class="Symbol">{</a><a id="11222" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a><a id="11224" class="Symbol">}{</a><a id="11226" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10768" class="Bound">p″</a><a id="11228" class="Symbol">}</a> <a id="11230" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10819" class="Bound Operator">_p∈</a> <a id="11234" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10968" class="Bound">ch∈</a> <a id="11238" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10791" class="Bound">b↝</a> <a id="11241" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10892" class="Bound Operator">_p∈′</a> <a id="11246" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#11081" class="Bound">ch∈′</a> <a id="11251" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10798" class="Bound">b↝′</a> <a id="11255" href="Protocol.Streamlet.Invariants.IncreasingEpochs.html#10802" class="Bound">len&lt;</a>
</pre>
</body>
</html>

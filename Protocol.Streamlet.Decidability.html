<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Protocol.Streamlet.Decidability</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="Agda.css" />
</head>
<body>
<h1
id="decidable-propositions-appearing-in-the-streamlet-protocol">Decidable
propositions appearing in the Streamlet protocol</h1>
<!--
<pre class="Agda"><a id="75" class="Symbol">{-#</a> <a id="79" class="Keyword">OPTIONS</a> <a id="87" class="Pragma">--safe</a> <a id="94" class="Symbol">#-}</a>
<a id="98" class="Keyword">open</a> <a id="103" class="Keyword">import</a> <a id="110" href="Prelude.html" class="Module">Prelude</a>
<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="Hash.html" class="Module">Hash</a>

<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Protocol.Streamlet.Assumptions.html" class="Module">Protocol.Streamlet.Assumptions</a>

<a id="180" class="Keyword">module</a> <a id="187" href="Protocol.Streamlet.Decidability.html" class="Module">Protocol.Streamlet.Decidability</a> <a id="219" class="Symbol">(</a><a id="220" href="Protocol.Streamlet.Decidability.html#220" class="Bound">⋯</a> <a id="222" class="Symbol">:</a> <a id="224" class="Symbol">_)</a> <a id="227" class="Symbol">(</a><a id="228" class="Keyword">open</a> <a id="233" href="Protocol.Streamlet.Assumptions.html#222" class="Module">Assumptions</a> <a id="245" href="Protocol.Streamlet.Decidability.html#220" class="Bound">⋯</a><a id="246" class="Symbol">)</a> <a id="248" class="Keyword">where</a>

<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Protocol.Streamlet.html" class="Module">Protocol.Streamlet</a> <a id="286" href="Protocol.Streamlet.Decidability.html#220" class="Bound">⋯</a>
</pre>-->
<p>All the logical propositional appearing in the formulation of the
Streamlet protocol (c.f. <code>Protocol.Streamlet</code>) are in fact
<strong>decidable</strong>, meaning that we can utilize
<em>proof-by-computation</em> to automatically discharge proofs on
closed terms. (c.f. <code>Protocol.Streamlet.Test</code>).</p>
<p>Many of these are <strong>already</strong> decidable, by virtue of
the decidability of their building blocks, such as the case of
notarization where it is derived from all the following:</p>
<ol type="1">
<li><p>Decidability of the basic operations of equality (<code>≡</code>)
and inequality (<code>≥</code>).</p></li>
<li><p>Decidability of the basic type formers of <code>⊎</code> and
<code>All</code>.</p></li>
</ol>
<p>The rest of this file provides manual proofs that this is indeed the
case for all other propositions where this is not automatically
derived.</p>
<pre class="Agda"><a id="1043" class="Keyword">instance</a>
  <a id="Dec-connects"></a><a id="1054" href="Protocol.Streamlet.Decidability.html#1054" class="Function">Dec-connects</a> <a id="1067" class="Symbol">:</a> <a id="1069" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">_-connects-to-_</a> <a id="1085" href="Prelude.Decidable.html#814" class="Function Operator">⁇²</a>
  <a id="1090" href="Protocol.Streamlet.Decidability.html#1054" class="Function">Dec-connects</a> <a id="1103" class="Symbol">.</a><a id="1104" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="1108" class="Keyword">with</a> <a id="1113" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="1117" class="Symbol">|</a> <a id="1119" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="1125" class="Symbol">...</a> <a id="1129" class="Symbol">|</a> <a id="1131" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1135" href="Protocol.Streamlet.Decidability.html#1135" class="Bound">p</a> <a id="1137" class="Symbol">|</a> <a id="1139" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1143" href="Protocol.Streamlet.Decidability.html#1143" class="Bound">q</a> <a id="1145" class="Symbol">=</a> <a id="1147" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Protocol.Streamlet.Local.Chain.html#1092" class="InductiveConstructor">connects∶</a> <a id="1162" href="Protocol.Streamlet.Decidability.html#1135" class="Bound">p</a> <a id="1164" href="Protocol.Streamlet.Decidability.html#1143" class="Bound">q</a><a id="1165" class="Symbol">)</a>
  <a id="1169" class="Symbol">...</a> <a id="1173" class="Symbol">|</a> <a id="1175" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1178" href="Protocol.Streamlet.Decidability.html#1178" class="Bound">¬p</a> <a id="1181" class="Symbol">|</a> <a id="1183" class="Symbol">_</a>     <a id="1189" class="Symbol">=</a> <a id="1191" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1194" class="Symbol">λ</a> <a id="1196" class="Keyword">where</a> <a id="1202" class="Symbol">(</a><a id="1203" href="Protocol.Streamlet.Local.Chain.html#1092" class="InductiveConstructor">connects∶</a> <a id="1213" href="Protocol.Streamlet.Decidability.html#1213" class="Bound">p</a> <a id="1215" class="Symbol">_)</a> <a id="1218" class="Symbol">→</a> <a id="1220" href="Protocol.Streamlet.Decidability.html#1178" class="Bound">¬p</a> <a id="1223" href="Protocol.Streamlet.Decidability.html#1213" class="Bound">p</a>
  <a id="1227" class="CatchallClause Symbol">...</a><a id="1230" class="CatchallClause"> </a><a id="1231" class="CatchallClause Symbol">|</a><a id="1232" class="CatchallClause"> </a><a id="1233" class="CatchallClause Symbol">_</a><a id="1234" class="CatchallClause">     </a><a id="1239" class="CatchallClause Symbol">|</a><a id="1240" class="CatchallClause"> </a><a id="1241" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="1243" class="CatchallClause"> </a><a id="1244" href="Protocol.Streamlet.Decidability.html#1244" class="CatchallClause Bound">¬q</a> <a id="1247" class="Symbol">=</a> <a id="1249" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1252" class="Symbol">λ</a> <a id="1254" class="Keyword">where</a> <a id="1260" class="Symbol">(</a><a id="1261" href="Protocol.Streamlet.Local.Chain.html#1092" class="InductiveConstructor">connects∶</a> <a id="1271" class="Symbol">_</a> <a id="1273" href="Protocol.Streamlet.Decidability.html#1273" class="Bound">q</a><a id="1274" class="Symbol">)</a> <a id="1276" class="Symbol">→</a> <a id="1278" href="Protocol.Streamlet.Decidability.html#1244" class="Bound">¬q</a> <a id="1281" href="Protocol.Streamlet.Decidability.html#1273" class="Bound">q</a>


  <a id="Dec-ValidChain"></a><a id="1287" href="Protocol.Streamlet.Decidability.html#1287" class="Function">Dec-ValidChain</a> <a id="1302" class="Symbol">:</a> <a id="1304" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="1315" href="Prelude.Decidable.html#579" class="Function Operator">⁇¹</a>
  <a id="1320" href="Protocol.Streamlet.Decidability.html#1287" class="Function">Dec-ValidChain</a> <a id="1335" class="Symbol">{</a><a id="1336" href="Protocol.Streamlet.Decidability.html#1336" class="Bound">ch</a><a id="1338" class="Symbol">}</a> <a id="1340" class="Symbol">.</a><a id="1341" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="1345" class="Keyword">with</a> <a id="1350" href="Protocol.Streamlet.Decidability.html#1336" class="Bound">ch</a> <a id="1353" class="Keyword">in</a> <a id="1356" class="Argument">ch≡</a>
  <a id="1362" class="Symbol">...</a> <a id="1366" class="Symbol">|</a> <a id="1368" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1371" class="Symbol">=</a> <a id="1373" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1377" href="Protocol.Streamlet.Local.Chain.html#1232" class="InductiveConstructor">[]</a>
  <a id="1382" class="Symbol">...</a> <a id="1386" class="Symbol">|</a> <a id="1388" href="Protocol.Streamlet.Decidability.html#1388" class="Bound">b</a> <a id="1390" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1392" href="Protocol.Streamlet.Decidability.html#1392" class="Bound">ch</a>
    <a id="1399" class="Keyword">with</a> <a id="1404" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="1408" class="Symbol">|</a> <a id="1410" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="1416" class="Symbol">...</a> <a id="1420" class="Symbol">|</a> <a id="1422" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1426" href="Protocol.Streamlet.Decidability.html#1426" class="Bound">p</a> <a id="1428" class="Symbol">|</a> <a id="1430" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1434" href="Protocol.Streamlet.Decidability.html#1434" class="Bound">q</a> <a id="1436" class="Symbol">=</a> <a id="1438" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1442" class="Symbol">(</a><a id="1443" class="Bound">b</a> <a id="1445" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="1447" href="Protocol.Streamlet.Decidability.html#1426" class="Bound">p</a> <a id="1449" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="1451" href="Protocol.Streamlet.Decidability.html#1434" class="Bound">q</a><a id="1452" class="Symbol">)</a>
  <a id="1456" class="Symbol">...</a> <a id="1460" class="Symbol">|</a> <a id="1462" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1465" href="Protocol.Streamlet.Decidability.html#1465" class="Bound">¬p</a> <a id="1468" class="Symbol">|</a> <a id="1470" class="Symbol">_</a>     <a id="1476" class="Symbol">=</a> <a id="1478" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1481" class="Symbol">λ</a> <a id="1483" class="Keyword">where</a> <a id="1489" class="Symbol">(_</a> <a id="1492" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="1494" href="Protocol.Streamlet.Decidability.html#1494" class="Bound">p</a> <a id="1496" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="1498" class="Symbol">_)</a> <a id="1501" class="Symbol">→</a> <a id="1503" href="Protocol.Streamlet.Decidability.html#1465" class="Bound">¬p</a> <a id="1506" href="Protocol.Streamlet.Decidability.html#1494" class="Bound">p</a>
  <a id="1510" class="CatchallClause Symbol">...</a><a id="1513" class="CatchallClause"> </a><a id="1514" class="CatchallClause Symbol">|</a><a id="1515" class="CatchallClause"> </a><a id="1516" class="CatchallClause Symbol">_</a><a id="1517" class="CatchallClause">     </a><a id="1522" class="CatchallClause Symbol">|</a><a id="1523" class="CatchallClause"> </a><a id="1524" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="1526" class="CatchallClause"> </a><a id="1527" href="Protocol.Streamlet.Decidability.html#1527" class="CatchallClause Bound">¬q</a> <a id="1530" class="Symbol">=</a> <a id="1532" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1535" class="Symbol">λ</a> <a id="1537" class="Keyword">where</a> <a id="1543" class="Symbol">(_</a> <a id="1546" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">∷</a> <a id="1548" class="Symbol">_</a> <a id="1550" href="Protocol.Streamlet.Local.Chain.html#1300" class="InductiveConstructor Operator">⊣</a> <a id="1552" href="Protocol.Streamlet.Decidability.html#1552" class="Bound">q</a><a id="1553" class="Symbol">)</a> <a id="1555" class="Symbol">→</a> <a id="1557" href="Protocol.Streamlet.Decidability.html#1527" class="Bound">¬q</a> <a id="1560" href="Protocol.Streamlet.Decidability.html#1552" class="Bound">q</a>

  <a id="Dec-chain-∈"></a><a id="1565" href="Protocol.Streamlet.Decidability.html#1565" class="Function">Dec-chain-∈</a> <a id="1577" class="Symbol">:</a> <a id="1579" href="Protocol.Streamlet.Local.State.html#1652" class="Datatype Operator">_chain-∈_</a> <a id="1589" href="Prelude.Decidable.html#814" class="Function Operator">⁇²</a>
  <a id="1594" href="Protocol.Streamlet.Decidability.html#1565" class="Function">Dec-chain-∈</a> <a id="1606" class="Symbol">{</a><a id="1607" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1609" class="Symbol">}</a> <a id="1611" class="Symbol">{</a><a id="1612" href="Protocol.Streamlet.Decidability.html#1612" class="Bound">ms</a><a id="1614" class="Symbol">}</a> <a id="1616" class="Symbol">.</a><a id="1617" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="1621" class="Symbol">=</a> <a id="1623" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1627" href="Protocol.Streamlet.Local.State.html#1700" class="InductiveConstructor">[]</a>
  <a id="1632" href="Protocol.Streamlet.Decidability.html#1565" class="Function">Dec-chain-∈</a> <a id="1644" class="Symbol">{</a><a id="1645" href="Protocol.Streamlet.Decidability.html#1645" class="Bound">b</a> <a id="1647" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1649" href="Protocol.Streamlet.Decidability.html#1649" class="Bound">ch</a><a id="1651" class="Symbol">}</a> <a id="1653" class="Symbol">{</a><a id="1654" href="Protocol.Streamlet.Decidability.html#1654" class="Bound">ms</a><a id="1656" class="Symbol">}</a> <a id="1658" class="Symbol">.</a><a id="1659" href="Prelude.Decidable.html#145" class="Field">dec</a>
              <a id="1677" class="Keyword">with</a> <a id="1682" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="1684" href="Prelude.Anyable.html#184" class="Field">Any</a> <a id="1688" class="Symbol">((</a><a id="1690" href="Protocol.Streamlet.Decidability.html#1645" class="Bound">b</a> <a id="1692" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡_</a><a id="1694" class="Symbol">)</a> <a id="1696" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1698" href="Protocol.Streamlet.Block.html#2075" class="Field Operator">_∙block</a><a id="1705" class="Symbol">)</a> <a id="1707" href="Protocol.Streamlet.Decidability.html#1654" class="Bound">ms</a> <a id="1710" href="Prelude.Decidable.html#468" class="Function Operator">¿</a>
  <a id="1714" class="Symbol">...</a> <a id="1718" class="Symbol">|</a> <a id="1720" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1723" href="Protocol.Streamlet.Decidability.html#1723" class="Bound">¬p</a> <a id="1726" class="Symbol">=</a> <a id="1728" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1731" class="Symbol">λ</a> <a id="1733" class="Keyword">where</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Protocol.Streamlet.Decidability.html#1740" class="Bound">p</a> <a id="1742" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="1744" class="Symbol">_</a> <a id="1746" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="1748" class="Symbol">_)</a> <a id="1751" class="Symbol">→</a> <a id="1753" href="Protocol.Streamlet.Decidability.html#1723" class="Bound">¬p</a> <a id="1756" href="Protocol.Streamlet.Decidability.html#1740" class="Bound">p</a>
  <a id="1760" class="Symbol">...</a> <a id="1764" class="Symbol">|</a> <a id="1766" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1770" href="Protocol.Streamlet.Decidability.html#1770" class="Bound">p</a> <a id="1772" class="Keyword">with</a> <a id="1777" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="1779" class="Bound">ch</a> <a id="1782" href="Protocol.Streamlet.Local.State.html#1652" class="Datatype Operator">chain-∈</a> <a id="1790" class="Bound">ms</a> <a id="1793" href="Prelude.Decidable.html#468" class="Function Operator">¿</a>
  <a id="1797" class="Symbol">...</a> <a id="1801" class="Symbol">|</a> <a id="1803" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1806" href="Protocol.Streamlet.Decidability.html#1806" class="Bound">¬q</a> <a id="1809" class="Symbol">=</a> <a id="1811" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1814" class="Symbol">(λ</a> <a id="1817" class="Keyword">where</a> <a id="1823" class="Symbol">(_</a> <a id="1826" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="1828" href="Protocol.Streamlet.Decidability.html#1828" class="Bound">q</a> <a id="1830" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="1832" class="Symbol">_)</a> <a id="1835" class="Symbol">→</a> <a id="1837" href="Protocol.Streamlet.Decidability.html#1806" class="Bound">¬q</a> <a id="1840" href="Protocol.Streamlet.Decidability.html#1828" class="Bound">q</a><a id="1841" class="Symbol">)</a>
  <a id="1845" class="Symbol">...</a> <a id="1849" class="Symbol">|</a> <a id="1851" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1855" href="Protocol.Streamlet.Decidability.html#1855" class="Bound">q</a> <a id="1857" class="Keyword">with</a> <a id="1862" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="1864" class="Bound">b</a> <a id="1866" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="1880" class="Bound">ch</a> <a id="1883" href="Prelude.Decidable.html#468" class="Function Operator">¿</a>
  <a id="1887" class="Symbol">...</a> <a id="1891" class="Symbol">|</a> <a id="1893" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1896" href="Protocol.Streamlet.Decidability.html#1896" class="Bound">¬w</a> <a id="1899" class="Symbol">=</a> <a id="1901" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="1904" class="Symbol">(λ</a> <a id="1907" class="Keyword">where</a> <a id="1913" class="Symbol">(_</a> <a id="1916" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="1918" class="Symbol">_</a> <a id="1920" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="1922" href="Protocol.Streamlet.Decidability.html#1922" class="Bound">w</a><a id="1923" class="Symbol">)</a> <a id="1925" class="Symbol">→</a> <a id="1927" href="Protocol.Streamlet.Decidability.html#1896" class="Bound">¬w</a> <a id="1930" href="Protocol.Streamlet.Decidability.html#1922" class="Bound">w</a><a id="1931" class="Symbol">)</a>
  <a id="1935" class="Symbol">...</a> <a id="1939" class="Symbol">|</a> <a id="1941" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1945" href="Protocol.Streamlet.Decidability.html#1945" class="Bound">w</a> <a id="1947" class="Symbol">=</a> <a id="1949" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1953" class="Symbol">(</a><a id="1954" class="Bound">p</a> <a id="1956" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="1958" class="Bound">q</a> <a id="1960" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="1962" href="Protocol.Streamlet.Decidability.html#1945" class="Bound">w</a><a id="1963" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="1978" class="Keyword">instance</a>
  <a id="NotarizedBlock-dec"></a><a id="1989" href="Protocol.Streamlet.Decidability.html#1989" class="Function">NotarizedBlock-dec</a> <a id="2008" class="Symbol">:</a> <a id="2010" href="Protocol.Streamlet.Local.State.html#3174" class="Record">NotarizedBlock</a> <a id="2025" href="Prelude.Decidable.html#814" class="Function Operator">⁇²</a>
  <a id="2030" href="Protocol.Streamlet.Decidability.html#1989" class="Function">NotarizedBlock-dec</a> <a id="2049" class="Symbol">{</a><a id="2050" href="Protocol.Streamlet.Decidability.html#2050" class="Bound">ms</a><a id="2052" class="Symbol">}{</a><a id="2054" href="Protocol.Streamlet.Decidability.html#2054" class="Bound">b</a><a id="2055" class="Symbol">}</a> <a id="2057" class="Symbol">.</a><a id="2058" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="2062" class="Keyword">with</a> <a id="2067" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="2073" class="Symbol">...</a> <a id="2077" class="Symbol">|</a> <a id="2079" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2083" href="Protocol.Streamlet.Decidability.html#2083" class="Bound">p</a> <a id="2085" class="Symbol">=</a> <a id="2087" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2091" class="Symbol">(</a><a id="2092" class="Keyword">record</a> <a id="2099" class="Symbol">{</a> <a id="2101" href="Protocol.Streamlet.Local.State.html#3215" class="Field">enoughVotes</a> <a id="2113" class="Symbol">=</a> <a id="2115" href="Protocol.Streamlet.Decidability.html#2083" class="Bound">p</a>  <a id="2118" class="Symbol">})</a>
  <a id="2123" class="Symbol">...</a> <a id="2127" class="Symbol">|</a> <a id="2129" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2132" href="Protocol.Streamlet.Decidability.html#2132" class="Bound">¬p</a> <a id="2135" class="Symbol">=</a> <a id="2137" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2140" class="Symbol">λ</a> <a id="2142" href="Protocol.Streamlet.Decidability.html#2142" class="Bound">nb</a> <a id="2145" class="Symbol">→</a> <a id="2147" href="Protocol.Streamlet.Decidability.html#2132" class="Bound">¬p</a> <a id="2150" class="Symbol">(</a><a id="2151" href="Protocol.Streamlet.Decidability.html#2142" class="Bound">nb</a> <a id="2154" class="Symbol">.</a><a id="2155" href="Protocol.Streamlet.Local.State.html#3215" class="Field">enoughVotes</a><a id="2166" class="Symbol">)</a>

<a id="2169" href="Protocol.Streamlet.Decidability.html#2169" class="Function">_</a> <a id="2171" class="Symbol">=</a> <a id="2173" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable²</a> <a id="2184" href="Protocol.Streamlet.Local.State.html#3174" class="Record">NotarizedBlock</a>
  <a id="2201" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2203" href="Prelude.Decidable.html#903" class="Function">dec²</a>

<a id="2209" href="Protocol.Streamlet.Decidability.html#2209" class="Function">_</a> <a id="2211" class="Symbol">=</a> <a id="2213" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable²</a> <a id="2224" href="Protocol.Streamlet.Local.State.html#3613" class="Function">NotarizedChain</a>
  <a id="2241" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2243" href="Prelude.Decidable.html#903" class="Function">dec²</a>
</pre>
<pre class="Agda"><a id="2262" href="Protocol.Streamlet.Decidability.html#2262" class="Function">_</a> <a id="2264" class="Symbol">=</a> <a id="2266" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable²</a> <a id="2277" href="Protocol.Streamlet.Local.State.html#3967" class="Function Operator">_notarized-chain-∈_</a>
  <a id="2299" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2301" href="Prelude.Decidable.html#903" class="Function">dec²</a>

<a id="2307" class="Comment">-- For any block b add it the result with its corresponding chain when the</a>
<a id="2382" class="Comment">-- index corresponds b .epoch.</a>
<a id="2413" class="Comment">-- We could also generate proof of the validity of the chain.</a>
<a id="allValidChainsUpToLength"></a><a id="2475" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="2500" class="Symbol">:</a> <a id="2502" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2504" class="Symbol">→</a> <a id="2506" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2511" href="Protocol.Streamlet.Message.html#298" class="Datatype">Message</a> <a id="2519" class="Symbol">→</a> <a id="2521" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2526" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a>
<a id="2532" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="2557" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2562" href="Protocol.Streamlet.Decidability.html#2562" class="Bound">ms</a> <a id="2565" class="Symbol">=</a> <a id="2567" href="Prelude.LiteralSequences.html#97" class="InductiveConstructor Operator">[</a> <a id="2569" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="2572" href="Prelude.LiteralSequences.html#97" class="InductiveConstructor Operator">]</a>
<a id="2574" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="2599" class="Symbol">(</a><a id="2600" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2604" href="Protocol.Streamlet.Decidability.html#2604" class="Bound">n</a><a id="2605" class="Symbol">)</a> <a id="2607" href="Protocol.Streamlet.Decidability.html#2607" class="Bound">ms</a> <a id="2610" class="Symbol">=</a>
  <a id="2614" class="Keyword">let</a>
    <a id="2622" href="Protocol.Streamlet.Decidability.html#2622" class="Bound">vs</a> <a id="2625" class="Symbol">=</a> <a id="2627" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="2652" href="Protocol.Streamlet.Decidability.html#2604" class="Bound">n</a> <a id="2654" href="Protocol.Streamlet.Decidability.html#2607" class="Bound">ms</a>
    <a id="2661" class="Comment">-- bs is the list of blocks for the current length</a>
    <a id="2716" href="Protocol.Streamlet.Decidability.html#2716" class="Bound">bs</a> <a id="2719" class="Symbol">=</a> <a id="2721" href="Data.List.Base.html#10878" class="Function">filter</a> <a id="2728" class="Symbol">(λ</a> <a id="2731" href="Protocol.Streamlet.Decidability.html#2731" class="Bound">b</a> <a id="2733" class="Symbol">→</a> <a id="2735" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="2737" href="Protocol.Streamlet.Decidability.html#2731" class="Bound">b</a> <a id="2739" class="Symbol">.</a><a id="2740" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2746" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2748" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2752" href="Protocol.Streamlet.Decidability.html#2604" class="Bound">n</a> <a id="2754" href="Prelude.Decidable.html#468" class="Function Operator">¿</a><a id="2755" class="Symbol">)</a> <a id="2757" class="Symbol">(</a><a id="2758" href="Data.List.Base.html#1631" class="Function">L.map</a> <a id="2764" href="Protocol.Streamlet.Block.html#2075" class="Field Operator">_∙block</a> <a id="2772" href="Protocol.Streamlet.Decidability.html#2607" class="Bound">ms</a><a id="2774" class="Symbol">)</a>

    <a id="2781" href="Protocol.Streamlet.Decidability.html#2781" class="Bound">f</a> <a id="2783" class="Symbol">:</a> <a id="2785" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a> <a id="2791" class="Symbol">→</a> <a id="2793" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2798" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a>
    <a id="2808" href="Protocol.Streamlet.Decidability.html#2781" class="Bound">f</a> <a id="2810" href="Protocol.Streamlet.Decidability.html#2810" class="Bound">ch</a> <a id="2813" class="Symbol">=</a> <a id="2815" href="Protocol.Streamlet.Decidability.html#2716" class="Bound">bs</a> <a id="2818" href="Prelude.Monad.html#176" class="Field Operator">&gt;&gt;=</a> <a id="2822" class="Symbol">(λ</a> <a id="2825" href="Protocol.Streamlet.Decidability.html#2825" class="Bound">b</a> <a id="2827" class="Symbol">→</a> <a id="2829" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="2832" href="Relation.Nullary.Decidable.Core.html#3623" class="Function Operator">⌊</a> <a id="2834" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="2836" href="Protocol.Streamlet.Decidability.html#2825" class="Bound">b</a> <a id="2838" href="Protocol.Streamlet.Local.Chain.html#1024" class="Record Operator">-connects-to-</a> <a id="2852" href="Protocol.Streamlet.Decidability.html#2810" class="Bound">ch</a> <a id="2855" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="2857" href="Relation.Nullary.Decidable.Core.html#3623" class="Function Operator">⌋</a> <a id="2859" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="2864" href="Prelude.LiteralSequences.html#97" class="InductiveConstructor Operator">[</a> <a id="2866" href="Protocol.Streamlet.Decidability.html#2825" class="Bound">b</a> <a id="2868" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2870" href="Protocol.Streamlet.Decidability.html#2810" class="Bound">ch</a> <a id="2873" href="Prelude.LiteralSequences.html#97" class="InductiveConstructor Operator">]</a> <a id="2875" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="2880" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2882" class="Symbol">)</a>
  <a id="2886" class="Keyword">in</a>
    <a id="2893" href="Protocol.Streamlet.Decidability.html#2622" class="Bound">vs</a> <a id="2896" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="2899" class="Symbol">(</a><a id="2900" href="Protocol.Streamlet.Decidability.html#2622" class="Bound">vs</a> <a id="2903" href="Prelude.Monad.html#176" class="Field Operator">&gt;&gt;=</a> <a id="2907" href="Protocol.Streamlet.Decidability.html#2781" class="Bound">f</a><a id="2908" class="Symbol">)</a>

<a id="maxEpoch"></a><a id="2911" href="Protocol.Streamlet.Decidability.html#2911" class="Function">maxEpoch</a> <a id="2920" class="Symbol">:</a> <a id="2922" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2927" href="Protocol.Streamlet.Message.html#298" class="Datatype">Message</a> <a id="2935" class="Symbol">→</a> <a id="2937" href="Protocol.Streamlet.Base.html#83" class="Function">Epoch</a>
<a id="2943" href="Protocol.Streamlet.Decidability.html#2911" class="Function">maxEpoch</a> <a id="2952" href="Protocol.Streamlet.Decidability.html#2952" class="Bound">ms</a> <a id="2955" class="Symbol">=</a> <a id="2957" href="Data.List.Extrema.html#1941" class="Function">L.Ex.max</a> <a id="2966" class="Number">0</a> <a id="2968" class="Symbol">(</a><a id="2969" href="Data.List.Base.html#1631" class="Function">L.map</a> <a id="2975" class="Symbol">(</a><a id="2976" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="2982" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2984" href="Protocol.Streamlet.Block.html#2075" class="Field Operator">_∙block</a><a id="2991" class="Symbol">)</a> <a id="2993" href="Protocol.Streamlet.Decidability.html#2952" class="Bound">ms</a><a id="2995" class="Symbol">)</a>

<a id="allValidChains"></a><a id="2998" href="Protocol.Streamlet.Decidability.html#2998" class="Function">allValidChains</a> <a id="3013" class="Symbol">:</a> <a id="3015" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3020" href="Protocol.Streamlet.Message.html#298" class="Datatype">Message</a> <a id="3028" class="Symbol">→</a> <a id="3030" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3035" href="Protocol.Streamlet.Local.Chain.html#525" class="Function">Chain</a>
<a id="3041" href="Protocol.Streamlet.Decidability.html#2998" class="Function">allValidChains</a> <a id="3056" href="Protocol.Streamlet.Decidability.html#3056" class="Bound">ms</a> <a id="3059" class="Symbol">=</a> <a id="3061" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="3086" class="Symbol">(</a><a id="3087" href="Protocol.Streamlet.Decidability.html#2911" class="Function">maxEpoch</a> <a id="3096" href="Protocol.Streamlet.Decidability.html#3056" class="Bound">ms</a><a id="3098" class="Symbol">)</a> <a id="3100" href="Protocol.Streamlet.Decidability.html#3056" class="Bound">ms</a>

<a id="chain-∈⇒allValidChainsUpToLength"></a><a id="3104" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="3137" class="Symbol">:</a> <a id="3139" class="Symbol">∀</a> <a id="3141" class="Symbol">(</a><a id="3142" href="Protocol.Streamlet.Decidability.html#3142" class="Bound">n</a> <a id="3144" class="Symbol">:</a> <a id="3146" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3147" class="Symbol">)</a> <a id="3149" class="Symbol">→</a>
  <a id="3153" href="Prelude.InferenceRules.html#56097" class="Function Operator">∙</a> <a id="3155" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="3158" href="Protocol.Streamlet.Block.html#2191" class="Field Operator">∙epoch</a> <a id="3165" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3167" href="Protocol.Streamlet.Decidability.html#3142" class="Bound">n</a>
  <a id="3171" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="3173" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="3176" href="Protocol.Streamlet.Local.State.html#1652" class="Datatype Operator">chain-∈</a> <a id="3184" href="Protocol.Streamlet.Message.html#403" class="Generalizable">ms</a>
    <a id="3191" href="Prelude.InferenceRules.html#13639" class="Function Operator">──────────────────────────────────</a>
    <a id="3230" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="3233" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="3235" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="3260" href="Protocol.Streamlet.Decidability.html#3142" class="Bound">n</a> <a id="3262" href="Protocol.Streamlet.Message.html#403" class="Generalizable">ms</a>
<a id="3265" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="3298" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="3303" href="Protocol.Streamlet.Decidability.html#3303" class="Bound">e≤n</a> <a id="3307" href="Protocol.Streamlet.Local.State.html#1700" class="InductiveConstructor">[]</a>
  <a id="3312" class="Symbol">=</a> <a id="3314" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3319" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3324" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="3357" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="3362" href="Data.Nat.Base.html#1714" class="InductiveConstructor">Nat.z≤n</a> <a id="3370" class="Symbol">(</a><a id="3371" href="Protocol.Streamlet.Decidability.html#3371" class="Bound">m∈</a> <a id="3374" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="3376" href="Protocol.Streamlet.Decidability.html#3376" class="Bound">ch∈</a> <a id="3380" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="3382" href="Protocol.Streamlet.Local.Chain.html#1092" class="InductiveConstructor">connects∶</a> <a id="3392" class="Symbol">_</a> <a id="3394" href="Protocol.Streamlet.Decidability.html#3394" class="Bound">ea</a><a id="3396" class="Symbol">)</a>
  <a id="3400" class="Symbol">=</a> <a id="3402" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="3409" class="Symbol">(</a><a id="3410" href="Data.Nat.Properties.html#12165" class="Function">Nat.n≮0</a> <a id="3418" href="Protocol.Streamlet.Decidability.html#3394" class="Bound">ea</a><a id="3420" class="Symbol">)</a>
<a id="3422" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3460" href="Protocol.Streamlet.Decidability.html#3460" class="Bound">n</a><a id="3461" class="Symbol">)</a> <a id="3463" href="Protocol.Streamlet.Decidability.html#3463" class="Bound">e≤n</a> <a id="3467" href="Protocol.Streamlet.Local.State.html#1700" class="InductiveConstructor">[]</a>
  <a id="3472" class="Symbol">=</a> <a id="3474" href="Data.List.Membership.Propositional.Properties.html#4354" class="Function">L.Mem.∈-++⁺ˡ</a> <a id="3487" class="Symbol">(</a><a id="3488" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="3521" href="Protocol.Streamlet.Decidability.html#3460" class="Bound">n</a> <a id="3523" href="Data.Nat.Base.html#1714" class="InductiveConstructor">Nat.z≤n</a> <a id="3531" href="Protocol.Streamlet.Local.State.html#1700" class="InductiveConstructor">[]</a><a id="3533" class="Symbol">)</a>
<a id="3535" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="3568" class="Symbol">{</a><a id="3569" href="Protocol.Streamlet.Decidability.html#3569" class="Bound">b</a> <a id="3571" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3573" href="Protocol.Streamlet.Decidability.html#3573" class="Bound">ch</a><a id="3575" class="Symbol">}</a> <a id="3577" class="Symbol">{</a><a id="3578" href="Protocol.Streamlet.Decidability.html#3578" class="Bound">ms</a><a id="3580" class="Symbol">}</a> <a id="3582" class="Symbol">(</a><a id="3583" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3587" href="Protocol.Streamlet.Decidability.html#3587" class="Bound">n</a><a id="3588" class="Symbol">)</a> <a id="3590" href="Protocol.Streamlet.Decidability.html#3590" class="Bound">e≤n</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Protocol.Streamlet.Decidability.html#3595" class="Bound">m∈</a> <a id="3598" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="3600" href="Protocol.Streamlet.Decidability.html#3600" class="Bound">ch∈</a> <a id="3604" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="3606" href="Protocol.Streamlet.Decidability.html#3606" class="Bound">x</a><a id="3607" class="Symbol">)</a>
  <a id="3611" class="Keyword">with</a> <a id="3616" href="Protocol.Streamlet.Decidability.html#3569" class="Bound">b</a> <a id="3618" class="Symbol">.</a><a id="3619" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="3625" href="Data.Nat.Properties.html#6146" class="Function Operator">Nat.≤?</a> <a id="3632" href="Protocol.Streamlet.Decidability.html#3587" class="Bound">n</a>
<a id="3634" class="Symbol">...</a> <a id="3638" class="Symbol">|</a> <a id="3640" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3644" href="Protocol.Streamlet.Decidability.html#3644" class="Bound">be≤n</a>
  <a id="3651" class="Symbol">=</a> <a id="3653" href="Data.List.Membership.Propositional.Properties.html#4354" class="Function">L.Mem.∈-++⁺ˡ</a> <a id="3666" class="Symbol">(</a><a id="3667" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="3700" class="Symbol">{</a><a id="3701" class="Bound">b</a> <a id="3703" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3705" class="Bound">ch</a><a id="3707" class="Symbol">}</a> <a id="3709" class="Bound">n</a> <a id="3711" href="Protocol.Streamlet.Decidability.html#3644" class="Bound">be≤n</a> <a id="3716" class="Symbol">(</a><a id="3717" class="Bound">m∈</a> <a id="3720" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="3722" class="Bound">ch∈</a> <a id="3726" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="3728" class="Bound">x</a><a id="3729" class="Symbol">))</a>
<a id="3732" class="Symbol">...</a> <a id="3736" class="Symbol">|</a> <a id="3738" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3741" href="Protocol.Streamlet.Decidability.html#3741" class="Bound">¬be≤n</a>
  <a id="3749" class="Keyword">with</a> <a id="3754" href="Protocol.Streamlet.Decidability.html#3754" class="Bound">eq</a> ← <a id="3759" class="Bound">b</a><a id="3760" class="Symbol">.</a> <a id="3762" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="3768" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3770" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3774" class="Bound">n</a> <a id="3776" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="3778" href="Data.Nat.Properties.html#9352" class="Function">Nat.≤∧≮⇒≡</a> <a id="3788" class="Bound">e≤n</a> <a id="3792" class="Symbol">(</a><a id="3793" href="Protocol.Streamlet.Decidability.html#3741" class="Bound">¬be≤n</a> <a id="3799" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3801" href="Data.Nat.Base.html#2022" class="Function">Nat.s≤s⁻¹</a><a id="3810" class="Symbol">)</a> <a id="3812" class="Symbol">=</a>
  <a id="3816" class="Keyword">let</a>
    <a id="3824" class="Keyword">open</a> <a id="3829" href="Prelude.Init.html#1344" class="Module">Nat</a>
    <a id="3837" href="Protocol.Streamlet.Local.Chain.html#1092" class="InductiveConstructor">connects∶</a> <a id="3847" class="Symbol">_</a> <a id="3849" href="Protocol.Streamlet.Decidability.html#3849" class="Bound">ie</a>  <a id="3853" class="Symbol">=</a> <a id="3855" class="Bound">x</a>
    <a id="3861" href="Protocol.Streamlet.Decidability.html#3861" class="Bound">che≤n</a> <a id="3867" class="Symbol">:</a> <a id="3869" class="Symbol">(</a><a id="3870" class="Bound">ch</a> <a id="3873" href="Protocol.Streamlet.Block.html#2191" class="Field Operator">∙epoch</a><a id="3879" class="Symbol">)</a> <a id="3881" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="3883" class="Bound">n</a>
    <a id="3889" href="Protocol.Streamlet.Decidability.html#3861" class="Bound">che≤n</a> <a id="3895" class="Symbol">=</a> <a id="3897" href="Data.Nat.Base.html#2022" class="Function">s≤s⁻¹</a> <a id="3903" class="Symbol">(</a><a id="3904" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="3912" href="Protocol.Streamlet.Decidability.html#3849" class="Bound">ie</a> <a id="3915" class="Bound">e≤n</a><a id="3918" class="Symbol">)</a>

    <a id="3925" href="Protocol.Streamlet.Decidability.html#3925" class="Bound">ch∈all</a> <a id="3932" class="Symbol">:</a> <a id="3934" class="Bound">ch</a> <a id="3937" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="3939" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="3964" class="Bound">n</a> <a id="3966" class="Bound">ms</a>
    <a id="3973" href="Protocol.Streamlet.Decidability.html#3925" class="Bound">ch∈all</a> <a id="3980" class="Symbol">=</a> <a id="3982" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="4015" class="Bound">n</a> <a id="4017" href="Protocol.Streamlet.Decidability.html#3861" class="Bound">che≤n</a> <a id="4023" class="Bound">ch∈</a>

    <a id="4032" href="Protocol.Streamlet.Decidability.html#4032" class="Bound">vs</a> <a id="4035" class="Symbol">=</a> <a id="4037" href="Protocol.Streamlet.Decidability.html#2475" class="Function">allValidChainsUpToLength</a> <a id="4062" class="Bound">n</a> <a id="4064" class="Bound">ms</a>

    <a id="4072" href="Protocol.Streamlet.Decidability.html#4072" class="Bound">b∈</a> <a id="4075" class="Symbol">:</a> <a id="4077" class="Bound">b</a> <a id="4079" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4081" href="Data.List.Base.html#1631" class="Function">L.map</a> <a id="4087" href="Protocol.Streamlet.Block.html#2075" class="Field Operator">_∙block</a> <a id="4095" class="Bound">ms</a>
    <a id="4102" href="Protocol.Streamlet.Decidability.html#4072" class="Bound">b∈</a> <a id="4105" class="Symbol">=</a> <a id="4107" href="Data.List.Relation.Unary.Any.Properties.html#10907" class="Function">L.Any.map⁺</a> <a id="4118" class="Bound">m∈</a>

    <a id="4126" href="Protocol.Streamlet.Decidability.html#4126" class="Bound">bs</a> <a id="4129" class="Symbol">=</a> <a id="4131" href="Data.List.Base.html#10878" class="Function">filter</a> <a id="4138" class="Symbol">(λ</a> <a id="4141" href="Protocol.Streamlet.Decidability.html#4141" class="Bound">b</a> <a id="4143" class="Symbol">→</a> <a id="4145" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="4147" href="Protocol.Streamlet.Decidability.html#4141" class="Bound">b</a> <a id="4149" class="Symbol">.</a><a id="4150" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4156" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4158" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4162" class="Bound">n</a> <a id="4164" href="Prelude.Decidable.html#468" class="Function Operator">¿</a><a id="4165" class="Symbol">)</a> <a id="4167" class="Symbol">(</a><a id="4168" href="Data.List.Base.html#1631" class="Function">L.map</a> <a id="4174" href="Protocol.Streamlet.Block.html#2075" class="Field Operator">_∙block</a> <a id="4182" class="Bound">ms</a><a id="4184" class="Symbol">)</a>

    <a id="4191" href="Protocol.Streamlet.Decidability.html#4191" class="Bound">b∈bs</a> <a id="4196" class="Symbol">:</a> <a id="4198" class="Bound">b</a> <a id="4200" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4202" href="Protocol.Streamlet.Decidability.html#4126" class="Bound">bs</a>
    <a id="4209" href="Protocol.Streamlet.Decidability.html#4191" class="Bound">b∈bs</a> <a id="4214" class="Symbol">=</a> <a id="4216" href="Data.List.Membership.Propositional.Properties.html#8891" class="Function">L.Mem.∈-filter⁺</a> <a id="4232" class="Symbol">_</a> <a id="4234" href="Protocol.Streamlet.Decidability.html#4072" class="Bound">b∈</a> <a id="4237" href="Protocol.Streamlet.Decidability.html#3754" class="Bound">eq</a>
  <a id="4242" class="Keyword">in</a>
    <a id="4249" href="Data.List.Membership.Propositional.Properties.html#4443" class="Function">L.Mem.∈-++⁺ʳ</a> <a id="4262" href="Protocol.Streamlet.Decidability.html#4032" class="Bound">vs</a>
  <a id="4267" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4269" href="Data.List.Membership.Propositional.Properties.html#10010" class="Function">L.Mem.&gt;&gt;=-∈↔</a> <a id="4282" class="Symbol">.</a><a id="4283" href="Function.Bundles.html#7394" class="Field">Inverse.to</a>
      <a id="4300" class="Symbol">(</a> <a id="4302" class="Bound">ch</a>
      <a id="4311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4313" href="Protocol.Streamlet.Decidability.html#3925" class="Bound">ch∈all</a>
      <a id="4326" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4328" href="Data.List.Membership.Propositional.Properties.html#10010" class="Function">L.Mem.&gt;&gt;=-∈↔</a> <a id="4341" class="Symbol">.</a><a id="4342" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="4353" class="Symbol">(</a><a id="4354" class="Bound">b</a> <a id="4356" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4358" class="Symbol">(</a><a id="4359" href="Protocol.Streamlet.Decidability.html#4191" class="Bound">b∈bs</a> <a id="4364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4366" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="4372" class="Symbol">(λ</a> <a id="4375" href="Protocol.Streamlet.Decidability.html#4375" class="Bound">c</a> <a id="4377" class="Symbol">→</a> <a id="4379" class="Symbol">_</a> <a id="4381" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4383" class="Symbol">(</a><a id="4384" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="4387" href="Relation.Nullary.Decidable.Core.html#3623" class="Function Operator">⌊</a> <a id="4389" href="Protocol.Streamlet.Decidability.html#4375" class="Bound">c</a> <a id="4391" href="Relation.Nullary.Decidable.Core.html#3623" class="Function Operator">⌋</a> <a id="4393" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="4398" class="Symbol">_</a> <a id="4400" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="4405" class="Symbol">_))</a>
                                                    <a id="4461" class="Symbol">(</a><a id="4462" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="4466" class="Symbol">(</a><a id="4467" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4473" class="Symbol">(</a><a id="4474" href="Prelude.Decidable.html#1162" class="Function">dec-✓</a> <a id="4480" class="Bound">x</a><a id="4481" class="Symbol">)))</a> <a id="4485" class="Symbol">(</a><a id="4486" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="4491" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4495" class="Symbol">))))</a>

<a id="maxEpoch-correct"></a><a id="4501" href="Protocol.Streamlet.Decidability.html#4501" class="Function">maxEpoch-correct</a> <a id="4518" class="Symbol">:</a> <a id="4520" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="4523" href="Protocol.Streamlet.Local.State.html#1652" class="Datatype Operator">chain-∈</a> <a id="4531" href="Protocol.Streamlet.Message.html#403" class="Generalizable">ms</a> <a id="4534" class="Symbol">→</a> <a id="4536" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="4539" href="Protocol.Streamlet.Block.html#2191" class="Field Operator">∙epoch</a> <a id="4546" href="Data.Nat.Base.html#1691" class="Datatype Operator">≤</a> <a id="4548" href="Protocol.Streamlet.Decidability.html#2911" class="Function">maxEpoch</a> <a id="4557" href="Protocol.Streamlet.Message.html#403" class="Generalizable">ms</a>
<a id="4560" href="Protocol.Streamlet.Decidability.html#4501" class="Function">maxEpoch-correct</a> <a id="4577" href="Protocol.Streamlet.Local.State.html#1700" class="InductiveConstructor">[]</a> <a id="4580" class="Symbol">=</a> <a id="4582" href="Data.Nat.Base.html#1714" class="InductiveConstructor">Nat.z≤n</a>
<a id="4590" href="Protocol.Streamlet.Decidability.html#4501" class="Function">maxEpoch-correct</a> <a id="4607" class="Symbol">{</a><a id="4608" href="Protocol.Streamlet.Decidability.html#4608" class="Bound">b</a> <a id="4610" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4612" href="Protocol.Streamlet.Decidability.html#4612" class="Bound">ch</a><a id="4614" class="Symbol">}{</a><a id="4616" href="Protocol.Streamlet.Decidability.html#4616" class="Bound">ms</a><a id="4618" class="Symbol">}</a> <a id="4620" class="Symbol">(</a><a id="4621" href="Protocol.Streamlet.Decidability.html#4621" class="Bound">m∈</a> <a id="4624" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">∷</a> <a id="4626" href="Protocol.Streamlet.Decidability.html#4626" class="Bound">ch∈</a> <a id="4630" href="Protocol.Streamlet.Local.State.html#1768" class="InductiveConstructor Operator">⊣</a> <a id="4632" class="Symbol">_)</a> <a id="4635" class="Symbol">=</a>
  <a id="4639" class="Keyword">let</a>
    <a id="4647" href="Protocol.Streamlet.Decidability.html#4647" class="Bound">b∈</a> <a id="4650" class="Symbol">:</a> <a id="4652" href="Protocol.Streamlet.Decidability.html#4608" class="Bound">b</a> <a id="4654" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4656" href="Data.List.Base.html#1631" class="Function">map</a> <a id="4660" href="Protocol.Streamlet.Block.html#2075" class="Field Operator">_∙block</a> <a id="4668" href="Protocol.Streamlet.Decidability.html#4616" class="Bound">ms</a>
    <a id="4675" href="Protocol.Streamlet.Decidability.html#4647" class="Bound">b∈</a> <a id="4678" class="Symbol">=</a> <a id="4680" href="Data.List.Relation.Unary.Any.Properties.html#10907" class="Function">L.Any.map⁺</a> <a id="4691" class="Symbol">{</a><a id="4692" class="Argument">P</a> <a id="4694" class="Symbol">=</a> <a id="4696" href="Protocol.Streamlet.Decidability.html#4608" class="Bound">b</a> <a id="4698" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡_</a><a id="4700" class="Symbol">}</a> <a id="4702" href="Protocol.Streamlet.Decidability.html#4621" class="Bound">m∈</a>

    <a id="4710" href="Protocol.Streamlet.Decidability.html#4710" class="Bound">es</a> <a id="4713" class="Symbol">=</a> <a id="4715" href="Data.List.Base.html#1631" class="Function">map</a> <a id="4719" class="Symbol">(</a><a id="4720" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4726" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4728" href="Protocol.Streamlet.Block.html#2075" class="Field Operator">_∙block</a><a id="4735" class="Symbol">)</a> <a id="4737" href="Protocol.Streamlet.Decidability.html#4616" class="Bound">ms</a>

    <a id="4745" href="Protocol.Streamlet.Decidability.html#4745" class="Bound">be∈</a> <a id="4749" class="Symbol">:</a> <a id="4751" href="Protocol.Streamlet.Decidability.html#4608" class="Bound">b</a> <a id="4753" class="Symbol">.</a><a id="4754" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4760" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4762" href="Protocol.Streamlet.Decidability.html#4710" class="Bound">es</a>
    <a id="4769" href="Protocol.Streamlet.Decidability.html#4745" class="Bound">be∈</a> <a id="4773" class="Symbol">=</a> <a id="4775" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">subst</a> <a id="4781" class="Symbol">(_</a> <a id="4784" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈_</a><a id="4786" class="Symbol">)</a> <a id="4788" class="Symbol">(</a><a id="4789" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="4793" class="Symbol">(</a><a id="4794" href="Data.List.Properties.html#4146" class="Function">L.map-∘</a> <a id="4802" href="Protocol.Streamlet.Decidability.html#4616" class="Bound">ms</a><a id="4804" class="Symbol">))</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Data.List.Membership.Propositional.Properties.html#3766" class="Function">L.Mem.∈-map⁺</a> <a id="4821" href="Protocol.Streamlet.Block.html#332" class="Field">epoch</a> <a id="4827" href="Protocol.Streamlet.Decidability.html#4647" class="Bound">b∈</a><a id="4829" class="Symbol">)</a>
  <a id="4833" class="Keyword">in</a>
    <a id="4840" href="Data.List.Relation.Unary.All.html#5953" class="Function">L.All.lookup</a> <a id="4853" class="Symbol">{</a><a id="4854" class="Argument">P</a> <a id="4856" class="Symbol">=</a> <a id="4858" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤</a> <a id="4861" href="Protocol.Streamlet.Decidability.html#2911" class="Function">maxEpoch</a> <a id="4870" href="Protocol.Streamlet.Decidability.html#4616" class="Bound">ms</a><a id="4872" class="Symbol">}</a> <a id="4874" class="Symbol">(</a><a id="4875" href="Data.List.Extrema.html#8560" class="Function">L.Ex.xs≤max</a> <a id="4887" class="Number">0</a> <a id="4889" href="Protocol.Streamlet.Decidability.html#4710" class="Bound">es</a><a id="4891" class="Symbol">)</a> <a id="4893" href="Protocol.Streamlet.Decidability.html#4745" class="Bound">be∈</a>

<a id="chain-∈⇒allValidChains"></a><a id="4898" href="Protocol.Streamlet.Decidability.html#4898" class="Function">chain-∈⇒allValidChains</a> <a id="4921" class="Symbol">:</a> <a id="4923" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="4926" href="Protocol.Streamlet.Local.State.html#1652" class="Datatype Operator">chain-∈</a> <a id="4934" href="Protocol.Streamlet.Message.html#403" class="Generalizable">ms</a> <a id="4937" class="Symbol">→</a> <a id="4939" href="Protocol.Streamlet.Local.Chain.html#570" class="Generalizable">ch</a> <a id="4942" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="4944" href="Protocol.Streamlet.Decidability.html#2998" class="Function">allValidChains</a> <a id="4959" href="Protocol.Streamlet.Message.html#403" class="Generalizable">ms</a>
<a id="4962" href="Protocol.Streamlet.Decidability.html#4898" class="Function">chain-∈⇒allValidChains</a> <a id="4985" class="Symbol">{</a><a id="4986" class="Argument">ms</a> <a id="4989" class="Symbol">=</a> <a id="4991" href="Protocol.Streamlet.Decidability.html#4991" class="Bound">ms</a><a id="4993" class="Symbol">}</a> <a id="4995" href="Protocol.Streamlet.Decidability.html#4995" class="Bound">ch∈</a> <a id="4999" class="Symbol">=</a>
  <a id="5003" href="Protocol.Streamlet.Decidability.html#3104" class="Function">chain-∈⇒allValidChainsUpToLength</a> <a id="5036" class="Symbol">(</a><a id="5037" href="Protocol.Streamlet.Decidability.html#2911" class="Function">maxEpoch</a> <a id="5046" href="Protocol.Streamlet.Decidability.html#4991" class="Bound">ms</a><a id="5048" class="Symbol">)</a> <a id="5050" class="Symbol">(</a><a id="5051" href="Protocol.Streamlet.Decidability.html#4501" class="Function">maxEpoch-correct</a> <a id="5068" href="Protocol.Streamlet.Decidability.html#4995" class="Bound">ch∈</a><a id="5071" class="Symbol">)</a> <a id="5073" href="Protocol.Streamlet.Decidability.html#4995" class="Bound">ch∈</a>

<a id="5078" class="Comment">{-
open L.Unique using ([]; _∷_; filter⁺; ++⁺; map⁺)

Unique-allChains : Unique $ allChains ms
Unique-allChains {[]} = [] ∷ []
Unique-allChains {m ∷ ms}
  with IH ← Unique-allChains {ms}
  = ++⁺ IH (map⁺ (λ where refl → refl) IH) λ (p , q) →
    let x , x∈ , x≡ = L.Mem.∈-map⁻ (blockMessage m ∷_) q in ?

Unique-allValidChains : Unique $ allValidChains ms
Unique-allValidChains {ms} =
  L.Unique.filter⁺ (λ ch → ¿ ValidChain ch ¿) (Unique-allChains {ms})
-}</a>

<a id="5537" class="Keyword">instance</a>
  <a id="Dec-longest-notarized-chain-∈"></a><a id="5548" href="Protocol.Streamlet.Decidability.html#5548" class="Function">Dec-longest-notarized-chain-∈</a> <a id="5578" class="Symbol">:</a> <a id="5580" href="Protocol.Streamlet.Local.State.html#5305" class="Datatype">Longest∈</a> <a id="5589" href="Prelude.Decidable.html#814" class="Function Operator">⁇²</a>
  <a id="5594" href="Protocol.Streamlet.Decidability.html#5548" class="Function">Dec-longest-notarized-chain-∈</a> <a id="5624" class="Symbol">{</a><a id="5625" href="Protocol.Streamlet.Decidability.html#5625" class="Bound">ch</a><a id="5627" class="Symbol">}{</a><a id="5629" href="Protocol.Streamlet.Decidability.html#5629" class="Bound">ms</a><a id="5631" class="Symbol">}</a> <a id="5633" class="Symbol">.</a><a id="5634" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="5642" class="Keyword">with</a> <a id="5647" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="5649" href="Prelude.Anyable.html#184" class="Field">Any</a> <a id="5653" class="Symbol">_</a> <a id="5655" class="Symbol">(</a><a id="5656" href="Protocol.Streamlet.Decidability.html#2998" class="Function">allValidChains</a> <a id="5671" href="Protocol.Streamlet.Decidability.html#5629" class="Bound">ms</a><a id="5673" class="Symbol">)</a> <a id="5675" href="Prelude.Decidable.html#468" class="Function Operator">¿</a>
  <a id="5679" class="Symbol">...</a> <a id="5683" class="Symbol">|</a> <a id="5685" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5689" href="Protocol.Streamlet.Decidability.html#5689" class="Bound">∃ch′</a> <a id="5694" class="Symbol">=</a>
    <a id="5700" class="Keyword">let</a> <a id="5704" href="Protocol.Streamlet.Decidability.html#5704" class="Bound">ch′</a> <a id="5708" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5710" href="Protocol.Streamlet.Decidability.html#5710" class="Bound">ch′∈</a> <a id="5715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5717" href="Protocol.Streamlet.Decidability.html#5717" class="Bound">ch′≰</a> <a id="5722" class="Symbol">=</a> <a id="5724" href="Data.List.Relation.Unary.Any.html#2277" class="Function">L.Any.satisfied</a> <a id="5740" href="Protocol.Streamlet.Decidability.html#5689" class="Bound">∃ch′</a>
    <a id="5749" class="Keyword">in</a> <a id="5752" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5755" class="Symbol">λ</a> <a id="5757" class="Keyword">where</a> <a id="5763" class="Symbol">(</a><a id="5764" href="Protocol.Streamlet.Local.State.html#5362" class="InductiveConstructor">mkLongest∈</a> <a id="5775" href="Protocol.Streamlet.Decidability.html#5775" class="Bound">∄ch′</a><a id="5779" class="Symbol">)</a> <a id="5781" class="Symbol">→</a> <a id="5783" href="Protocol.Streamlet.Decidability.html#5717" class="Bound">ch′≰</a> <a id="5788" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5790" href="Protocol.Streamlet.Decidability.html#5775" class="Bound">∄ch′</a> <a id="5795" class="Symbol">{</a><a id="5796" href="Protocol.Streamlet.Decidability.html#5704" class="Bound">ch′</a><a id="5799" class="Symbol">}</a> <a id="5801" href="Protocol.Streamlet.Decidability.html#5710" class="Bound">ch′∈</a>
  <a id="5808" class="Symbol">...</a> <a id="5812" class="Symbol">|</a> <a id="5814" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5817" href="Protocol.Streamlet.Decidability.html#5817" class="Bound">¬∃ch′</a> <a id="5823" class="Symbol">=</a> <a id="5825" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="5829" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5831" href="Protocol.Streamlet.Local.State.html#5362" class="InductiveConstructor">mkLongest∈</a> <a id="5842" class="Symbol">λ</a> <a id="5844" class="Symbol">{</a><a id="5845" href="Protocol.Streamlet.Decidability.html#5845" class="Bound">ch′</a><a id="5848" class="Symbol">}</a> <a id="5850" class="Symbol">(</a><a id="5851" href="Protocol.Streamlet.Decidability.html#5851" class="Bound">ch′∈</a> <a id="5856" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5858" href="Protocol.Streamlet.Decidability.html#5858" class="Bound">p</a><a id="5859" class="Symbol">)</a> <a id="5861" class="Symbol">→</a> <a id="5863" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5868" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="5870" href="Protocol.Streamlet.Decidability.html#5845" class="Bound">ch′</a> <a id="5874" href="Protocol.Streamlet.Local.State.html#5228" class="Function Operator">≤ᶜʰ</a> <a id="5878" class="Bound">ch</a> <a id="5881" href="Prelude.Decidable.html#468" class="Function Operator">¿</a> <a id="5883" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5886" class="Symbol">λ</a> <a id="5888" class="Keyword">where</a>
    <a id="5898" class="Symbol">(</a><a id="5899" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="5902" href="Protocol.Streamlet.Decidability.html#5902" class="Bound">ch′≰</a><a id="5906" class="Symbol">)</a> <a id="5908" class="Symbol">→</a> <a id="5910" href="Data.Empty.html#1050" class="Function">⊥-elim</a>
              <a id="5931" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5933" href="Protocol.Streamlet.Decidability.html#5817" class="Bound">¬∃ch′</a>
              <a id="5953" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5955" href="Data.List.Relation.Unary.Any.html#1650" class="Function">L.Any.map</a> <a id="5965" class="Symbol">(λ</a> <a id="5968" class="Keyword">where</a> <a id="5974" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5979" class="Symbol">→</a> <a id="5981" class="Symbol">(</a><a id="5982" href="Protocol.Streamlet.Decidability.html#5851" class="Bound">ch′∈</a> <a id="5987" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5989" href="Protocol.Streamlet.Decidability.html#5858" class="Bound">p</a><a id="5990" class="Symbol">)</a> <a id="5992" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5994" href="Protocol.Streamlet.Decidability.html#5902" class="Bound">ch′≰</a><a id="5998" class="Symbol">)</a>
              <a id="6014" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6016" href="Protocol.Streamlet.Decidability.html#4898" class="Function">chain-∈⇒allValidChains</a> <a id="6039" href="Protocol.Streamlet.Decidability.html#5851" class="Bound">ch′∈</a>
    <a id="6048" class="Symbol">(</a><a id="6049" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6053" href="Protocol.Streamlet.Decidability.html#6053" class="Bound">ch′≤</a><a id="6057" class="Symbol">)</a> <a id="6059" class="Symbol">→</a> <a id="6061" href="Protocol.Streamlet.Decidability.html#6053" class="Bound">ch′≤</a>

  <a id="Dec-Finalized"></a><a id="6069" href="Protocol.Streamlet.Decidability.html#6069" class="Function">Dec-Finalized</a> <a id="6083" class="Symbol">:</a> <a id="6085" class="Symbol">∀</a> <a id="6087" class="Symbol">{</a><a id="6088" href="Protocol.Streamlet.Decidability.html#6088" class="Bound">ms</a> <a id="6091" href="Protocol.Streamlet.Decidability.html#6091" class="Bound">ch</a> <a id="6094" href="Protocol.Streamlet.Decidability.html#6094" class="Bound">b</a><a id="6095" class="Symbol">}</a> <a id="6097" class="Symbol">→</a> <a id="6099" href="Protocol.Streamlet.Local.State.html#3689" class="Datatype">FinalizedChain</a> <a id="6114" href="Protocol.Streamlet.Decidability.html#6088" class="Bound">ms</a> <a id="6117" href="Protocol.Streamlet.Decidability.html#6091" class="Bound">ch</a> <a id="6120" href="Protocol.Streamlet.Decidability.html#6094" class="Bound">b</a> <a id="6122" href="Prelude.Decidable.html#89" class="Record Operator">⁇</a>
  <a id="6126" href="Protocol.Streamlet.Decidability.html#6069" class="Function">Dec-Finalized</a> <a id="6140" class="Symbol">{</a><a id="6141" class="Argument">ch</a> <a id="6144" class="Symbol">=</a> <a id="6146" href="Protocol.Streamlet.Decidability.html#6146" class="Bound">ch</a><a id="6148" class="Symbol">}</a> <a id="6150" class="Symbol">.</a><a id="6151" href="Prelude.Decidable.html#145" class="Field">dec</a>
    <a id="6159" class="Keyword">with</a> <a id="6164" href="Protocol.Streamlet.Decidability.html#6146" class="Bound">ch</a>
  <a id="6169" class="Symbol">...</a> <a id="6173" class="Symbol">|</a> <a id="6175" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6178" class="Symbol">=</a> <a id="6180" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6183" class="Symbol">λ</a> <a id="6185" class="Symbol">()</a>
  <a id="6190" class="Symbol">...</a> <a id="6194" class="Symbol">|</a> <a id="6196" class="Symbol">_</a> <a id="6198" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6200" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6203" class="Symbol">=</a> <a id="6205" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6208" class="Symbol">λ</a> <a id="6210" class="Symbol">()</a>
  <a id="6215" class="Symbol">...</a> <a id="6219" class="Symbol">|</a> <a id="6221" class="Symbol">_</a> <a id="6223" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6225" class="Symbol">_</a> <a id="6227" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6229" class="Symbol">_</a>
    <a id="6235" class="Keyword">with</a> <a id="6240" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="6244" class="Symbol">|</a> <a id="6246" href="Prelude.Decidable.html#145" class="Field">dec</a> <a id="6250" class="Symbol">|</a> <a id="6252" href="Prelude.Decidable.html#145" class="Field">dec</a>
  <a id="6258" class="Symbol">...</a> <a id="6262" class="Symbol">|</a> <a id="6264" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6268" href="Protocol.Streamlet.Decidability.html#6268" class="Bound">p</a> <a id="6270" class="Symbol">|</a> <a id="6272" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6276" href="Protocol.Streamlet.Decidability.html#6276" class="Bound">q</a> <a id="6278" class="Symbol">|</a> <a id="6280" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6284" href="Protocol.Streamlet.Decidability.html#6284" class="Bound">r</a> <a id="6286" class="Symbol">=</a> <a id="6288" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6292" class="Symbol">(</a><a id="6293" href="Protocol.Streamlet.Local.State.html#3737" class="InductiveConstructor">Finalize</a> <a id="6302" href="Protocol.Streamlet.Decidability.html#6268" class="Bound">p</a> <a id="6304" href="Protocol.Streamlet.Decidability.html#6276" class="Bound">q</a> <a id="6306" href="Protocol.Streamlet.Decidability.html#6284" class="Bound">r</a><a id="6307" class="Symbol">)</a>
  <a id="6311" class="Symbol">...</a> <a id="6315" class="Symbol">|</a> <a id="6317" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6320" href="Protocol.Streamlet.Decidability.html#6320" class="Bound">¬p</a> <a id="6323" class="Symbol">|</a> <a id="6325" class="Symbol">_</a>     <a id="6331" class="Symbol">|</a> <a id="6333" class="Symbol">_</a>     <a id="6339" class="Symbol">=</a> <a id="6341" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6344" class="Symbol">λ</a> <a id="6346" class="Keyword">where</a> <a id="6352" class="Symbol">(</a><a id="6353" href="Protocol.Streamlet.Local.State.html#3737" class="InductiveConstructor">Finalize</a> <a id="6362" href="Protocol.Streamlet.Decidability.html#6362" class="Bound">p</a> <a id="6364" class="Symbol">_</a> <a id="6366" class="Symbol">_)</a> <a id="6369" class="Symbol">→</a> <a id="6371" href="Protocol.Streamlet.Decidability.html#6320" class="Bound">¬p</a> <a id="6374" href="Protocol.Streamlet.Decidability.html#6362" class="Bound">p</a>
  <a id="6378" class="CatchallClause Symbol">...</a><a id="6381" class="CatchallClause"> </a><a id="6382" class="CatchallClause Symbol">|</a><a id="6383" class="CatchallClause"> </a><a id="6384" class="CatchallClause Symbol">_</a><a id="6385" class="CatchallClause">     </a><a id="6390" class="CatchallClause Symbol">|</a><a id="6391" class="CatchallClause"> </a><a id="6392" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="6394" class="CatchallClause"> </a><a id="6395" href="Protocol.Streamlet.Decidability.html#6395" class="CatchallClause Bound">¬q</a><a id="6397" class="CatchallClause"> </a><a id="6398" class="CatchallClause Symbol">|</a><a id="6399" class="CatchallClause"> </a><a id="6400" class="CatchallClause Symbol">_</a>     <a id="6406" class="Symbol">=</a> <a id="6408" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6411" class="Symbol">λ</a> <a id="6413" class="Keyword">where</a> <a id="6419" class="Symbol">(</a><a id="6420" href="Protocol.Streamlet.Local.State.html#3737" class="InductiveConstructor">Finalize</a> <a id="6429" class="Symbol">_</a> <a id="6431" href="Protocol.Streamlet.Decidability.html#6431" class="Bound">q</a> <a id="6433" class="Symbol">_)</a> <a id="6436" class="Symbol">→</a> <a id="6438" href="Protocol.Streamlet.Decidability.html#6395" class="Bound">¬q</a> <a id="6441" href="Protocol.Streamlet.Decidability.html#6431" class="Bound">q</a>
  <a id="6445" class="CatchallClause Symbol">...</a><a id="6448" class="CatchallClause"> </a><a id="6449" class="CatchallClause Symbol">|</a><a id="6450" class="CatchallClause"> </a><a id="6451" class="CatchallClause Symbol">_</a><a id="6452" class="CatchallClause">     </a><a id="6457" class="CatchallClause Symbol">|</a><a id="6458" class="CatchallClause"> </a><a id="6459" class="CatchallClause Symbol">_</a><a id="6460" class="CatchallClause">     </a><a id="6465" class="CatchallClause Symbol">|</a><a id="6466" class="CatchallClause"> </a><a id="6467" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="6469" class="CatchallClause"> </a><a id="6470" href="Protocol.Streamlet.Decidability.html#6470" class="CatchallClause Bound">¬r</a> <a id="6473" class="Symbol">=</a> <a id="6475" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6478" class="Symbol">λ</a> <a id="6480" class="Keyword">where</a> <a id="6486" class="Symbol">(</a><a id="6487" href="Protocol.Streamlet.Local.State.html#3737" class="InductiveConstructor">Finalize</a> <a id="6496" class="Symbol">_</a> <a id="6498" class="Symbol">_</a> <a id="6500" href="Protocol.Streamlet.Decidability.html#6500" class="Bound">r</a><a id="6501" class="Symbol">)</a> <a id="6503" class="Symbol">→</a> <a id="6505" href="Protocol.Streamlet.Decidability.html#6470" class="Bound">¬r</a> <a id="6508" href="Protocol.Streamlet.Decidability.html#6500" class="Bound">r</a>
</pre>
<p>We can now provide smart constructors for using proof-by-reflection
without calling <code>auto</code>:</p>
<!--
<pre class="Agda">  <a id="DecEq-Envelope"></a><a id="6623" href="Protocol.Streamlet.Decidability.html#6623" class="Function">DecEq-Envelope</a> <a id="6638" class="Symbol">:</a> <a id="6640" href="Prelude.DecEq.html#85" class="Record">DecEq</a> <a id="6646" href="Protocol.Streamlet.Message.html#882" class="Record">Envelope</a>
  <a id="6657" href="Protocol.Streamlet.Decidability.html#6623" class="Function">DecEq-Envelope</a> <a id="6672" class="Symbol">.</a><a id="6673" href="Prelude.DecEq.html#123" class="Field Operator">_≟_</a> <a id="6677" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">[</a> <a id="6679" href="Protocol.Streamlet.Decidability.html#6679" class="Bound">p</a> <a id="6681" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">∣</a> <a id="6683" href="Protocol.Streamlet.Decidability.html#6683" class="Bound">m</a> <a id="6685" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">⟩</a> <a id="6687" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">[</a> <a id="6689" href="Protocol.Streamlet.Decidability.html#6689" class="Bound">p′</a> <a id="6692" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">∣</a> <a id="6694" href="Protocol.Streamlet.Decidability.html#6694" class="Bound">m′</a> <a id="6697" href="Protocol.Streamlet.Message.html#919" class="InductiveConstructor Operator">⟩</a>
    <a id="6703" class="Keyword">with</a> <a id="6708" href="Protocol.Streamlet.Decidability.html#6679" class="Bound">p</a> <a id="6710" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="6712" href="Protocol.Streamlet.Decidability.html#6689" class="Bound">p′</a> <a id="6715" class="Symbol">|</a> <a id="6717" href="Protocol.Streamlet.Decidability.html#6683" class="Bound">m</a> <a id="6719" href="Prelude.DecEq.html#123" class="Field Operator">≟</a> <a id="6721" href="Protocol.Streamlet.Decidability.html#6694" class="Bound">m′</a>
  <a id="6726" class="Symbol">...</a> <a id="6730" class="Symbol">|</a> <a id="6732" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6736" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6741" class="Symbol">|</a> <a id="6743" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6747" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6752" class="Symbol">=</a> <a id="6754" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6758" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="6765" class="Symbol">...</a> <a id="6769" class="Symbol">|</a> <a id="6771" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6774" href="Protocol.Streamlet.Decidability.html#6774" class="Bound">¬p</a>    <a id="6780" class="Symbol">|</a> <a id="6782" class="Symbol">_</a>        <a id="6791" class="Symbol">=</a> <a id="6793" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6796" class="Symbol">λ</a> <a id="6798" class="Keyword">where</a> <a id="6804" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6809" class="Symbol">→</a> <a id="6811" href="Protocol.Streamlet.Decidability.html#6774" class="Bound">¬p</a> <a id="6814" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="6821" class="CatchallClause Symbol">...</a><a id="6824" class="CatchallClause"> </a><a id="6825" class="CatchallClause Symbol">|</a><a id="6826" class="CatchallClause"> </a><a id="6827" class="CatchallClause Symbol">_</a><a id="6828" class="CatchallClause">        </a><a id="6836" class="CatchallClause Symbol">|</a><a id="6837" class="CatchallClause"> </a><a id="6838" href="Relation.Nullary.Decidable.Core.html#1655" class="CatchallClause InductiveConstructor">no</a><a id="6840" class="CatchallClause"> </a><a id="6841" href="Protocol.Streamlet.Decidability.html#6841" class="CatchallClause Bound">¬p</a>    <a id="6847" class="Symbol">=</a> <a id="6849" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6852" class="Symbol">λ</a> <a id="6854" class="Keyword">where</a> <a id="6860" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6865" class="Symbol">→</a> <a id="6867" href="Protocol.Streamlet.Decidability.html#6841" class="Bound">¬p</a> <a id="6870" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre>-->
<pre class="Agda"><a id="6891" class="Keyword">module</a> <a id="6898" href="Protocol.Streamlet.Decidability.html#6898" class="Module">_</a> <a id="6900" class="Symbol">{</a><a id="6901" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a> <a id="6903" class="Symbol">:</a> <a id="6905" href="Protocol.Streamlet.Base.html#83" class="Function">Epoch</a><a id="6910" class="Symbol">}</a> <a id="6912" class="Symbol">(</a><a id="6913" class="Keyword">let</a> <a id="6917" href="Protocol.Streamlet.Decidability.html#6917" class="Bound">L</a> <a id="6919" class="Symbol">=</a> <a id="6921" href="Protocol.Streamlet.Assumptions.html#684" class="Field">epochLeader</a> <a id="6933" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a><a id="6934" class="Symbol">)</a> <a id="6936" class="Symbol">{</a><a id="6937" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="6940" class="Symbol">:</a> <a id="6942" href="Protocol.Streamlet.Local.State.html#883" class="Record">LocalState</a><a id="6952" class="Symbol">}</a> <a id="6954" class="Keyword">where</a>
  <a id="6962" href="Protocol.Streamlet.Decidability.html#6962" class="Function">ProposeBlock?</a> <a id="6976" class="Symbol">:</a> <a id="6978" class="Symbol">∀</a> <a id="6980" href="Protocol.Streamlet.Decidability.html#6980" class="Bound">ch</a> <a id="6983" href="Protocol.Streamlet.Decidability.html#6983" class="Bound">txs</a> <a id="6987" class="Symbol">→</a>
    <a id="6993" class="Keyword">let</a>
      <a id="7003" href="Protocol.Streamlet.Decidability.html#7003" class="Bound">h</a> <a id="7005" class="Symbol">=</a> <a id="7007" href="Protocol.Streamlet.Decidability.html#6980" class="Bound">ch</a> <a id="7010" href="Hash.html#366" class="Field Operator">♯</a>
      <a id="7018" href="Protocol.Streamlet.Decidability.html#7018" class="Bound">b</a> <a id="7020" class="Symbol">=</a> <a id="7022" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">⟨</a> <a id="7024" href="Protocol.Streamlet.Decidability.html#7003" class="Bound">h</a> <a id="7026" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">,</a> <a id="7028" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a> <a id="7030" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">,</a> <a id="7032" href="Protocol.Streamlet.Decidability.html#6983" class="Bound">txs</a> <a id="7036" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">⟩</a>
      <a id="7044" href="Protocol.Streamlet.Decidability.html#7044" class="Bound">m</a> <a id="7046" class="Symbol">=</a> <a id="7048" href="Protocol.Streamlet.Message.html#321" class="InductiveConstructor">Propose</a> <a id="7056" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7058" href="Protocol.Streamlet.Block.html#1598" class="Function">signBlock</a> <a id="7068" href="Protocol.Streamlet.Decidability.html#6917" class="Bound">L</a> <a id="7070" href="Protocol.Streamlet.Decidability.html#7018" class="Bound">b</a>
    <a id="7076" class="Keyword">in</a>
    <a id="7083" class="Symbol">{</a><a id="7084" href="Protocol.Streamlet.Decidability.html#7084" class="Symbol">_</a> <a id="7086" class="Symbol">:</a> <a id="7088" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7094" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7097" class="Symbol">.</a><a id="7098" href="Protocol.Streamlet.Local.State.html#939" class="Field">phase</a> <a id="7104" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7106" href="Protocol.Streamlet.Local.State.html#518" class="InductiveConstructor">Ready</a><a id="7111" class="Symbol">}</a>
    <a id="7117" class="Symbol">{</a><a id="7118" href="Protocol.Streamlet.Decidability.html#7118" class="Symbol">_</a> <a id="7120" class="Symbol">:</a> <a id="7122" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7128" href="Protocol.Streamlet.Decidability.html#6980" class="Bound">ch</a> <a id="7131" href="Protocol.Streamlet.Local.State.html#5503" class="Function Operator">longest-notarized-chain-∈</a> <a id="7157" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7160" class="Symbol">.</a><a id="7161" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="7163" class="Symbol">}</a>
    <a id="7169" class="Symbol">{</a><a id="7170" href="Protocol.Streamlet.Decidability.html#7170" class="Symbol">_</a> <a id="7172" class="Symbol">:</a> <a id="7174" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7180" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="7191" class="Symbol">(</a><a id="7192" href="Protocol.Streamlet.Decidability.html#7018" class="Bound">b</a> <a id="7194" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7196" href="Protocol.Streamlet.Decidability.html#6980" class="Bound">ch</a><a id="7198" class="Symbol">)}</a>
    <a id="7205" class="Symbol">→</a> <a id="7207" href="Protocol.Streamlet.Decidability.html#6917" class="Bound">L</a> <a id="7209" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">▷</a> <a id="7211" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a> <a id="7213" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">⊢</a> <a id="7215" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7218" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">—[</a> <a id="7221" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7226" href="Protocol.Streamlet.Decidability.html#7044" class="Bound">m</a> <a id="7228" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">]→</a> <a id="7231" href="Protocol.Streamlet.Local.Step.html#499" class="Function">proposeBlock</a> <a id="7244" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7247" href="Protocol.Streamlet.Decidability.html#7044" class="Bound">m</a>
  <a id="7251" href="Protocol.Streamlet.Decidability.html#6962" class="Function">ProposeBlock?</a> <a id="7265" class="Symbol">_</a> <a id="7267" class="Symbol">_</a> <a id="7269" class="Symbol">{</a><a id="7270" href="Protocol.Streamlet.Decidability.html#7270" class="Bound">p</a><a id="7271" class="Symbol">}{</a><a id="7273" href="Protocol.Streamlet.Decidability.html#7273" class="Bound">q</a><a id="7274" class="Symbol">}{</a><a id="7276" href="Protocol.Streamlet.Decidability.html#7276" class="Bound">r</a><a id="7277" class="Symbol">}</a> <a id="7279" class="Symbol">=</a>
    <a id="7285" href="Protocol.Streamlet.Local.Step.html#1314" class="InductiveConstructor">ProposeBlock</a> <a id="7298" class="Symbol">(</a><a id="7299" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7309" href="Protocol.Streamlet.Decidability.html#7270" class="Bound">p</a><a id="7310" class="Symbol">)</a> <a id="7312" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7317" class="Symbol">(</a><a id="7318" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7328" href="Protocol.Streamlet.Decidability.html#7273" class="Bound">q</a><a id="7329" class="Symbol">)</a> <a id="7331" class="Symbol">(</a><a id="7332" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7342" href="Protocol.Streamlet.Decidability.html#7276" class="Bound">r</a><a id="7343" class="Symbol">)</a>

  <a id="7348" href="Protocol.Streamlet.Decidability.html#7348" class="Function">VoteBlock?</a> <a id="7359" class="Symbol">:</a> <a id="7361" class="Symbol">∀</a> <a id="7363" href="Protocol.Streamlet.Decidability.html#7363" class="Bound">p</a> <a id="7365" href="Protocol.Streamlet.Decidability.html#7365" class="Bound">ch</a> <a id="7368" href="Protocol.Streamlet.Decidability.html#7368" class="Bound">txs</a> <a id="7372" class="Symbol">→</a>
    <a id="7378" class="Keyword">let</a>
      <a id="7388" href="Protocol.Streamlet.Decidability.html#7388" class="Bound">b</a>  <a id="7391" class="Symbol">=</a> <a id="7393" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">⟨</a> <a id="7395" href="Protocol.Streamlet.Decidability.html#7365" class="Bound">ch</a> <a id="7398" href="Hash.html#366" class="Field Operator">♯</a> <a id="7400" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">,</a> <a id="7402" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a> <a id="7404" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">,</a> <a id="7406" href="Protocol.Streamlet.Decidability.html#7368" class="Bound">txs</a> <a id="7410" href="Protocol.Streamlet.Block.html#290" class="InductiveConstructor Operator">⟩</a>
      <a id="7418" href="Protocol.Streamlet.Decidability.html#7418" class="Bound">mᵖ</a> <a id="7421" class="Symbol">=</a> <a id="7423" href="Protocol.Streamlet.Message.html#321" class="InductiveConstructor">Propose</a> <a id="7431" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7433" href="Protocol.Streamlet.Block.html#1598" class="Function">signBlock</a> <a id="7443" href="Protocol.Streamlet.Decidability.html#6917" class="Bound">L</a> <a id="7445" href="Protocol.Streamlet.Decidability.html#7388" class="Bound">b</a>
      <a id="7453" href="Protocol.Streamlet.Decidability.html#7453" class="Bound">m</a>  <a id="7456" class="Symbol">=</a> <a id="7458" href="Protocol.Streamlet.Message.html#329" class="InductiveConstructor">Vote</a>    <a id="7466" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7468" href="Protocol.Streamlet.Block.html#1598" class="Function">signBlock</a> <a id="7478" href="Protocol.Streamlet.Decidability.html#7363" class="Bound">p</a> <a id="7480" href="Protocol.Streamlet.Decidability.html#7388" class="Bound">b</a>
    <a id="7486" class="Keyword">in</a>
    <a id="7493" class="Symbol">{</a><a id="7494" href="Protocol.Streamlet.Decidability.html#7494" class="Bound">m∈</a> <a id="7497" class="Symbol">:</a> <a id="7499" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7505" href="Prelude.Irrelevance.html#816" class="Function">AnyFirst</a> <a id="7514" class="Symbol">(</a><a id="7515" href="Protocol.Streamlet.Decidability.html#7418" class="Bound">mᵖ</a> <a id="7518" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡_</a><a id="7520" class="Symbol">)</a> <a id="7522" class="Symbol">(</a><a id="7523" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7526" class="Symbol">.</a><a id="7527" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="7532" class="Symbol">)}</a>
    <a id="7539" class="Symbol">{</a><a id="7540" href="Protocol.Streamlet.Decidability.html#7540" class="Symbol">_</a> <a id="7542" class="Symbol">:</a> <a id="7544" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7550" href="Protocol.Streamlet.Block.html#1598" class="Function">signBlock</a> <a id="7560" href="Protocol.Streamlet.Decidability.html#6917" class="Bound">L</a> <a id="7562" href="Protocol.Streamlet.Decidability.html#7388" class="Bound">b</a> <a id="7564" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="7566" href="Data.List.Base.html#1631" class="Function">map</a> <a id="7570" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="7584" class="Symbol">(</a><a id="7585" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7588" class="Symbol">.</a><a id="7589" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="7591" class="Symbol">)}</a>
    <a id="7598" class="Symbol">{</a><a id="7599" href="Protocol.Streamlet.Decidability.html#7599" class="Symbol">_</a> <a id="7601" class="Symbol">:</a> <a id="7603" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7609" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7612" class="Symbol">.</a><a id="7613" href="Protocol.Streamlet.Local.State.html#939" class="Field">phase</a> <a id="7619" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7621" href="Protocol.Streamlet.Local.State.html#518" class="InductiveConstructor">Ready</a><a id="7626" class="Symbol">}</a>
    <a id="7632" class="Symbol">{</a><a id="7633" href="Protocol.Streamlet.Decidability.html#7633" class="Symbol">_</a> <a id="7635" class="Symbol">:</a> <a id="7637" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7643" href="Protocol.Streamlet.Decidability.html#7363" class="Bound">p</a> <a id="7645" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7647" href="Protocol.Streamlet.Decidability.html#6917" class="Bound">L</a><a id="7648" class="Symbol">}</a>
    <a id="7654" class="Symbol">{</a><a id="7655" href="Protocol.Streamlet.Decidability.html#7655" class="Symbol">_</a> <a id="7657" class="Symbol">:</a> <a id="7659" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7665" href="Protocol.Streamlet.Decidability.html#7365" class="Bound">ch</a> <a id="7668" href="Protocol.Streamlet.Local.State.html#5503" class="Function Operator">longest-notarized-chain-∈</a> <a id="7694" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7697" class="Symbol">.</a><a id="7698" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="7700" class="Symbol">}</a>
    <a id="7706" class="Symbol">{</a><a id="7707" href="Protocol.Streamlet.Decidability.html#7707" class="Symbol">_</a> <a id="7709" class="Symbol">:</a> <a id="7711" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="7717" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="7728" class="Symbol">(</a><a id="7729" href="Protocol.Streamlet.Decidability.html#7388" class="Bound">b</a> <a id="7731" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7733" href="Protocol.Streamlet.Decidability.html#7365" class="Bound">ch</a><a id="7735" class="Symbol">)}</a>
    <a id="7742" class="Symbol">→</a> <a id="7744" href="Protocol.Streamlet.Decidability.html#7363" class="Bound">p</a> <a id="7746" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">▷</a> <a id="7748" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a> <a id="7750" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">⊢</a> <a id="7752" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7755" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">—[</a> <a id="7758" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7763" href="Protocol.Streamlet.Decidability.html#7453" class="Bound">m</a> <a id="7765" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">]→</a> <a id="7768" href="Protocol.Streamlet.Local.Step.html#624" class="Function">voteBlock</a> <a id="7778" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="7781" class="Symbol">(</a><a id="7782" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7792" href="Protocol.Streamlet.Decidability.html#7494" class="Bound">m∈</a><a id="7794" class="Symbol">)</a> <a id="7796" href="Protocol.Streamlet.Decidability.html#7453" class="Bound">m</a>
  <a id="7800" href="Protocol.Streamlet.Decidability.html#7348" class="Function">VoteBlock?</a> <a id="7811" class="Symbol">_</a> <a id="7813" class="Symbol">_</a> <a id="7815" class="Symbol">_</a> <a id="7817" class="Symbol">{</a><a id="7818" href="Protocol.Streamlet.Decidability.html#7818" class="Bound">p</a><a id="7819" class="Symbol">}{</a><a id="7821" href="Protocol.Streamlet.Decidability.html#7821" class="Bound">q</a><a id="7822" class="Symbol">}{</a><a id="7824" href="Protocol.Streamlet.Decidability.html#7824" class="Bound">r</a><a id="7825" class="Symbol">}{</a><a id="7827" href="Protocol.Streamlet.Decidability.html#7827" class="Bound">w</a><a id="7828" class="Symbol">}{</a><a id="7830" href="Protocol.Streamlet.Decidability.html#7830" class="Bound">x</a><a id="7831" class="Symbol">}{</a><a id="7833" href="Protocol.Streamlet.Decidability.html#7833" class="Bound">s</a><a id="7834" class="Symbol">}</a> <a id="7836" class="Symbol">=</a>
    <a id="7842" href="Protocol.Streamlet.Local.Step.html#1710" class="InductiveConstructor">VoteBlock</a> <a id="7852" class="Symbol">(</a><a id="7853" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7863" href="Protocol.Streamlet.Decidability.html#7818" class="Bound">p</a><a id="7864" class="Symbol">)</a> <a id="7866" class="Symbol">(</a><a id="7867" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7877" href="Protocol.Streamlet.Decidability.html#7821" class="Bound">q</a><a id="7878" class="Symbol">)</a> <a id="7880" class="Symbol">(</a><a id="7881" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7891" href="Protocol.Streamlet.Decidability.html#7824" class="Bound">r</a><a id="7892" class="Symbol">)</a> <a id="7894" class="Symbol">(</a><a id="7895" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7905" href="Protocol.Streamlet.Decidability.html#7827" class="Bound">w</a><a id="7906" class="Symbol">)</a> <a id="7908" class="Symbol">(</a><a id="7909" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7919" href="Protocol.Streamlet.Decidability.html#7830" class="Bound">x</a><a id="7920" class="Symbol">)</a> <a id="7922" class="Symbol">(</a><a id="7923" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="7933" href="Protocol.Streamlet.Decidability.html#7833" class="Bound">s</a><a id="7934" class="Symbol">)</a>

  <a id="7939" href="Protocol.Streamlet.Decidability.html#7939" class="Function">RegisterVote?</a> <a id="7953" class="Symbol">:</a> <a id="7955" class="Symbol">∀</a> <a id="7957" href="Protocol.Streamlet.Decidability.html#7957" class="Bound">p</a> <a id="7959" href="Protocol.Streamlet.Decidability.html#7959" class="Bound">m</a>
    <a id="7965" class="Symbol">⦃</a> <a id="7967" href="Protocol.Streamlet.Decidability.html#7967" class="Symbol">_</a> <a id="7969" class="Symbol">:</a> <a id="7971" href="Protocol.Streamlet.Decidability.html#7959" class="Bound">m</a> <a id="7973" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7975" href="Protocol.Streamlet.Message.html#329" class="InductiveConstructor">Vote</a> <a id="7980" href="Protocol.Streamlet.Block.html#1720" class="Generalizable">sb</a> <a id="7983" class="Symbol">⦄</a>
    <a id="7989" class="Symbol">{</a><a id="7990" href="Protocol.Streamlet.Decidability.html#7990" class="Bound">m∈</a> <a id="7993" class="Symbol">:</a> <a id="7995" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="8001" href="Protocol.Streamlet.Decidability.html#7959" class="Bound">m</a> <a id="8003" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="8005" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="8008" class="Symbol">.</a><a id="8009" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="8014" class="Symbol">}</a>
    <a id="8020" class="Symbol">{</a><a id="8021" href="Protocol.Streamlet.Decidability.html#8021" class="Symbol">_</a> <a id="8023" class="Symbol">:</a> <a id="8025" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="8031" href="Protocol.Streamlet.Decidability.html#7959" class="Bound">m</a> <a id="8033" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">∙signedBlock</a> <a id="8046" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="8048" href="Data.List.Base.html#1631" class="Function">map</a> <a id="8052" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="8066" class="Symbol">(</a><a id="8067" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="8070" class="Symbol">.</a><a id="8071" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="8073" class="Symbol">)}</a>
    <a id="8080" class="Symbol">→</a> <a id="8082" href="Protocol.Streamlet.Decidability.html#7957" class="Bound">p</a> <a id="8084" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">▷</a> <a id="8086" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a> <a id="8088" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">⊢</a> <a id="8090" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="8093" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">—[</a> <a id="8096" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="8104" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">]→</a> <a id="8107" href="Protocol.Streamlet.Local.Step.html#847" class="Function">registerVote</a> <a id="8120" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="8123" class="Symbol">(</a><a id="8124" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="8134" href="Protocol.Streamlet.Decidability.html#7990" class="Bound">m∈</a><a id="8136" class="Symbol">)</a>
  <a id="8140" href="Protocol.Streamlet.Decidability.html#7939" class="Function">RegisterVote?</a> <a id="8154" class="Symbol">_</a> <a id="8156" class="Symbol">_</a> <a id="8158" class="Symbol">⦃</a> <a id="8160" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8165" class="Symbol">⦄</a> <a id="8167" class="Symbol">{</a><a id="8168" href="Protocol.Streamlet.Decidability.html#8168" class="Bound">p</a><a id="8169" class="Symbol">}{</a><a id="8171" href="Protocol.Streamlet.Decidability.html#8171" class="Bound">q</a><a id="8172" class="Symbol">}</a> <a id="8174" class="Symbol">=</a> <a id="8176" href="Protocol.Streamlet.Local.Step.html#2361" class="InductiveConstructor">RegisterVote</a> <a id="8189" class="Symbol">(</a><a id="8190" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="8200" href="Protocol.Streamlet.Decidability.html#8168" class="Bound">p</a><a id="8201" class="Symbol">)</a> <a id="8203" class="Symbol">(</a><a id="8204" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="8214" href="Protocol.Streamlet.Decidability.html#8171" class="Bound">q</a><a id="8215" class="Symbol">)</a>

  <a id="8220" href="Protocol.Streamlet.Decidability.html#8220" class="Function">FinalizeBlock?</a> <a id="8235" class="Symbol">:</a> <a id="8237" class="Symbol">∀</a> <a id="8239" href="Protocol.Streamlet.Decidability.html#8239" class="Bound">p</a> <a id="8241" href="Protocol.Streamlet.Decidability.html#8241" class="Bound">ch</a> <a id="8244" href="Protocol.Streamlet.Decidability.html#8244" class="Bound">b</a> <a id="8246" class="Symbol">→</a>
    <a id="8252" class="Symbol">{</a><a id="8253" href="Protocol.Streamlet.Decidability.html#8253" class="Symbol">_</a> <a id="8255" class="Symbol">:</a> <a id="8257" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="8263" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="8274" class="Symbol">(</a><a id="8275" href="Protocol.Streamlet.Decidability.html#8244" class="Bound">b</a> <a id="8277" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8279" href="Protocol.Streamlet.Decidability.html#8241" class="Bound">ch</a><a id="8281" class="Symbol">)}</a>
    <a id="8288" class="Symbol">{</a><a id="8289" href="Protocol.Streamlet.Decidability.html#8289" class="Symbol">_</a> <a id="8291" class="Symbol">:</a> <a id="8293" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="8299" href="Protocol.Streamlet.Local.State.html#3689" class="Datatype">FinalizedChain</a> <a id="8314" class="Symbol">(</a><a id="8315" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="8318" class="Symbol">.</a><a id="8319" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="8321" class="Symbol">)</a> <a id="8323" href="Protocol.Streamlet.Decidability.html#8241" class="Bound">ch</a> <a id="8326" href="Protocol.Streamlet.Decidability.html#8244" class="Bound">b</a><a id="8327" class="Symbol">}</a>
    <a id="8333" class="Symbol">→</a> <a id="8335" href="Protocol.Streamlet.Decidability.html#8239" class="Bound">p</a> <a id="8337" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">▷</a> <a id="8339" href="Protocol.Streamlet.Decidability.html#6901" class="Bound">e</a> <a id="8341" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">⊢</a> <a id="8343" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a> <a id="8346" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">—[</a> <a id="8349" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="8357" href="Protocol.Streamlet.Local.Step.html#1181" class="Datatype Operator">]→</a> <a id="8360" href="Protocol.Streamlet.Local.Step.html#1007" class="Function">finalize</a> <a id="8369" href="Protocol.Streamlet.Decidability.html#8241" class="Bound">ch</a> <a id="8372" href="Protocol.Streamlet.Decidability.html#6937" class="Bound">ls</a>
  <a id="8377" href="Protocol.Streamlet.Decidability.html#8220" class="Function">FinalizeBlock?</a> <a id="8392" class="Symbol">_</a> <a id="8394" class="Symbol">_</a> <a id="8396" class="Symbol">_</a> <a id="8398" class="Symbol">{</a><a id="8399" href="Protocol.Streamlet.Decidability.html#8399" class="Bound">p</a><a id="8400" class="Symbol">}{</a><a id="8402" href="Protocol.Streamlet.Decidability.html#8402" class="Bound">q</a><a id="8403" class="Symbol">}</a> <a id="8405" class="Symbol">=</a> <a id="8407" href="Protocol.Streamlet.Local.Step.html#2751" class="InductiveConstructor">FinalizeBlock</a> <a id="8421" class="Symbol">_</a> <a id="8423" class="Symbol">_</a> <a id="8425" class="Symbol">(</a><a id="8426" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="8436" href="Protocol.Streamlet.Decidability.html#8399" class="Bound">p</a><a id="8437" class="Symbol">)</a> <a id="8439" class="Symbol">(</a><a id="8440" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="8450" href="Protocol.Streamlet.Decidability.html#8402" class="Bound">q</a><a id="8451" class="Symbol">)</a>

<a id="8454" class="Keyword">module</a> <a id="8461" href="Protocol.Streamlet.Decidability.html#8461" class="Module">_</a> <a id="8463" class="Symbol">{</a><a id="8464" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="8466" class="Symbol">:</a> <a id="8468" href="Protocol.Streamlet.Global.State.html#663" class="Record">GlobalState</a><a id="8479" class="Symbol">}</a> <a id="8481" class="Keyword">where</a>

  <a id="8490" class="Keyword">module</a> <a id="8497" href="Protocol.Streamlet.Decidability.html#8497" class="Module">_</a> <a id="8499" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="8501" class="Symbol">⦃</a> <a id="8503" href="Protocol.Streamlet.Decidability.html#8503" class="Bound">_</a> <a id="8505" class="Symbol">:</a> <a id="8507" href="Protocol.Streamlet.Assumptions.html#1062" class="Field">Honest</a> <a id="8514" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="8516" class="Symbol">⦄</a> <a id="8518" class="Symbol">(</a><a id="8519" class="Keyword">let</a> <a id="8523" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="8526" class="Symbol">=</a> <a id="8528" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="8530" href="Protocol.Streamlet.Global.State.html#1568" class="Function Operator">＠</a> <a id="8532" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a><a id="8533" class="Symbol">;</a> <a id="8535" href="Protocol.Streamlet.Decidability.html#8535" class="Bound">e</a> <a id="8537" class="Symbol">=</a> <a id="8539" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="8541" class="Symbol">.</a><a id="8542" href="Protocol.Streamlet.Global.State.html#728" class="Field">e-now</a><a id="8547" class="Symbol">)</a>
    <a id="8553" class="Keyword">where</a>
    <a id="8563" href="Protocol.Streamlet.Decidability.html#8563" class="Function">Propose?</a> <a id="8572" class="Symbol">:</a> <a id="8574" class="Symbol">∀</a> <a id="8576" href="Protocol.Streamlet.Decidability.html#8576" class="Bound">ch</a> <a id="8579" href="Protocol.Streamlet.Decidability.html#8579" class="Bound">txs</a> <a id="8583" class="Symbol">→</a> <a id="8585" class="Keyword">let</a> <a id="8589" class="Keyword">open</a> <a id="8594" href="Protocol.Streamlet.Global.Step.html#3153" class="Module">∣ProposeBlock∣</a> <a id="8609" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="8611" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="8613" href="Protocol.Streamlet.Decidability.html#8576" class="Bound">ch</a> <a id="8616" href="Protocol.Streamlet.Decidability.html#8579" class="Bound">txs</a> <a id="8620" class="Keyword">in</a>
        <a id="8631" class="Keyword">let</a> <a id="8635" href="Protocol.Streamlet.Decidability.html#8635" class="Bound">ls′</a> <a id="8639" class="Symbol">=</a> <a id="8641" href="Protocol.Streamlet.Local.Step.html#499" class="Function">proposeBlock</a> <a id="8654" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="8657" href="Protocol.Streamlet.Global.Step.html#3352" class="Function">M</a> <a id="8659" class="Keyword">in</a>
        <a id="8670" class="Symbol">⦃</a> <a id="8672" href="Protocol.Streamlet.Decidability.html#8672" class="Symbol">_</a> <a id="8674" class="Symbol">:</a> <a id="8676" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="8678" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8680" href="Protocol.Streamlet.Global.Step.html#3221" class="Function">L</a> <a id="8682" class="Symbol">⦄</a>
        <a id="8692" class="Symbol">{</a><a id="8693" href="Protocol.Streamlet.Decidability.html#8693" class="Symbol">_</a> <a id="8695" class="Symbol">:</a> <a id="8697" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="8703" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="8706" class="Symbol">.</a><a id="8707" href="Protocol.Streamlet.Local.State.html#939" class="Field">phase</a> <a id="8713" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8715" href="Protocol.Streamlet.Local.State.html#518" class="InductiveConstructor">Ready</a> <a id="8721" class="Symbol">}</a>
        <a id="8731" class="Symbol">{</a><a id="8732" href="Protocol.Streamlet.Decidability.html#8732" class="Symbol">_</a> <a id="8734" class="Symbol">:</a> <a id="8736" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="8742" href="Protocol.Streamlet.Decidability.html#8576" class="Bound">ch</a> <a id="8745" href="Protocol.Streamlet.Local.State.html#5503" class="Function Operator">longest-notarized-chain-∈</a> <a id="8771" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="8774" class="Symbol">.</a><a id="8775" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a> <a id="8778" class="Symbol">}</a>
        <a id="8788" class="Symbol">{</a><a id="8789" href="Protocol.Streamlet.Decidability.html#8789" class="Symbol">_</a> <a id="8791" class="Symbol">:</a> <a id="8793" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="8799" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="8810" class="Symbol">(</a><a id="8811" href="Protocol.Streamlet.Global.Step.html#3244" class="Function">B</a> <a id="8813" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8815" href="Protocol.Streamlet.Decidability.html#8576" class="Bound">ch</a><a id="8817" class="Symbol">)</a> <a id="8819" class="Symbol">}</a>
        <a id="8829" class="Symbol">→</a> <a id="8831" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="8833" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="8836" href="Protocol.Streamlet.Global.Step.html#1107" class="Function">broadcast</a> <a id="8846" href="Protocol.Streamlet.Global.Step.html#3221" class="Function">L</a> <a id="8848" class="Symbol">(</a><a id="8849" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8854" href="Protocol.Streamlet.Global.Step.html#3352" class="Function">M</a><a id="8855" class="Symbol">)</a> <a id="8857" class="Symbol">(</a><a id="8858" href="Protocol.Streamlet.Global.Step.html#562" class="Function">updateLocal</a> <a id="8870" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="8872" href="Protocol.Streamlet.Decidability.html#8635" class="Bound">ls′</a> <a id="8876" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a><a id="8877" class="Symbol">)</a>
    <a id="8883" href="Protocol.Streamlet.Decidability.html#8563" class="Function">Propose?</a> <a id="8892" class="Symbol">_</a> <a id="8894" class="Symbol">_</a> <a id="8896" class="Symbol">⦃</a> <a id="8898" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8903" class="Symbol">⦄</a> <a id="8905" class="Symbol">{</a><a id="8906" href="Protocol.Streamlet.Decidability.html#8906" class="Bound">p</a><a id="8907" class="Symbol">}{</a><a id="8909" href="Protocol.Streamlet.Decidability.html#8909" class="Bound">q</a><a id="8910" class="Symbol">}{</a><a id="8912" href="Protocol.Streamlet.Decidability.html#8912" class="Bound">r</a><a id="8913" class="Symbol">}</a> <a id="8915" class="Symbol">=</a>
      <a id="8923" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="8933" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8935" href="Protocol.Streamlet.Decidability.html#6962" class="Function">ProposeBlock?</a> <a id="8949" class="Symbol">_</a> <a id="8951" class="Symbol">_</a> <a id="8953" class="Symbol">{</a><a id="8954" href="Protocol.Streamlet.Decidability.html#8906" class="Bound">p</a><a id="8955" class="Symbol">}{</a><a id="8957" href="Protocol.Streamlet.Decidability.html#8909" class="Bound">q</a><a id="8958" class="Symbol">}{</a><a id="8960" href="Protocol.Streamlet.Decidability.html#8912" class="Bound">r</a><a id="8961" class="Symbol">}</a>

    <a id="8968" href="Protocol.Streamlet.Decidability.html#8968" class="Function">Vote?</a> <a id="8974" class="Symbol">:</a> <a id="8976" class="Symbol">∀</a> <a id="8978" href="Protocol.Streamlet.Decidability.html#8978" class="Bound">ch</a> <a id="8981" href="Protocol.Streamlet.Decidability.html#8981" class="Bound">txs</a> <a id="8985" class="Symbol">→</a> <a id="8987" class="Keyword">let</a> <a id="8991" class="Keyword">open</a> <a id="8996" href="Protocol.Streamlet.Global.Step.html#3396" class="Module">∣VoteBlock∣</a> <a id="9008" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="9010" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="9012" href="Protocol.Streamlet.Decidability.html#8978" class="Bound">ch</a> <a id="9015" href="Protocol.Streamlet.Decidability.html#8981" class="Bound">txs</a> <a id="9019" class="Keyword">in</a>
      <a id="9028" class="Symbol">{</a><a id="9029" href="Protocol.Streamlet.Decidability.html#9029" class="Bound">m∈</a> <a id="9032" class="Symbol">:</a> <a id="9034" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9040" href="Prelude.Irrelevance.html#816" class="Function">AnyFirst</a> <a id="9049" class="Symbol">(</a><a id="9050" href="Protocol.Streamlet.Global.Step.html#3584" class="Function">Mᵖ</a> <a id="9053" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡_</a><a id="9055" class="Symbol">)</a> <a id="9057" class="Symbol">(</a><a id="9058" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="9061" class="Symbol">.</a><a id="9062" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="9067" class="Symbol">)}</a>
      <a id="9076" class="Symbol">{</a><a id="9077" href="Protocol.Streamlet.Decidability.html#9077" class="Symbol">_</a> <a id="9079" class="Symbol">:</a> <a id="9081" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9087" href="Protocol.Streamlet.Block.html#1598" class="Function">signBlock</a> <a id="9097" href="Protocol.Streamlet.Global.Step.html#3471" class="Function">L</a> <a id="9099" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="9101" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="9103" href="Data.List.Base.html#1631" class="Function">map</a> <a id="9107" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="9121" class="Symbol">(</a><a id="9122" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="9125" class="Symbol">.</a><a id="9126" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="9128" class="Symbol">)}</a>
      <a id="9137" class="Symbol">{</a><a id="9138" href="Protocol.Streamlet.Decidability.html#9138" class="Symbol">_</a> <a id="9140" class="Symbol">:</a> <a id="9142" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9148" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="9151" class="Symbol">.</a><a id="9152" href="Protocol.Streamlet.Local.State.html#939" class="Field">phase</a> <a id="9158" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9160" href="Protocol.Streamlet.Local.State.html#518" class="InductiveConstructor">Ready</a><a id="9165" class="Symbol">}</a>
      <a id="9173" class="Symbol">{</a><a id="9174" href="Protocol.Streamlet.Decidability.html#9174" class="Symbol">_</a> <a id="9176" class="Symbol">:</a> <a id="9178" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9184" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="9186" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="9188" href="Protocol.Streamlet.Global.Step.html#3471" class="Function">L</a><a id="9189" class="Symbol">}</a>
      <a id="9197" class="Symbol">{</a><a id="9198" href="Protocol.Streamlet.Decidability.html#9198" class="Symbol">_</a> <a id="9200" class="Symbol">:</a> <a id="9202" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9208" href="Protocol.Streamlet.Decidability.html#8978" class="Bound">ch</a> <a id="9211" href="Protocol.Streamlet.Local.State.html#5503" class="Function Operator">longest-notarized-chain-∈</a> <a id="9237" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="9240" class="Symbol">.</a><a id="9241" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="9243" class="Symbol">}</a>
      <a id="9251" class="Symbol">{</a><a id="9252" href="Protocol.Streamlet.Decidability.html#9252" class="Symbol">_</a> <a id="9254" class="Symbol">:</a> <a id="9256" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9262" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="9273" class="Symbol">(</a><a id="9274" href="Protocol.Streamlet.Global.Step.html#3494" class="Function">B</a> <a id="9276" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9278" href="Protocol.Streamlet.Decidability.html#8978" class="Bound">ch</a><a id="9280" class="Symbol">)}</a>
      <a id="9289" class="Symbol">→</a> <a id="9291" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="9293" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="9296" href="Protocol.Streamlet.Global.Step.html#1107" class="Function">broadcast</a> <a id="9306" href="Protocol.Streamlet.Decidability.html#8499" class="Bound">p</a> <a id="9308" class="Symbol">(</a><a id="9309" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9314" href="Protocol.Streamlet.Global.Step.html#3565" class="Function">M</a><a id="9315" class="Symbol">)</a> <a id="9317" class="Symbol">_</a>
    <a id="9323" href="Protocol.Streamlet.Decidability.html#8968" class="Function">Vote?</a> <a id="9329" class="Symbol">_</a> <a id="9331" class="Symbol">_</a> <a id="9333" class="Symbol">{</a><a id="9334" href="Protocol.Streamlet.Decidability.html#9334" class="Bound">p</a><a id="9335" class="Symbol">}{</a><a id="9337" href="Protocol.Streamlet.Decidability.html#9337" class="Bound">q</a><a id="9338" class="Symbol">}{</a><a id="9340" href="Protocol.Streamlet.Decidability.html#9340" class="Bound">w</a><a id="9341" class="Symbol">}{</a><a id="9343" href="Protocol.Streamlet.Decidability.html#9343" class="Bound">x</a><a id="9344" class="Symbol">}{</a><a id="9346" href="Protocol.Streamlet.Decidability.html#9346" class="Bound">y</a><a id="9347" class="Symbol">}{</a><a id="9349" href="Protocol.Streamlet.Decidability.html#9349" class="Bound">z</a><a id="9350" class="Symbol">}</a> <a id="9352" class="Symbol">=</a>
      <a id="9360" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="9370" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9372" href="Protocol.Streamlet.Decidability.html#7348" class="Function">VoteBlock?</a> <a id="9383" class="Symbol">_</a> <a id="9385" class="Symbol">_</a> <a id="9387" class="Symbol">_</a> <a id="9389" class="Symbol">{</a><a id="9390" href="Protocol.Streamlet.Decidability.html#9334" class="Bound">p</a><a id="9391" class="Symbol">}{</a><a id="9393" href="Protocol.Streamlet.Decidability.html#9337" class="Bound">q</a><a id="9394" class="Symbol">}{</a><a id="9396" href="Protocol.Streamlet.Decidability.html#9340" class="Bound">w</a><a id="9397" class="Symbol">}{</a><a id="9399" href="Protocol.Streamlet.Decidability.html#9343" class="Bound">x</a><a id="9400" class="Symbol">}{</a><a id="9402" href="Protocol.Streamlet.Decidability.html#9346" class="Bound">y</a><a id="9403" class="Symbol">}{</a><a id="9405" href="Protocol.Streamlet.Decidability.html#9349" class="Bound">z</a><a id="9406" class="Symbol">}</a>

    <a id="9413" href="Protocol.Streamlet.Decidability.html#9413" class="Function">Register?</a> <a id="9423" class="Symbol">:</a> <a id="9425" class="Symbol">∀</a> <a id="9427" href="Protocol.Streamlet.Decidability.html#9427" class="Bound">m</a> <a id="9429" class="Symbol">→</a>
      <a id="9437" class="Symbol">⦃</a> <a id="9439" href="Protocol.Streamlet.Decidability.html#9439" class="Symbol">_</a> <a id="9441" class="Symbol">:</a> <a id="9443" href="Protocol.Streamlet.Decidability.html#9427" class="Bound">m</a> <a id="9445" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9447" href="Protocol.Streamlet.Message.html#329" class="InductiveConstructor">Vote</a> <a id="9452" href="Protocol.Streamlet.Block.html#1720" class="Generalizable">sb</a> <a id="9455" class="Symbol">⦄</a>
      <a id="9463" class="Symbol">{</a><a id="9464" href="Protocol.Streamlet.Decidability.html#9464" class="Bound">m∈</a> <a id="9467" class="Symbol">:</a> <a id="9469" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9475" href="Protocol.Streamlet.Decidability.html#9427" class="Bound">m</a> <a id="9477" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="9479" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="9482" class="Symbol">.</a><a id="9483" href="Protocol.Streamlet.Local.State.html#990" class="Field">inbox</a><a id="9488" class="Symbol">}</a>
      <a id="9496" class="Symbol">{</a><a id="9497" href="Protocol.Streamlet.Decidability.html#9497" class="Symbol">_</a> <a id="9499" class="Symbol">:</a> <a id="9501" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9507" href="Protocol.Streamlet.Decidability.html#9427" class="Bound">m</a> <a id="9509" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">∙signedBlock</a> <a id="9522" href="Data.List.Membership.Setoid.html#999" class="Function Operator">∉</a> <a id="9524" href="Data.List.Base.html#1631" class="Function">map</a> <a id="9528" href="Protocol.Streamlet.Block.html#2419" class="Field Operator">_∙signedBlock</a> <a id="9542" class="Symbol">(</a><a id="9543" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="9546" class="Symbol">.</a><a id="9547" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="9549" class="Symbol">)}</a>
      <a id="9558" class="Symbol">→</a> <a id="9560" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="9562" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="9565" class="Symbol">_</a>
    <a id="9571" href="Protocol.Streamlet.Decidability.html#9413" class="Function">Register?</a> <a id="9581" class="Symbol">_</a> <a id="9583" class="Symbol">⦃</a> <a id="9585" href="Protocol.Streamlet.Decidability.html#9585" class="Bound">m≡</a> <a id="9588" class="Symbol">⦄</a> <a id="9590" class="Symbol">{</a><a id="9591" href="Protocol.Streamlet.Decidability.html#9591" class="Bound">p</a><a id="9592" class="Symbol">}{</a><a id="9594" href="Protocol.Streamlet.Decidability.html#9594" class="Bound">q</a><a id="9595" class="Symbol">}</a> <a id="9597" class="Symbol">=</a>
      <a id="9605" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="9615" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9617" href="Protocol.Streamlet.Decidability.html#7939" class="Function">RegisterVote?</a> <a id="9631" class="Symbol">_</a> <a id="9633" class="Symbol">_</a> <a id="9635" class="Symbol">⦃</a> <a id="9637" href="Protocol.Streamlet.Decidability.html#9585" class="Bound">m≡</a> <a id="9640" class="Symbol">⦄</a> <a id="9642" class="Symbol">{</a><a id="9643" href="Protocol.Streamlet.Decidability.html#9591" class="Bound">p</a><a id="9644" class="Symbol">}{</a><a id="9646" href="Protocol.Streamlet.Decidability.html#9594" class="Bound">q</a><a id="9647" class="Symbol">}</a>

    <a id="9654" href="Protocol.Streamlet.Decidability.html#9654" class="Function">Finalize?</a> <a id="9664" class="Symbol">:</a> <a id="9666" class="Symbol">∀</a> <a id="9668" href="Protocol.Streamlet.Decidability.html#9668" class="Bound">ch</a> <a id="9671" href="Protocol.Streamlet.Decidability.html#9671" class="Bound">b</a> <a id="9673" class="Symbol">→</a>
      <a id="9681" class="Symbol">{</a><a id="9682" href="Protocol.Streamlet.Decidability.html#9682" class="Symbol">_</a> <a id="9684" class="Symbol">:</a> <a id="9686" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9692" href="Protocol.Streamlet.Local.Chain.html#1198" class="Datatype">ValidChain</a> <a id="9703" class="Symbol">(</a><a id="9704" href="Protocol.Streamlet.Decidability.html#9671" class="Bound">b</a> <a id="9706" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9708" href="Protocol.Streamlet.Decidability.html#9668" class="Bound">ch</a><a id="9710" class="Symbol">)}</a>
      <a id="9719" class="Symbol">{</a><a id="9720" href="Protocol.Streamlet.Decidability.html#9720" class="Symbol">_</a> <a id="9722" class="Symbol">:</a> <a id="9724" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9730" href="Protocol.Streamlet.Local.State.html#3689" class="Datatype">FinalizedChain</a> <a id="9745" class="Symbol">(</a><a id="9746" href="Protocol.Streamlet.Decidability.html#8523" class="Bound">ls</a> <a id="9749" class="Symbol">.</a><a id="9750" href="Protocol.Streamlet.Local.State.html#961" class="Field">db</a><a id="9752" class="Symbol">)</a> <a id="9754" href="Protocol.Streamlet.Decidability.html#9668" class="Bound">ch</a> <a id="9757" href="Protocol.Streamlet.Decidability.html#9671" class="Bound">b</a><a id="9758" class="Symbol">}</a>
      <a id="9766" class="Symbol">→</a> <a id="9768" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="9770" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="9773" class="Symbol">_</a>
    <a id="9779" href="Protocol.Streamlet.Decidability.html#9654" class="Function">Finalize?</a> <a id="9789" class="Symbol">_</a> <a id="9791" class="Symbol">_</a> <a id="9793" class="Symbol">{</a><a id="9794" href="Protocol.Streamlet.Decidability.html#9794" class="Bound">p</a><a id="9795" class="Symbol">}{</a><a id="9797" href="Protocol.Streamlet.Decidability.html#9797" class="Bound">q</a><a id="9798" class="Symbol">}</a> <a id="9800" class="Symbol">=</a>
      <a id="9808" href="Protocol.Streamlet.Global.Step.html#1649" class="InductiveConstructor">LocalStep</a> <a id="9818" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9820" href="Protocol.Streamlet.Decidability.html#8220" class="Function">FinalizeBlock?</a> <a id="9835" class="Symbol">_</a> <a id="9837" class="Symbol">_</a> <a id="9839" class="Symbol">_</a> <a id="9841" class="Symbol">{</a><a id="9842" href="Protocol.Streamlet.Decidability.html#9794" class="Bound">p</a><a id="9843" class="Symbol">}{</a><a id="9845" href="Protocol.Streamlet.Decidability.html#9797" class="Bound">q</a><a id="9846" class="Symbol">}</a>

  <a id="9851" class="Keyword">module</a> <a id="9858" href="Protocol.Streamlet.Decidability.html#9858" class="Module">_</a> <a id="9860" href="Protocol.Streamlet.Decidability.html#9860" class="Bound">env</a> <a id="9864" class="Symbol">{</a><a id="9865" href="Protocol.Streamlet.Decidability.html#9865" class="Bound">p</a> <a id="9867" class="Symbol">:</a> <a id="9869" href="Prelude.Decidable.html#1098" class="Function Operator">auto∶</a> <a id="9875" href="Protocol.Streamlet.Decidability.html#9860" class="Bound">env</a> <a id="9879" href="Data.List.Membership.Setoid.html#950" class="Function Operator">∈</a> <a id="9881" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="9883" class="Symbol">.</a><a id="9884" href="Protocol.Streamlet.Global.State.html#865" class="Field">networkBuffer</a><a id="9897" class="Symbol">}</a> <a id="9899" class="Keyword">where</a>
    <a id="9909" href="Protocol.Streamlet.Decidability.html#9909" class="Function">Deliver?</a> <a id="9918" class="Symbol">:</a> <a id="9920" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="9922" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="9925" class="Symbol">_</a>
    <a id="9931" href="Protocol.Streamlet.Decidability.html#9909" class="Function">Deliver?</a> <a id="9940" class="Symbol">=</a> <a id="9942" href="Protocol.Streamlet.Global.Step.html#2366" class="InductiveConstructor">Deliver</a> <a id="9950" class="Symbol">(</a><a id="9951" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="9961" href="Protocol.Streamlet.Decidability.html#9865" class="Bound">p</a><a id="9962" class="Symbol">)</a>

    <a id="9969" href="Protocol.Streamlet.Decidability.html#9969" class="Function">Drop?</a> <a id="9975" class="Symbol">:</a> <a id="9977" href="Protocol.Streamlet.Decidability.html#8464" class="Bound">s</a> <a id="9979" href="Protocol.Streamlet.Global.Step.html#1550" class="Datatype Operator">—→</a> <a id="9982" class="Symbol">_</a>
    <a id="9988" href="Protocol.Streamlet.Decidability.html#9969" class="Function">Drop?</a> <a id="9994" class="Symbol">=</a> <a id="9996" href="Protocol.Streamlet.Global.Step.html#2625" class="InductiveConstructor">Drop</a> <a id="10001" class="Symbol">(</a><a id="10002" href="Relation.Nullary.Decidable.Core.html#3758" class="Function">toWitness</a> <a id="10012" href="Protocol.Streamlet.Decidability.html#9865" class="Bound">p</a><a id="10013" class="Symbol">)</a>
</pre>
</body>
</html>
